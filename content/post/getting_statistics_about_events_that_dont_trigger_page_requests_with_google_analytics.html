+++
title = "Getting statistics about events that don't trigger page requests with Google Analytics"
date = "2007-06-24T19:27:42-04:00"
tags = ["web2.0", "drupal", "cakephp"]
guid = "18 at http://dieter.plaetinck.be"
+++
<p>You probably already heard of <a href="www.google.com/analytics">Google Analytics</a>.  It's a pretty nice program that (<em>basically</em>) gathers data about visits of your site and creates reports of it.  It works by including some JavaScript code on your page, so that each page request triggers a call to the Analytics tracker sending along some data such as which page is requested and which resolution was used. (no personal or other privacy-sensitive data is sent).  But here is the deal!  I just discovered that you can also track <a href="http://www.google.com/support/googleanalytics/bin/answer.py?answer=55597&amp;topic=11012">events that don't require page requests!</a><br />
Think of links to files or to external locations, JavaScript events (Ajax anyone?) or even Flash events (but who is crazy enough to use Flash anyway?).<!--more--></p>
<p>The principle is very easy: similar to normal page loads which trigger a call of the JavaScript function <em>urchinTracker()</em> you just add <em>onClick="javascript:urchinTracker('/this-is-something-i-want-to-track');"</em> to your hyperlink.<br />
You can even work with subdivisions.  The examples on the help pages for <a href="http://www.google.com/support/googleanalytics/bin/answer.py?answer=55529">download</a> and <a href="http://www.google.com/support/googleanalytics/bin/answer.py?answer=55527">outbound</a> links propose <em> urchinTracker('/downloads/map');</em> and <em><br />
urchinTracker('/outgoing/example_com');</em> respectively.</p>
<p>Now we also know why Google <a href="http://www.google.com/support/googleanalytics/bin/answer.py?answer=66983#0.1.1_step4">says</a> the "normal" tracking code should be put at the end of the page, right before the <em>&lt;/body&gt;</em> tag.  I always wondered why they recommend this weird location.  This is because calls like the ones above should happen prior to the "normal" one.</p>
<p>If only I had known this earlier.  I would love to have known an accurate number of downloads of my thesis text (and the number of unique downloaders) :-)</p>
<p>For those who don't have Google Analytics setup yet:<br />
<a href="drupal.org/">Drupal</a> users should install the <a href="http://drupal.org/node/49388">Drupal Google Analytics</a> module.<br />
<a href="www.cakephp.org/">CakePHP</a> users can put the <a href="http://www.google.com/support/googleanalytics/bin/answer.py?answer=66983#0.1.1_step4">Tracking code</a> in the layout file or even in an element.</p>
<p>Have fun tracking all events on your website!</p>
