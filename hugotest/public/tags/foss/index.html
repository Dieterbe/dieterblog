<!DOCTYPE html>

<html lang="en-us">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width">
	<title>Dieter&#39;s blog</title>
	<link rel="profile" href="http://gmpg.org/xfn/11">
	<!--[if lt IE 9]>
	<script src="http://localhost:1313//js/html5.js"></script>
	<![endif]-->
    
    <link href="http://localhost:1313//index.xml" rel="alternate" type="application/rss+xml" title="Dieter&#39;s blog" />

    <link rel='stylesheet' id='twentyfourteen-lato-css'  href='//fonts.googleapis.com/css?family=Lato%3A300%2C400%2C700%2C900%2C300italic%2C400italic%2C700italic&#038;subset=latin%2Clatin-ext' type='text/css' media='all' />

    <link rel='stylesheet' id='genericons-css' href='http://localhost:1313//genericons/genericons.css' type='text/css' media='all' />
	<link rel='stylesheet' id='twentyfourteen-style-css' href='http://localhost:1313//css/style.css' type='text/css' media='all' />
	
	<script type='text/javascript' src='http://localhost:1313//js/jquery/jquery.js'></script>
	<script type='text/javascript' src='http://localhost:1313//js/jquery/jquery-migrate.min.js'></script>
	<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
</head>

<body class="home blog masthead-fixed list-view full-width grid">
<div id="page" class="hfeed site">
	<header id="masthead" class="site-header" role="banner">
		<div class="header-main">
			<h1 class="site-title"><a href="http://localhost:1313//index.html" rel="home">Dieter&#39;s blog</a></h1>

			<div class="search-toggle">
				<a href="#search-container" class="screen-reader-text">Search</a>
			</div>

			<nav id="primary-navigation" class="site-navigation primary-navigation" role="navigation">
				<button class="menu-toggle">Primary Menu</button>
				<a class="screen-reader-text skip-link" href="#content">Skip to content</a>
				<div class="nav-menu">
					<ul>
						
						<li class="page_item"> 
							<a href="/">blog</a>
						</li>
						
						<li class="page_item"> 
							<a href="/about/">about</a>
						</li>
						
						<li class="page_item"> 
							<a href="/talks/">talks</a>
						</li>
						
						<li class="page_item"> 
							<a href="https://twitter.com/Dieter_be">tweets</a>
						</li>
						
						<li class="page_item"> 
							<a href="https://github.com/Dieterbe">Github</a>
						</li>
						
					</ul>
				</div>
			</nav>
		</div>

		<div id="search-container" class="search-box-wrapper hide">
			<div class="search-box">
                <script type="text/javascript">
    function site_search(obj) {
    	var host = window.location.host;
        obj.q.value = "site:" + host + " " + obj.ss_q.value;
    }
</script>

<aside id="search-3" class="widget widget_search">
	<form role="search" class="search-form" action="//www.google.com/search" method="get" onSubmit="site_search(this)">

	<input name="q" type="hidden" />
	    <label>
	        <span class="screen-reader-text">Search for:</span>
	        <input name="ss_q" type="text" placeholder="Search ..." class="search-field" />
	    </label>
	    <input type="submit" value="Search" class="search-submit" />
	</form>
</aside>
			</div>
		</div>
	</header>

	<div id="main" class="site-main">


<div id="main-content" class="main-content">

	<div id="primary" class="content-area">
		<div id="content" class="site-content" role="main">

			<header class="archive-header">
				<h1 class="archive-title">Content tagged "Foss"</h1>
			</header>

			
				<article class="post type-post status-publish format-standard hentry">

	
	<header class="entry-header">

	

		<div class="entry-meta">
			<span class="cat-links">
                
			</span>
		</div>

        <h1 class="entry-title"><a href="http://localhost:1313/post/poor_mans_pickle_implementations_benchmark/">Poor mans pickle implementations benchmark</a></h1>

		<div class="entry-meta">
			<span class="entry-date">
				<a href="http://localhost:1313/post/poor_mans_pickle_implementations_benchmark/" rel="bookmark">
					<time class="entry-date" datetime="2011-06-16 22:32:12 -0400 EDT">
						June 16, 2011
					</time>
				</a>
			</span>
		</div>

	</header>
	
	<div class="entry-content">
		<!--more-->

<p><a href="http://nlp.fi.muni.cz/projekty/gensim/">Gensim</a> is a very cool python2, numpy-based vector space modelling (information retrieval) framework.  It does the job in a straightforward way, and it has been a great project for me to learn python with because it uses some nice tricks in real life scenarios (like Generators) and is AFAICT elegantly coded.  Sometimes I find it hard to believe how much functionality can be crammed in so few lines of (readable) code.</p>



<p>But anyway we're having some issues in it with cPickle (it <a href="https://github.com/piskvorky/gensim/issues/31">breaks when saving large matrices</a>, it <a href="https://github.com/piskvorky/gensim/issues/30">breaks with some objects</a>).

For now I worked around it by using <a href="http://jsonpickle.github.com/">jsonpickle</a> but I wonder how viable this alternative really is.</p>



<p>To give at least a crude idea of performance characteristics of different pickle methods, I wrote a very simple benchmark program - <a href="https://github.com/Dieterbe/picklebench">picklebench</a> - to compare pickle, cPickle and jsonpickle.

The script fills a dictionary which gets bigger and bigger, and for certain sizes of dictionary it is saved to, and loaded from disk again.  We measure some metrics of each step.

We continue until memory is exhausted.</p>

<!--more-->

limitations of this benchmark:

<ul>

<li>effects of writing a new file, or overwriting existing file, and however the filesystem deals with that (efficiency, allocation of sectors on disk, etc) are ignored</li>

<li>no explicit flushing or warming of Linux block cache, ignoring writeback caches. (but that should be okay: every write is treated the same way, and reads always benefit from warm block cache)</li>

<li>I could ignore disk i/o by only doing serializing in memory, but that wouldn't be very realistic either, and speed is lower than sequential read/write speeds of my hard disk anyway</li>

<li>other running processes are ignored. (but my pc was pretty much idle otherwise)</li>

<li>all metrics are crude</li>

<li>all single runs</li>

<li>no garbage collection is being run. volatility of datastructures is completely ignored.  Assumes that measuring the RSS difference provides useful information.</li>

<li>Other than the obvious cPickle, I did not bother to look up if optimized implementations for some things exist (like json decoders)</li>

</ul>

You can easily <a href="https://github.com/Dieterbe/picklebench/blob/master/runall.sh">run the program</a> yourself, but here is the output I got, on my i3 540 @ 3.07GHz with 3GiB RAM.

<pre>

Testing JsonPickle

== 1000 ==

Stored in 0.01s. file size 0.05 MB. Speed 6.56 MB/s. RSS taken 0.23 MB. (4.34 MB per MB in file)

Loaded in 0.01s. Speed 9.30 MB/s. RSS taken 0.04 MB.  (0.71 MB per MB in file)

== 4000 ==

Stored in 0.03s. file size 0.21 MB. Speed 6.93 MB/s. RSS taken 0.45 MB. (2.16 MB per MB in file)

Loaded in 0.02s. Speed 9.54 MB/s. RSS taken 0.47 MB.  (2.23 MB per MB in file)

== 16000 ==

Stored in 0.13s. file size 0.85 MB. Speed 6.80 MB/s. RSS taken 0.86 MB. (1.00 MB per MB in file)

Loaded in 0.09s. Speed 9.55 MB/s. RSS taken 0.88 MB.  (1.04 MB per MB in file)

== 64000 ==

Stored in 0.50s. file size 3.44 MB. Speed 6.87 MB/s. RSS taken 4.02 MB. (1.17 MB per MB in file)

Loaded in 0.36s. Speed 9.44 MB/s. RSS taken 2.52 MB.  (0.73 MB per MB in file)

== 256000 ==

Stored in 2.10s. file size 13.97 MB. Speed 6.64 MB/s. RSS taken 17.24 MB. (1.23 MB per MB in file)

Loaded in 1.53s. Speed 9.15 MB/s. RSS taken 8.49 MB.  (0.61 MB per MB in file)

== 1024000 ==

Stored in 8.60s. file size 56.23 MB. Speed 6.54 MB/s. RSS taken 61.64 MB. (1.10 MB per MB in file)

Loaded in 6.27s. Speed 8.97 MB/s. RSS taken 95.99 MB.  (1.71 MB per MB in file)

== 4096000 ==

Stored in 38.80s. file size 228.26 MB. Speed 5.88 MB/s. RSS taken 181.83 MB. (0.80 MB per MB in file)

Loaded in 25.17s. Speed 9.07 MB/s. RSS taken 170.84 MB.  (0.75 MB per MB in file)

== 16384000 ==

Testing cPickle

Protocol 0

== 1000 ==

Stored in 0.01s. file size 0.01 MB. Speed 0.83 MB/s. RSS taken 0.05 MB. (5.95 MB per MB in file)

Loaded in 0.00s. Speed 9.02 MB/s. RSS taken 0.05 MB.  (5.04 MB per MB in file)

== 4000 ==

Stored in 0.00s. file size 0.04 MB. Speed 8.69 MB/s. RSS taken 0.10 MB. (2.52 MB per MB in file)

Loaded in 0.00s. Speed 15.43 MB/s. RSS taken 0.13 MB.  (3.26 MB per MB in file)

== 16000 ==

Stored in 0.01s. file size 0.17 MB. Speed 11.06 MB/s. RSS taken 0.13 MB. (0.79 MB per MB in file)

Loaded in 0.01s. Speed 16.82 MB/s. RSS taken 0.10 MB.  (0.60 MB per MB in file)

== 64000 ==

Stored in 0.06s. file size 0.69 MB. Speed 12.43 MB/s. RSS taken 0.12 MB. (0.17 MB per MB in file)

Loaded in 0.04s. Speed 17.25 MB/s. RSS taken 0.77 MB.  (1.11 MB per MB in file)

== 256000 ==

Stored in 0.22s. file size 2.96 MB. Speed 13.65 MB/s. RSS taken 0.18 MB. (0.06 MB per MB in file)

Loaded in 0.17s. Speed 17.49 MB/s. RSS taken 3.09 MB.  (1.04 MB per MB in file)

== 1024000 ==

Stored in 0.88s. file size 12.20 MB. Speed 13.93 MB/s. RSS taken 0.16 MB. (0.01 MB per MB in file)

Loaded in 0.69s. Speed 17.72 MB/s. RSS taken 12.38 MB.  (1.01 MB per MB in file)

== 4096000 ==

Stored in 3.52s. file size 52.14 MB. Speed 14.80 MB/s. RSS taken 0.05 MB. (0.00 MB per MB in file)

Loaded in 2.84s. Speed 18.37 MB/s. RSS taken 49.55 MB.  (0.95 MB per MB in file)

== 16384000 ==

Stored in 12.68s. file size 218.27 MB. Speed 17.22 MB/s. RSS taken 0.19 MB. (0.00 MB per MB in file)

Loaded in 11.59s. Speed 18.82 MB/s. RSS taken 198.20 MB.  (0.91 MB per MB in file)

Testing cPickle

Protocol 1

== 1000 ==

Stored in 0.00s. file size 0.00 MB. Speed 9.65 MB/s. RSS taken 0.05 MB. (11.10 MB per MB in file)

Loaded in 0.00s. Speed 9.31 MB/s. RSS taken 0.06 MB.  (12.81 MB per MB in file)

== 4000 ==

Stored in 0.00s. file size 0.02 MB. Speed 10.95 MB/s. RSS taken 0.10 MB. (4.95 MB per MB in file)

Loaded in 0.00s. Speed 11.15 MB/s. RSS taken 0.12 MB.  (6.19 MB per MB in file)

== 16000 ==

Stored in 0.02s. file size 0.08 MB. Speed 5.26 MB/s. RSS taken 0.13 MB. (1.64 MB per MB in file)

Loaded in 0.01s. Speed 11.77 MB/s. RSS taken 0.09 MB.  (1.13 MB per MB in file)

== 64000 ==

Stored in 0.03s. file size 0.32 MB. Speed 12.60 MB/s. RSS taken 0.12 MB. (0.37 MB per MB in file)

Loaded in 0.03s. Speed 11.48 MB/s. RSS taken 0.78 MB.  (2.43 MB per MB in file)

== 256000 ==

Stored in 0.10s. file size 1.66 MB. Speed 17.00 MB/s. RSS taken 0.18 MB. (0.11 MB per MB in file)

Loaded in 0.11s. Speed 14.50 MB/s. RSS taken 3.10 MB.  (1.86 MB per MB in file)

== 1024000 ==

Stored in 0.40s. file size 7.04 MB. Speed 17.76 MB/s. RSS taken 0.16 MB. (0.02 MB per MB in file)

Loaded in 0.45s. Speed 15.54 MB/s. RSS taken 12.39 MB.  (1.76 MB per MB in file)

== 4096000 ==

Stored in 1.59s. file size 28.55 MB. Speed 17.95 MB/s. RSS taken 0.05 MB. (0.00 MB per MB in file)

Loaded in 1.88s. Speed 15.20 MB/s. RSS taken 49.55 MB.  (1.74 MB per MB in file)

== 16384000 ==

Stored in 6.23s. file size 114.59 MB. Speed 18.40 MB/s. RSS taken 0.19 MB. (0.00 MB per MB in file)

Loaded in 7.18s. Speed 15.96 MB/s. RSS taken 198.21 MB.  (1.73 MB per MB in file)

Testing cPickle

Protocol 2

== 1000 ==

Stored in 0.00s. file size 0.00 MB. Speed 9.54 MB/s. RSS taken 0.05 MB. (11.10 MB per MB in file)

Loaded in 0.00s. Speed 8.92 MB/s. RSS taken 0.06 MB.  (12.81 MB per MB in file)

== 4000 ==

Stored in 0.00s. file size 0.02 MB. Speed 13.25 MB/s. RSS taken 0.10 MB. (4.95 MB per MB in file)

Loaded in 0.00s. Speed 11.39 MB/s. RSS taken 0.12 MB.  (6.19 MB per MB in file)

== 16000 ==

Stored in 0.01s. file size 0.08 MB. Speed 13.85 MB/s. RSS taken 0.13 MB. (1.64 MB per MB in file)

Loaded in 0.01s. Speed 10.77 MB/s. RSS taken 0.09 MB.  (1.13 MB per MB in file)

== 64000 ==

Stored in 0.02s. file size 0.32 MB. Speed 13.99 MB/s. RSS taken 0.12 MB. (0.37 MB per MB in file)

Loaded in 0.03s. Speed 11.45 MB/s. RSS taken 0.78 MB.  (2.43 MB per MB in file)

== 256000 ==

Stored in 0.10s. file size 1.66 MB. Speed 16.81 MB/s. RSS taken 0.18 MB. (0.11 MB per MB in file)

Loaded in 0.12s. Speed 14.31 MB/s. RSS taken 3.10 MB.  (1.86 MB per MB in file)

== 1024000 ==

Stored in 0.37s. file size 7.04 MB. Speed 19.15 MB/s. RSS taken 0.16 MB. (0.02 MB per MB in file)

Loaded in 0.45s. Speed 15.55 MB/s. RSS taken 12.39 MB.  (1.76 MB per MB in file)

== 4096000 ==

Stored in 1.58s. file size 28.55 MB. Speed 18.09 MB/s. RSS taken 0.05 MB. (0.00 MB per MB in file)

Loaded in 1.83s. Speed 15.61 MB/s. RSS taken 49.55 MB.  (1.74 MB per MB in file)

== 16384000 ==

Stored in 6.02s. file size 114.59 MB. Speed 19.04 MB/s. RSS taken 0.19 MB. (0.00 MB per MB in file)

Loaded in 7.32s. Speed 15.65 MB/s. RSS taken 198.21 MB.  (1.73 MB per MB in file)

Testing pickle

Protocol 0

== 1000 ==

Stored in 0.01s. file size 0.01 MB. Speed 1.17 MB/s. RSS taken 0.03 MB. (3.21 MB per MB in file)

Loaded in 0.04s. Speed 0.20 MB/s. RSS taken 0.06 MB.  (6.41 MB per MB in file)

== 4000 ==

Stored in 0.02s. file size 0.04 MB. Speed 1.91 MB/s. RSS taken 0.09 MB. (2.42 MB per MB in file)

Loaded in 0.02s. Speed 2.12 MB/s. RSS taken 0.12 MB.  (3.15 MB per MB in file)

== 16000 ==

Stored in 0.08s. file size 0.17 MB. Speed 2.00 MB/s. RSS taken 0.13 MB. (0.79 MB per MB in file)

Loaded in 0.07s. Speed 2.27 MB/s. RSS taken 0.09 MB.  (0.55 MB per MB in file)

== 64000 ==

Stored in 0.33s. file size 0.69 MB. Speed 2.08 MB/s. RSS taken 0.12 MB. (0.18 MB per MB in file)

Loaded in 0.29s. Speed 2.40 MB/s. RSS taken 0.77 MB.  (1.11 MB per MB in file)

== 256000 ==

Stored in 1.34s. file size 2.96 MB. Speed 2.21 MB/s. RSS taken 0.18 MB. (0.06 MB per MB in file)

Loaded in 1.17s. Speed 2.53 MB/s. RSS taken 3.09 MB.  (1.04 MB per MB in file)

== 1024000 ==

Stored in 5.33s. file size 12.20 MB. Speed 2.29 MB/s. RSS taken 0.16 MB. (0.01 MB per MB in file)

Loaded in 4.73s. Speed 2.58 MB/s. RSS taken 12.38 MB.  (1.01 MB per MB in file)

== 4096000 ==

Stored in 21.23s. file size 52.14 MB. Speed 2.46 MB/s. RSS taken 0.05 MB. (0.00 MB per MB in file)

Loaded in 18.63s. Speed 2.80 MB/s. RSS taken 49.55 MB.  (0.95 MB per MB in file)

== 16384000 ==

Stored in 85.09s. file size 218.27 MB. Speed 2.57 MB/s. RSS taken 0.19 MB. (0.00 MB per MB in file)

Loaded in 74.60s. Speed 2.93 MB/s. RSS taken 198.20 MB.  (0.91 MB per MB in file)

Testing pickle

Protocol 1

== 1000 ==

Stored in 0.01s. file size 0.00 MB. Speed 0.80 MB/s. RSS taken 0.06 MB. (11.96 MB per MB in file)

Loaded in 0.00s. Speed 1.56 MB/s. RSS taken 0.07 MB.  (14.52 MB per MB in file)

== 4000 ==

Stored in 0.02s. file size 0.02 MB. Speed 0.84 MB/s. RSS taken 0.10 MB. (4.95 MB per MB in file)

Loaded in 0.01s. Speed 1.65 MB/s. RSS taken 0.13 MB.  (6.61 MB per MB in file)

== 16000 ==

Stored in 0.09s. file size 0.08 MB. Speed 0.85 MB/s. RSS taken 0.13 MB. (1.64 MB per MB in file)

Loaded in 0.05s. Speed 1.68 MB/s. RSS taken 0.09 MB.  (1.13 MB per MB in file)

== 64000 ==

Stored in 0.38s. file size 0.32 MB. Speed 0.85 MB/s. RSS taken 0.10 MB. (0.32 MB per MB in file)

Loaded in 0.19s. Speed 1.67 MB/s. RSS taken 0.80 MB.  (2.51 MB per MB in file)

== 256000 ==

Stored in 1.49s. file size 1.66 MB. Speed 1.11 MB/s. RSS taken 0.19 MB. (0.11 MB per MB in file)

Loaded in 0.75s. Speed 2.21 MB/s. RSS taken 3.13 MB.  (1.88 MB per MB in file)

== 1024000 ==

Stored in 6.11s. file size 7.04 MB. Speed 1.15 MB/s. RSS taken 0.16 MB. (0.02 MB per MB in file)

Loaded in 2.99s. Speed 2.35 MB/s. RSS taken 12.45 MB.  (1.77 MB per MB in file)

== 4096000 ==

Stored in 24.40s. file size 28.55 MB. Speed 1.17 MB/s. RSS taken 0.06 MB. (0.00 MB per MB in file)

Loaded in 11.97s. Speed 2.39 MB/s. RSS taken 49.74 MB.  (1.74 MB per MB in file)

== 16384000 ==

Stored in 97.62s. file size 114.59 MB. Speed 1.17 MB/s. RSS taken 0.19 MB. (0.00 MB per MB in file)

Loaded in 48.04s. Speed 2.39 MB/s. RSS taken 198.88 MB.  (1.74 MB per MB in file)

Testing pickle

Protocol 2

== 1000 ==

Stored in 0.01s. file size 0.00 MB. Speed 0.78 MB/s. RSS taken 0.06 MB. (11.96 MB per MB in file)

Loaded in 0.00s. Speed 1.57 MB/s. RSS taken 0.07 MB.  (14.52 MB per MB in file)

== 4000 ==

Stored in 0.02s. file size 0.02 MB. Speed 0.85 MB/s. RSS taken 0.10 MB. (4.95 MB per MB in file)

Loaded in 0.01s. Speed 1.52 MB/s. RSS taken 0.13 MB.  (6.60 MB per MB in file)

== 16000 ==

Stored in 0.09s. file size 0.08 MB. Speed 0.85 MB/s. RSS taken 0.13 MB. (1.64 MB per MB in file)

Loaded in 0.05s. Speed 1.66 MB/s. RSS taken 0.09 MB.  (1.18 MB per MB in file)

== 64000 ==

Stored in 0.38s. file size 0.32 MB. Speed 0.85 MB/s. RSS taken 0.10 MB. (0.31 MB per MB in file)

Loaded in 0.19s. Speed 1.65 MB/s. RSS taken 0.80 MB.  (2.51 MB per MB in file)

== 256000 ==

Stored in 1.52s. file size 1.66 MB. Speed 1.09 MB/s. RSS taken 0.19 MB. (0.11 MB per MB in file)

Loaded in 0.76s. Speed 2.18 MB/s. RSS taken 3.13 MB.  (1.88 MB per MB in file)

== 1024000 ==

Stored in 6.19s. file size 7.04 MB. Speed 1.14 MB/s. RSS taken 0.16 MB. (0.02 MB per MB in file)

Loaded in 3.01s. Speed 2.34 MB/s. RSS taken 12.45 MB.  (1.77 MB per MB in file)

== 4096000 ==

Stored in 24.60s. file size 28.55 MB. Speed 1.16 MB/s. RSS taken 0.06 MB. (0.00 MB per MB in file)

Loaded in 12.06s. Speed 2.37 MB/s. RSS taken 49.74 MB.  (1.74 MB per MB in file)

== 16384000 ==

Stored in 98.38s. file size 114.59 MB. Speed 1.16 MB/s. RSS taken 0.19 MB. (0.00 MB per MB in file)

Loaded in 47.89s. Speed 2.39 MB/s. RSS taken 198.88 MB.  (1.74 MB per MB in file)

</pre>

Paraphrased:

<ul>

<li>JsonPickle needs more RSS then pickle/cPickle, and runs out of memory sooner. all pickle/cPickle runs need the same RSS</li>

<li>Protocol 1/2 need the same amount of diskspace, protocol 0 needs about the double, JsonPickle about 8 times more</li>

<li>Protocol 1/2 are as fast, protocol 0 is slower. cPickle is speed king.  Jsonpickle is slow</li>

</ul>

Conclusion:

<ul>

<li>Use cPickle or pickle, unless they are broken for your use case(s)</li>

<li>Consider persisting only your data in appropriate formats (textfile, database, ...). Often you don't really need to persist entire <i>objects</i>.  In the case of Gensim, we can also work with numpy's dataformat.</li>

<li>If you like json, or want a very simple workaround for cPickle/pickle brokenness, and you cannot use a more appropriate format (see above) consider jsonpickle</li>

</ul>

	</div>

	<footer class="entry-meta">
		<span class="tag-links">		
			
                <a href="http://localhost:1313//tags/foss/index.html" rel="tag">foss</a>
            
                <a href="http://localhost:1313//tags/python/index.html" rel="tag">python</a>
            
                <a href="http://localhost:1313//tags/perf/index.html" rel="tag">perf</a>
            
		</span>
	</footer>
</article> 

			
				<article class="post type-post status-publish format-standard hentry">

	
	<header class="entry-header">

	

		<div class="entry-meta">
			<span class="cat-links">
                
			</span>
		</div>

        <h1 class="entry-title"><a href="http://localhost:1313/post/where_are_the_new_arch_linux_images/">Where are the new Arch Linux release images?</a></h1>

		<div class="entry-meta">
			<span class="entry-date">
				<a href="http://localhost:1313/post/where_are_the_new_arch_linux_images/" rel="bookmark">
					<time class="entry-date" datetime="2011-05-17 21:29:58 -0400 EDT">
						May 17, 2011
					</time>
				</a>
			</span>
		</div>

	</header>
	
	<div class="entry-content">
		<!--more-->

<p>This is a question I get asked a lot recently.  The latest <a href="http://www.archlinux.org/download/">official images</a> are a year old.  This is not inherently bad, unless you pick the wrong mirror from the outdated mirrorlist during a netinstall, or are using hardware which is not supported by the year old kernel/drivers.  A core install will yield a system that needs drastic updating, which is a bit cumbersome.  There are probably some other problems I'm not aware of.  Many of these problems can be worked around (with 'pacman -Sy mirrorlist' on the install cd for example), but it's not exactly convenient.</p>



<p>Over the past years (the spare time in between <a href="/my_metalband.html">the band</a>, my search for an apartment in <a href="http://en.wikipedia.org/wiki/Ghent">Ghent</a> and a bunch of other things) I've worked towards fully refactoring and overthrowing how releases are being done.  Most of that is visible in the <a href="http://projects.archlinux.org/users/dieter/releng.git/">releng build environment repository</a>.

Every 3 days, the following happens automatically:

<ul>

<li>packages to build images (archiso) and some of which are included <i>on</i> the images (aif and libui-sh) get rebuilt.  They are actually git versions, the latter two have a separate develop branch which is used. Normal packages get updated the normal way.</li>

<li>the images are rebuilt, and the dual images get generated</li>

<li>the images, the packages and their sources are synced to the public on <a href="http://releng.archlinux.org/">http://releng.archlinux.org</a></li>

</ul>

Actually things are <a href="http://projects.archlinux.org/users/dieter/releng.git/tree/scripts/releng-build-and-release-testing.sh">bit more involved</a> but this is the gist of it.  All of this is now run on a <a href="https://wiki.archlinux.org/index.php/Category:DeveloperWiki:Server_Configuration#Releng_server_.28alberich.29">dedicated VPS</a> donated by <a href="http://www.airvm.com/">airVM</a>.</p>



<p>I never really completed the <a href="/aif_automatic_lvm_dm_crypt_installations_and_test_suite.html">aif automatic test suite</a>, somewhere along the way I decided to focus on crowdsourcing test results.

The weight of testing images (and all possible combinations of features) has always been huge, and trying to script tasks would either get way complicated or insufficient.

So the new approach is largely inspired by the core and testing repositories:  we automatically build testing images, people report feedback, and if there is sufficient feedback for a certain set of images (or a bunch of similar sets of images) that allows us to conclude we have some good material, we can promote the set to official media.

<br/>The latest piece of the puzzle is the new <a href="http://www.archlinux.org/releng/feedback/">releng feedback application</a> which <a href="http://zasshi-slash.blogspot.com/">Tom Willemsen</a> contributed. (again: outsourcing FTW).  It is still fairly basic, but should already be useful enough.  It lists pretty much all features you can use with archiso/AIF based images and automatically updates the list of isos based on what it sees appearing online, so I think it will be a good indicator on what works and what doesn't, and that for each known set of isos.</p>

<p>So there. <b>Bleeding edge images for everyone</b>, and for those who want some quality assurance: <b>the more you contribute, the more likely you'll see official releases</b>.



<p>While contributing feedback is now certainly very easy, don't think that only providing feedback is sufficient, it takes time to maintain and improve aif and archiso as well and contributions in that department are still very welcome.

I don't think we'll get to the <a href="http://www.archlinux.org/news/200902-iso-release/">original plan</a> of official archiso releases for each stable kernel version, that seems like a lot of work despite all the above.</p>



<p>As for what is new: again too much to list, here is a <a href="http://releng.archlinux.org/isos/Changelog">changelog</a> but I stopped updating it at some point.  I guess the most visible interesting stuff is friendlier package dialogs (with package descriptions), support for nilfs, btrfs and syslinux (thanks <a href="http://pyther.net/">Matthew Gyurgyik</a>), and an issues reporting tool.

Under the hood we refactored quite a bit, mostly blockdevice related stuff, config generation and the "execution plan" (like, how each function calls each other and how failures are tracked) in AIF has been simplified considerably.</p>



<!-- I used to be pedantic about details like "all packages installed in the live environment must be available in the official core/extra repositories but i might become a bit less strict.  or maybe not, it's not hard to switch to official packages. -->

	</div>

	<footer class="entry-meta">
		<span class="tag-links">		
			
                <a href="http://localhost:1313//tags/linux/index.html" rel="tag">linux</a>
            
                <a href="http://localhost:1313//tags/foss/index.html" rel="tag">foss</a>
            
                <a href="http://localhost:1313//tags/arch/index.html" rel="tag">arch</a>
            
		</span>
	</footer>
</article> 

			
				<article class="post type-post status-publish format-standard hentry">

	
	<header class="entry-header">

	

		<div class="entry-meta">
			<span class="cat-links">
                
			</span>
		</div>

        <h1 class="entry-title"><a href="http://localhost:1313/post/dvcs-autosync_an_opensource_dropbox_clone_well_almost/">Dvcs-autosync: An open source dropbox clone... well.. almost</a></h1>

		<div class="entry-meta">
			<span class="entry-date">
				<a href="http://localhost:1313/post/dvcs-autosync_an_opensource_dropbox_clone_well_almost/" rel="bookmark">
					<time class="entry-date" datetime="2011-03-26 21:48:56 -0400 EDT">
						March 26, 2011
					</time>
				</a>
			</span>
		</div>

	</header>
	
	<div class="entry-content">
		I found the Dvcs-autosync project on the <a href="http://lists.madduck.net/listinfo/vcs-home">vcs-home</a> mailing list,

which btw is a great list for folks who are doing stuff like maintaining their home directory in a vcs.

<br/>In short:

<ul>

<li>simple python tool (600 sloc), works with your dvcs of choice (mainly tested/used with git)</li>

<li>watches for inotify events, performs commits on changes (coalesces some changes together)</li>

<li>synchronizes with other clones (remotes), uses xmpp for push notifications</li>

<li>let's you know what's going on through libnotify popups or whatever</li>

<li><a href="http://mayrhofer.eu.org/dvcs-autosync">home page: http://mayrhofer.eu.org/dvcs-autosync</a></li>

<li><a href="http://gitorious.org/dvcs-autosync/dvcs-autosync">dvcs-autosync gitorious repo</a></li>

<li><a href="http://lists.madduck.net/pipermail/vcs-home/2011-March/000314.html">initial announcement on vcs-home</a></li>

</ul>

Use cases:

<!--more-->

<ul>

<li>you have one or more trees you want to maintain under a VCS (because you want vcs advantages like history and whatnot) but it's not worth to spend time comitting manually</li>

<li>you want to backup some files transparently</li>

<li>you want to share / work with others easily</li>

<li>you like the idea of dropbox, but not the closed-source-ness or the vendor dependence</li>

<li>you work mainly with relatively small files (or.. read on)</li>

</ul>

Thoughts:

<ul>

<li>very simple to get started</li>

<li>simpler (and imho saner) code and implementation in comparison to <a href="http://sparkleshare.org/">sparkleshare</a></li>

<li>bound to the limitations of the dvcs. In case of git: no support for ownership, xattrs, and less suited for bigger files (although <a href="http://git-annex.branchable.com/">git-annex</a> might help?)</li>

<li>You cannot store a git repo inside a git repo, I think (i.e. I don't think you can keep a -potentially dirty- git clone in dvcs-autosync)</li>

<li>For a real, filesystem-level dropbox-alike <a href="http://www.coda.cs.cmu.edu/">coda</a> might be a better option, though I'm not sure how useful that project is right now</li>

</ul>



If it sounds like something you need, try it out.  And contributions welcome.

<br/>Next up to the todolist: more clever heuristic for event coalescing, setting up bugtracker.



	</div>

	<footer class="entry-meta">
		<span class="tag-links">		
			
                <a href="http://localhost:1313//tags/foss/index.html" rel="tag">foss</a>
            
                <a href="http://localhost:1313//tags/python/index.html" rel="tag">python</a>
            
		</span>
	</footer>
</article> 

			
				<article class="post type-post status-publish format-standard hentry">

	
	<header class="entry-header">

	

		<div class="entry-meta">
			<span class="cat-links">
                
			</span>
		</div>

        <h1 class="entry-title"><a href="http://localhost:1313/post/why-rewriting-git-history-and-why-commits-imperative-present-tense/">Why rewriting git history? And why should commits be in imperative present tense?</a></h1>

		<div class="entry-meta">
			<span class="entry-date">
				<a href="http://localhost:1313/post/why-rewriting-git-history-and-why-commits-imperative-present-tense/" rel="bookmark">
					<time class="entry-date" datetime="2011-03-05 18:27:35 -0400 -0400">
						March 5, 2011
					</time>
				</a>
			</span>
		</div>

	</header>
	
	<div class="entry-content">
		<p>

There are tons of articles describing <em>how</em> you can rewrite history with git, but they do not answer "<em>why</em> should I do it?".

A similar question is "what are the tradeoffs / how do I apply this in my distributed workflow?".

<br/>Also, git developers strongly encourage/command you to write commit message in imperative present tense, but do not say why.  So, why?

<br/>I'll try to answer these to the best of my abilities, largely based on how I see things.  I won't get too detailed (there are enough manuals and tutorials for the exact concepts and commands).

<!--more-->

<h3>Why rewriting git history?</h3>

<p>

Just like source code git history gets mostly read and relatively infrequently written.

<br/>You read history when you want to see what has changed, when searching a bug, what the difference is between branches, and so on.

<br/>The argument of "I want the history to look like exactly how it really happened" is flawed, because very often your history is suboptimal (you commit a feature, and shortly afterwards you commit a fix for that feature, or a commit that contains separate logical changes/bugfixes)

<br/>This makes history more complicated to read then it should be, so for all the folks who will ever look back at your history (even if you think that will only be yourself) a clean history is more easy to "get", just like clean source code.

<br/>Also, part of the awesomeness of git is that juggling with features (needed for debugging, trying things out, ..) in your code is so flexible (see the git commit/branch model), but if you have logical changes spread over multiple commits, or one commit containing multiple logical changes, this gets painful very quickly.

<br/>Once you figure out history rewriting (and it's pretty easy to learn, really!) it only costs a little time to clean up your history, which will pay off in a much greater extent for every time you or somebody else wants to look at, or needs to work <i>with</i> it. (again, just like source code itself!)

<br/>This also means that you don't need to spend so much time thinking about your commit messages for commits that are merely fixups or small additions to other logical changes.  Because those will be squashed into the other commits anyway.

I usually commit frequently, but end up squashing many commits together, my commit log easily gets compressed by a factor two or more.  The less history, the better. (just like source code!)

<br/>The commits you actually push (especially when pushing to a master branch) should of course be clean, accuractly described and with correct author information, for obvious reasons such as readability.

</p>

<p>

Note that there is some kind of <i>paradox</i>: you can only achieve "perfect history" if your commits are well-tested and every introduced feature has no bugs (has all bugfix commits squashed into it), but at the same time, you can only properly expose new code by making it public, and it only gets widely used and tested if it's in your main (master) branch.

<br/>This is one of the reasons why a workflow model such as one based on topic branches (aka feature branches) works: you see, git by default doesn't allow non-fast-forward pushes.

Because you obviously don't want to break the history of other people following your stable (master branch) development.  So once you push to master, it should usually be there for good.

<br/>As far as I can see, it is accepted in most projects (those run by folks with git expertise?) to push non-fast-forward to topic branches.  The idea being a topic branch is a "work in progress" branch, it is made public so multiple people can review/work on it.  Based on that work/review, its history will often get rewritten through a non-fast-forward push.  And if you're following/working on such a branch, you should be clever enough to deal with changed history.

<br/>So, a topic branch allows you to make changes public, get feedback, clean up the history of the patchset you (and maybe others) are working on, and when satisfied, you can push to master.

<br/>There is still a chance you'll later need to push bugfixes to master, but this will happen much more infrequently, so while there is no perfect workflow model that creates perfect history (in master) combined with perfect usability (no need to handle non-fastforward pushes) I find this model brings a quite good compromise.

</p>



<p>

To paraphrase, I would say:

<br/><i>You should care about clean vcs history for the same reasons you should care about clean code</i>.

<br/>Just like using git is good to progressively help reaching better software, so is git history rewriting good for progressively reaching a better git history.  Version control on top of version control, if you will.  A very crude form of version control but I don't think it needs to be any more advanced then this.

</p>



<h3>Why should I write my commits in imperative present tense ('do foo') rather then past tense ('did foo')?</h3>

<p>

Git developers command doing this (at least for the <a href="http://repo.or.cz/w/git.git">git project</a>), but they did not document <em>why</em>'s.

Some commonly cited reasons:

<ul>

<li>Consistency.  That's how it is in many projects (including git itself). Also git tools that generate commits (like git merge or git revert) do it.</li>

<li>It's usually shorter</li>

<li>You can name commits more consistently with titles of tickets in your issue/feature tracker (which don't use past tense, although sometimes future)</li>

</ul>

Another reason I came up with: people not only read history to know "what happened to this codebase",

but also to answer questions like "what happens when I cherry-pick this commit", or "what kind of new things will happen to my code base because of these commits I may or may not merge in the future".

(Note that these are questions about the past,current and future)

This is more a subjective topic, but I feel that the best way to capture this time-independence of a commit is to write down as time-agnostic as possible,

and something like 'do foo' (which could be 'do foo in the future', for instance) is more generic then something with a sense of time hardwired in it ("did foo" or "will do foo")

</p>

<p>

See also

<ul>

<li><a href="http://git.kernel.org/?p=git/git.git;a=blob;f=Documentation/SubmittingPatches;h=ece3c77482b3ff006b973f1ed90b708e26556862;hb=HEAD">Git contributor guidelines</a></li>

<li><a href="http://progit.org/book/ch5-2.html">ProGit: contributing to a project</a></li>

<li><a href="http://en.wikibooks.org/wiki/Git/Introduction#Good_commit_messages">WikiBooks Git introduction</a></li>

</ul>

</p>

	</div>

	<footer class="entry-meta">
		<span class="tag-links">		
			
                <a href="http://localhost:1313//tags/foss/index.html" rel="tag">foss</a>
            
                <a href="http://localhost:1313//tags/git/index.html" rel="tag">git</a>
            
		</span>
	</footer>
</article> 

			
				<article class="post type-post status-publish format-standard hentry">

	
	<header class="entry-header">

	

		<div class="entry-meta">
			<span class="cat-links">
                
			</span>
		</div>

        <h1 class="entry-title"><a href="http://localhost:1313/post/libui-sh_a_library_providing_ui_functions_for_shell_scripts/">Libui-sh: a library providing UI functions for shell scripts</a></h1>

		<div class="entry-meta">
			<span class="entry-date">
				<a href="http://localhost:1313/post/libui-sh_a_library_providing_ui_functions_for_shell_scripts/" rel="bookmark">
					<time class="entry-date" datetime="2010-12-28 22:59:15 -0400 -0400">
						December 28, 2010
					</time>
				</a>
			</span>
		</div>

	</header>
	
	<div class="entry-content">
		<blockquote><p>

== A library providing UI functions for shell scripts ==</p>

<p>When you write bash/shell scripts, do you write your own error/debug/logging/abort functions?<br />

Logic that requests the user to input a boolean, string, password, selection out of a list,<br />

date/time, integer, ... ?</p>

<p>Libui-sh is written to take care of all that.<br />

libui-sh is meant to a be a general-purpose UI abstraction library for shell scripts.<br />

Low impact, easy to use, but still flexible.<br />

cli by default, can optionally use ncurses dialogs as well.<br />

<!--more--></p>

<p>To start using it, you only need to source it and you can start calling its functions.<br />

To reconfigure it (i.e. to change UI type, debug settings, logfile location),<br />

just run the command libui_sh_init</p>

<p>example usage:</p>

<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">&lt;!<span style="color: #666666">[</span>CDATA<span style="color: #666666">[</span>

<span style="color: #008000">source</span> /usr/lib/libui.sh

ask_yesno <span style="color: #BA2121">&#39;do you want to continue?&#39;</span> <span style="color: #666666">||</span> <span style="color: #008000; font-weight: bold">return</span>

libui_sh_init cli /tmp /tmp/yourlogfile

log <span style="color: #BA2121">&#39;we just got hassle-free logging&#39;</span>

<span style="color: #666666">]]</span>&gt;
</pre></div>
<p>

The library is not strictly a UI library, it also contains a few useful functions like<br />

check_is_in (check if an element can be found in a set - usually an array) and<br />

seteditor (interactive $EDITOR selection)</p>

<p>Dependencies:<br />

- bash (for cli interface)<br />

- optionally: dialog (for ncurses interface)

</p></blockquote>

<p><a href="https://github.com/Dieterbe/libui-sh">https://github.com/Dieterbe/libui-sh</a></p>

	</div>

	<footer class="entry-meta">
		<span class="tag-links">		
			
                <a href="http://localhost:1313//tags/foss/index.html" rel="tag">foss</a>
            
                <a href="http://localhost:1313//tags/bash/index.html" rel="tag">bash</a>
            
		</span>
	</footer>
</article> 

			
				<article class="post type-post status-publish format-standard hentry">

	
	<header class="entry-header">

	

		<div class="entry-meta">
			<span class="cat-links">
                
			</span>
		</div>

        <h1 class="entry-title"><a href="http://localhost:1313/post/rsyncbench_an_rsync_benchmarking_tool/">Rsyncbench, an rsync benchmarking tool</a></h1>

		<div class="entry-meta">
			<span class="entry-date">
				<a href="http://localhost:1313/post/rsyncbench_an_rsync_benchmarking_tool/" rel="bookmark">
					<time class="entry-date" datetime="2010-10-15 09:38:12 -0400 EDT">
						October 15, 2010
					</time>
				</a>
			</span>
		</div>

	</header>
	
	<div class="entry-content">
		<p>Background info:<br />

I'm currently in the process of evaluating (V)PS hosting providers and backup solutions.  The idea being: I want a (V)PS to run my stuff, which doesn't need much disk space,<br />

but in the meantime it might be a good idea to look for online backup solutions (oops did I say "online"? I meant "cloud"), like on the (V)PS itself, or maybe as a separate solution.<br />

But I've got some diverse amount of data (my personal data is mostly a lot of small plaintext files, my mom has a windows VM for which I considered syncing the entire vdi file)<br />

At this point the biggest contenders are <a href="http://linode.com/">Linode</a> (which offers quite some flexibility and management tools, but becomes expensive when you want extra disk space (2$/month*GB), <a href="http://www.rackspace.com/apps/backup_and_collaboration/data_backup_software/">Rackspace backup</a> gives you 10GB for 5$/month, but they have nice backup tools so I could only backup the important files from within the windows VM (~200MB), and then there's <a href="http://www.hetzner.de/">Hetzner</a>, which offers powerful physical private servers with a lot of storage (160GB) for 29eur/month, but less flexibility (I.e. kvm-over-ip costs an extra 15eur/month)</p>

<p>Another issue, given the limited capacity of Belgian internet connections, I needed to figure out how much bandwith rsync really needs, so I can calculate if the duration of a backup run including syncing the full vdi file is still reasonable.</p>

<p>I couldn't find an rsync benchmarking tool, so I wrote my own.</p>

<p>Features:</p>

<ul>

<li>simple</li>

<li>non invasive: you specify the target and destination hosts (just localhost is fine too), and file locations</li>

<li>measures time spent, bytes sent (measured with tcpdump), and data sent (rsync's statistics which takes compression into account)</li>

<li>supports plugins</li>

<li>generates png graphs using Gnuplot</li>

<li>two current plugins: one using files of various sizes, both randomly generated (/dev/urandom) and easily compressable (/dev/zero), does some use cases like initial sync, second sync (no-op), and syncing with a data block appended and prepended.  The other plugin collects vdi files from rsnapshot directories and measures the rsyncing from each image to the next</li>

</ul>

<p><!--more--><br />

Non-features:</p>

<ul>

<li>no plugins yet for other use cases then my own (no file removal, renaming, working with multiple files, working with small files, ...)</li>

<li>doesn't test a lot of different file sizes and such</li>

<li>not as finished as my other projects (no Makefile, graphs are rough.  but I have no time to go dive further in the gnuplot stuff)

<li>the benchmarking process takes a long time, due to a lot of juggling with big files. some steps can be optimized</li>

</ul>

<p>Here is an example graph:<br />

<img src="/files/rsyncbench_random_images_sent.png"/><br />

The first entry on the x-asis is on 1MiB, even though it seems like 0MiB because of the scale.<br />

Notice how rsync is pretty efficient when it has nothing to do (no-op), and the sizes of transmitted data correspond exactly to what has changed (even if you prepend data in the beginning and all data "moves to the back", rsync notices this)<br />

The compressed numbers (reported by rsync) are very close to the real numbers measured with tcpdump.  Which makes sense, random data is not easy to compress.  OTOH, if i take the graph of the case where I sync images which are built from /dev/zero, the story similar so either rsyncs compression sucks (which I find hard to believe), or the guy on #rsync who told me those numbers are about the compressed data was wrong (maybe) or I just messed up something (likely)</p>

<p>So, I hope this is useful to someone, and maybe others can clone the project and improve it further.  I found it weird that I couldn't find an rsync benchmarking tool, because rsync's algorithm is non-obvious and it can be really interesting to understand all its characteristics in various use cases.</p>

<p>Project page: <a href="http://github.com/Dieterbe/rsyncbench">rsyncbench on Github</a></p>

<p>Oh and about my backups? Rsyncing the different vdi files takes upto a few hundreds of MB's, not an ideal solution given the upload speeds in Belgium.<br />

I'll figure out something else.  Like backing up from inside windows (maybe using the rackspace service), or mounting the vdi and rsyncing the data from there.</p>

	</div>

	<footer class="entry-meta">
		<span class="tag-links">		
			
                <a href="http://localhost:1313//tags/foss/index.html" rel="tag">foss</a>
            
                <a href="http://localhost:1313//tags/perf/index.html" rel="tag">perf</a>
            
		</span>
	</footer>
</article> 

			
				<article class="post type-post status-publish format-standard hentry">

	
	<header class="entry-header">

	

		<div class="entry-meta">
			<span class="cat-links">
                
			</span>
		</div>

        <h1 class="entry-title"><a href="http://localhost:1313/post/an_rss2email_fork_that_sucks_less/">An rss2email fork that sucks less</a></h1>

		<div class="entry-meta">
			<span class="entry-date">
				<a href="http://localhost:1313/post/an_rss2email_fork_that_sucks_less/" rel="bookmark">
					<time class="entry-date" datetime="2010-09-25 20:33:08 -0400 EDT">
						September 25, 2010
					</time>
				</a>
			</span>
		</div>

	</header>
	
	<div class="entry-content">
		<p><a href="http://www.allthingsrss.com/rss2email/">Rss2email</a> is a great tool.  I like getting all my news messages in my mailbox and using smtp to make the "news delivery" process more robust makes sense.<br />

However, there are some things I didn't like about it so I made a <a href="http://github.com/Dieterbe/rss2email/">github repo</a> where I maintain an alternative version which (imho) contains several useful improvements, both for end users and for developers/downstreams.<br />

Also, this was a nice opportunity for me to improve my python skills :)</p>

<p>Here is how it compares:<br />

<!--more--><br />

(most of the changes are only in the xdg branch, which is the one I use and test)</p>

<table>

<tr>

<th>criterion</th>

<th>official version</th>

<th>my fork</th>

</tr>

<tr>

<td>code hosting/release process</td>

<td>"release" = tarball containing updated code corresponding to various fixes, and snapshots of other projects (dependencies).  no version control, not even separate patches.  no bug tracker.</td>

<td>git. upstream tracking branch, master branch (basic "good stuff" patches), XDG topic branch (my favorite).  Does not include code from other projects, rather list dependencies.  Github issue tracker</td>

</tr>

<tr>

<td>code style</td>

<td>dirty (extraneous whitespace, ^M characters, incorrect permissions, loads of bogus [whitespace] changes, ..).  The python code itself seems nice though</td>

<td>clean</td>

</tr>

<tr>

<td>file storage &amp; config</td>

<td>all in ~/.rss2email, list of feeds, email address and feeds state go into pickle file. commands like 'r2e add', 'r2e delete', 'r2e list' to manage feeds. feed ids change when feeds get deleted.  'r2e email' to manage email adress.</td>

<td>adherence to xdg basedir spec. list of feeds goes into plaintext file, so does email address.  state in separate pickle file.  removed all the [now pointless] commands.</td>

</tr>

<tr>

<td>Temporary disabling of feeds</td>

<td>no (if you remove a feed, you loose the state info)</td>

<td>yes.  comment it out or remove it.  state info won't be lost</td>

</tr>

<tr>

<td>installation/runtime</td>

<td>no Makefile.  no reliance on $PATH, locking code in python.  Distros are applying patches and/or using custom wrapper scripts</td>

<td>smarter wrapperscript that prevents multiple runs, so removed locking code from python.  Has Makefile.  Easy to package</td>

</tr>

<tr>

<td>logging/debugging</td>

<td>useful info messages hidden by default, "verbose mode" and error messages using print calls all over the place</td>

<td>useful messages on stdout.  additional (info/warn/error/..) logging and debuglogging use python module (xdg compliant)</td>

</tr>

<tr>

<td>web ui</td>

<td>yes</td>

<td>no (I don't need it)</td>

</tr>

<tr>

<td>windows support</td>

<td>yes</td>

<td>no (unless somebody ports xdg to windows and updates the wrapper script)</td>

</tr>

</table>

<p>Other then that, there are also some smaller fixes in various places.</p>

<p>I'm using my version "in production" and it works great for me so far.<br />

I have contacted the author and told her about my changes, but no response yet.<br />

For now, you can treat this as an alternative version that stands on it's own.  I made an Arch <a href="http://aur.archlinux.org/packages.php?ID=41136">rss2email-xdg-git</a> package in the AUR.</p>

<p>Oh, and I'm liking python :)  Pretty nice and powerful language.</p>

	</div>

	<footer class="entry-meta">
		<span class="tag-links">		
			
                <a href="http://localhost:1313//tags/python/index.html" rel="tag">python</a>
            
                <a href="http://localhost:1313//tags/foss/index.html" rel="tag">foss</a>
            
		</span>
	</footer>
</article> 

			
				<article class="post type-post status-publish format-standard hentry">

	
	<header class="entry-header">

	

		<div class="entry-meta">
			<span class="cat-links">
                
			</span>
		</div>

        <h1 class="entry-title"><a href="http://localhost:1313/post/what_the_open_source_community_can_learn_from_devops/">What the open source community can learn from Devops</a></h1>

		<div class="entry-meta">
			<span class="entry-date">
				<a href="http://localhost:1313/post/what_the_open_source_community_can_learn_from_devops/" rel="bookmark">
					<time class="entry-date" datetime="2010-09-03 22:26:22 -0400 EDT">
						September 3, 2010
					</time>
				</a>
			</span>
		</div>

	</header>
	
	<div class="entry-content">
		<p>Being active as both a developer and ops person in the professional life, and both an open source developer and packager in my spare time, I noticed some common ground between both worlds, and I think the open source community can learn from the Devops movement which is solving problems in the professional tech world.</p>

<p>For the sake of getting a point across, I'll simplify some things.</p>

<h3>First, a crash course on Devops...</h3>

<p><!--more--><br />

A commonly used organisatorial idiom used in tech companies is that of developers and operations.</p>

<p>Developers:</p>

<ul>

<li>develop a product</li>

<li>improve their product based on feedback from production usage</li>

</ul>

<p>Operations:</p>

<ul>

<li>put the product in production, making it available for users/customers</li>

<li>give feedback to devs</li>

</ul>

<p>Experience shows this model often falls short.  'Dev' and 'Ops' being too artificially separated from each other, resulting in improper communication, clashing procedures and tools,<br />

resulting in devs disliking ops ("we need to push this out to users, ops are holding us back"), and the other way around ("again new code that will cause trouble, and we will have to figure it out")<br />

It doesn't take a genius to see this is pretty ineffective.  There's a better way: integrating and reconciling dev and ops, so that all involved know the hard parts of each others' jobs, and in fact letting each other do the others' job.  (developers being responsible for their own checkouts, ops working on the code, etc).  Most of all it's about culture over processes.  About being smart and nice human beings.<br />

The exact methods are still being experimented with and preached about, and has recently gotten the name "Devops".<br />

There is a really good <a href="http://www.jedi.be/blog/2010/02/12/what-is-this-devops-thing-anyway/">Devops explanation</a> online, with more details.  Read it.</p>

<p>Often enough we're talking about teams working for the same company, usually under the same roof, so it isn't too terribly hard to implement these ideas.</p>

<h3>Now, let's look at the open source community</h3>

<p>Open source developers ("upstream"):</p>

<ul>

<li>develop stuff</li>

<li>improve their stuff based on feedback from end users</li>

</ul>

<p>Distributions ("downstream"):</p>

<ul>

<li>package stuff and make it available to end users</li>

<li>get bugreports, which often get forwarded to upstream</li>

</ul>

<p>Looks familiar?</p>

<h4>The problems are similar too...</h4>

<p>Like above, the problems stem from both parties not working together enough, and doing things on their own.</p>

<p>Some upstreams:</p>

<ul>

<li>like to use "weird" (home grown) build systems</li>

<li>violate FHS</li>

<li>use home grown packaging systems. Languages and applications with plugins like to do this</li>

<li>mix bugfixes, security patches and feature additions in the same code branch (often there is not enough manpower to maintain them in separation, and the need for it is dependent on how/when downstreams ship it anyway)</li>

<li>run into the chicken/egg problem:  they need to release software to have it shipped and tested, but it should only be released after being properly tested.  ("Release early, release often" alleviates this, but it's not always that easy)

</ul>

<p>..making it hard for downstreams.<br />

Even for each other: unannounced/frequent API changes come to mind.</p>

<p>Dowstreams, often:</p>

<ul>

<li>Lack discipline and/or tools to properly report back to upstream.  Users don't like te report the same issue on two bugtrackers</li>

<li>Have to make hard choices.  Not shipping software at all or patching beyond recognition, often enough without knowing how the software really works or is implemented.</li>

<li>Don't contribute patches back to upstream.  Posting them on some obscure albeit "public" mailing list or code archive isn't the most effective either.  Patches that are sent back often don't get merged, making it hard for other downstreams to find them. (and hence, they work on their own patches)</li>

</ul>

<p>Nothing pleases an upstream more then complaints from end users running into problems that only happen witch patches applied by the distributor (patches that are deemed necessary to make the app work properly in the distro.  The irony..)</p>

<p>Some distributions focus on shipping "only stable software", causing them to be obsolete by definition. (Time to production often extends in the order of years), and are forced to apply so many patches that they are essentially forking their upstreams.  Add poor feedback loops to the list and the situation is about as ineffecient as it can get.<br />

Other distributions limit their role to giving you the real open source software experience in it's current state, and that state is not always pretty.</p>

<h4>but they are much harder to solve</h4>

<ul>

<li>Upstream and downstream are separated much more, resulting in very little communication between both parties.  So the incompatibilities manifest themselves even harder.</li>

<li>Among distributions, there are very different visions on and implementations of tools and processes.  Pretty much each distro has a vision which separates it from the others.<br />

Among upstreams, there are as well some different ideas on how things should be done.  Luckily enough upstream developers agree on some things.  But there are some "clusters" doing things their - often radically different - way (freedesktop.org and suckless.org come to mind)<br />

The amount of incompatibilities is pretty much the carthesian product of the amount of distributions with the amount of "different visions" among upstreams</li>

<li>Despite their differences, some upstreams and downstreams actually do have some common ground, but as they don't involve each other in tools nor processes, they hardly benefit from each other</li>

</ul>

<p>So, in contrast to popular belief, <b>open source is not a magical wonderland where everyone works nicely together.</b></p>

<p>Tech companies are usually on their way if they understand and can introduce agile and devops, but I think in the open source ecosystem it's much harder to bring unity.</p>

<p>Luckily, some smart people are already working on bridging the gap between up- and downstream, and between each other.<br />

some examples:</p>

<ul>

<li><a href="http://www.transifex.net/">transifex.net</a> provides a common translation infrastructure and service</li>

<li><a href="https://launchpad.net/">launchpad.net</a> provides code hosting and cross-project issue tracking (from what I heard, tickets reported for downstreams can easily be linked to the relevant upstream project.  But I never tried it)</li>

<p><!-- kde distro mailing list -->

</ul>

<p>I also think about Fosdem's cross-distro miniconf and the freedesktop.org project, which encourage closer cooperation between different downstreams and desktop projects, respectively.</p>

<p>So, how can we solve this?  How can we maximize the end-user experience with more efficient communication and tools?<br />

Some ideas I have:</p>

<ul>

<li>upstreams should definitely abandon cvs and svn.  And avoid using no version control.  Use a version control system that makes forking and contributing more easy, like git.  Downstreams can then fork all the repos and apply the patches in a separate branch.  It will improve cooperation between up- and downstream</li>

<li>upstreams: try to be compatible with how your downstreams and end-users want to use your software.  Accept patches that add configure flags to enable/disable support for the xdg basedir spec, for example.  You don't need to put them in your master branch.</li>

<li>Provide the source for each release so that it can easily be fetched and checksummed</li>

<li>upstreams should definitely avoid coming up with their own "package management" or "self upgrade" solutions.  Let downstream do their job and make your software compatible with existing packaging solutions</li>

<li>use common build systems.  Provide makefiles with an install and uninstall target.  Don't violate FHS.  Make sure your Makefile and software easily allows using a different prefix.  I even do this for repo's that contain 1 or 2 shell scripts. (<a href="http://github.com/Dieterbe/libui-sh/blob/master/Makefile">example</a>)

<li>Ideally, we would have something like git, but for issue tracking.  Everyone could still host their own issue tracker, but integration between up- and downstream could become much more efficient</li>

<li>talk to each other, brainstorm.  we can make everyone's life easier</li>

</ul>

<p>I don't think we should try to go much beyond some common infrastructure/tools and some best practices.  People will always have different opinions on how things should be done.  And that's a good thing, it's the very definiton of the open source community: scratch your own itch.</p>

<p>What do you think?</p>

	</div>

	<footer class="entry-meta">
		<span class="tag-links">		
			
                <a href="http://localhost:1313//tags/foss/index.html" rel="tag">foss</a>
            
                <a href="http://localhost:1313//tags/devops/index.html" rel="tag">devops</a>
            
		</span>
	</footer>
</article> 

			
				<article class="post type-post status-publish format-standard hentry">

	
	<header class="entry-header">

	

		<div class="entry-meta">
			<span class="cat-links">
                
			</span>
		</div>

        <h1 class="entry-title"><a href="http://localhost:1313/post/the_community_contributions_section_on_the_arch_linux_forums_is_a_goldmine/">the &#34;Community Contributions&#34; section on the Arch Linux forums is a goldmine</a></h1>

		<div class="entry-meta">
			<span class="entry-date">
				<a href="http://localhost:1313/post/the_community_contributions_section_on_the_arch_linux_forums_is_a_goldmine/" rel="bookmark">
					<time class="entry-date" datetime="2010-08-25 22:11:58 -0400 EDT">
						August 25, 2010
					</time>
				</a>
			</span>
		</div>

	</header>
	
	<div class="entry-content">
		<p>The <a href="https://bbs.archlinux.org/viewforum.php?id=27">Community contributions</a> subforum of the Arch Linux forums is awesome.<br />

It is the birthplace of many applications, most of them not Arch Linux specific.<br />

File managers, media players, browsers, window managers, text editors, todo managers, and so on.  Many shell scripts, urxvt extensions and dwm patches aswell.<br />

Most of the apps are designed after suckless/KISS principles, but there are also some GUI programs.</p>

<p>If you like to discover new apps and tools, check it out.</p>

	</div>

	<footer class="entry-meta">
		<span class="tag-links">		
			
                <a href="http://localhost:1313//tags/arch/index.html" rel="tag">arch</a>
            
                <a href="http://localhost:1313//tags/foss/index.html" rel="tag">foss</a>
            
		</span>
	</footer>
</article> 

			
				<article class="post type-post status-publish format-standard hentry">

	
	<header class="entry-header">

	

		<div class="entry-meta">
			<span class="cat-links">
                
			</span>
		</div>

        <h1 class="entry-title"><a href="http://localhost:1313/post/restoring_ssh_connections_on_resume/">Restoring ssh connections on resume</a></h1>

		<div class="entry-meta">
			<span class="entry-date">
				<a href="http://localhost:1313/post/restoring_ssh_connections_on_resume/" rel="bookmark">
					<time class="entry-date" datetime="2010-06-16 18:11:50 -0400 EDT">
						June 16, 2010
					</time>
				</a>
			</span>
		</div>

	</header>
	
	<div class="entry-content">
		<p>I use <a href="http://wiki.archlinux.org/index.php/Pm-utils">pm-utils</a> for hibernation support.<br />

It has a hooks system which can execute stuff upon hibernate/suspend/thaw/resume/..., but they run as root.<br />

If you want to run stuff as a regular user you could do something like</p>

<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">&lt;!<span style="color: #666666">[</span>CDATA<span style="color: #666666">[</span>

su <span style="color: #19177C">$user</span> -c &lt;<span style="color: #008000">command</span>&gt;

<span style="color: #666666">]]</span>&gt;
</pre></div>
<p>..but these commands have no access to your user environment.<br />

In my user environment I have a variable which I need access to, namely SSH_AUTH_SOCK, which points to my agent which has some unlocked ssh keys.  Obviously you don't want to reenter your ssh key passwords everytime you resume.<br />

(In fact, I started using hibernate/resume because I got tired of having to enter 4 passwords on boot. - 1 for dm_crypt, 1 for login, 2 for ssh keys, not because it is much faster)</p>

<p>The solution is very simple. Use this:</p>

<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">&lt;!<span style="color: #666666">[</span>CDATA<span style="color: #666666">[</span>

sudo pm-hibernate <span style="color: #666666">&amp;&amp;</span> <span style="color: #008000; font-weight: bold">do</span>-my-stuff.sh

<span style="color: #666666">]]</span>&gt;
</pre></div>
<p>This way, do-my-stuff.sh will be executed when you resume, after the complete environment has been restored.<br />

Ideal to kill old ssh processes, and setup tunnels and ssh connections again.<br />

I'm probably gonna integrate this into my <a href="http://github.com/Dieterbe/microde">microDE</a></p>

	</div>

	<footer class="entry-meta">
		<span class="tag-links">		
			
                <a href="http://localhost:1313//tags/foss/index.html" rel="tag">foss</a>
            
                <a href="http://localhost:1313//tags/linux/index.html" rel="tag">linux</a>
            
		</span>
	</footer>
</article> 

			
				<article class="post type-post status-publish format-standard hentry">

	
	<header class="entry-header">

	

		<div class="entry-meta">
			<span class="cat-links">
                
			</span>
		</div>

        <h1 class="entry-title"><a href="http://localhost:1313/post/fosdem_2010/">Fosdem 2010</a></h1>

		<div class="entry-meta">
			<span class="entry-date">
				<a href="http://localhost:1313/post/fosdem_2010/" rel="bookmark">
					<time class="entry-date" datetime="2010-01-24 17:10:16 -0400 -0400">
						January 24, 2010
					</time>
				</a>
			</span>
		</div>

	</header>
	
	<div class="entry-content">
		<p>I'll be at fosdem - 10th edition - again this year.<br />

<a href="http://www.fosdem.org"><img src="/files/blog/fosdem/going-to-2010.jpg" alt="I'm going to FOSDEM, the Free and Open Source Software Developers' European Meeting" /></a></p>

<p>I'll be presenting a <a href="http://fosdem.org/2010/schedule/events/uzbl">lightning talk</a> about <a href="http://www.uzbl.org/">uzbl</a>.<br />

Also, <a href="http://www.archlinux.org/">Arch Linux</a> guys Roman, JGC, Thomas and me will hang out at the <a href="http://fosdem.org/2010/schedule/devrooms/distributions">distro miniconf</a>.  We might join the <a href="http://fosdem.org/2010/schedule/events/dist_infrastructure">infrastructure round-table</a> panel, but there is no concrete information yet.</p>

<p>More stuff I'm looking forward to:<!--more--></p>

<ul>

<li><a href="http://fosdem.org/2010/schedule/phone">fosdem maemo application</a></li>

<li><a href="http://fosdem.org/2010/schedule/events/dist_mirrorbrain">mirrorbrain. a topic often discussed at Arch</a></li>

<li><a href="http://fosdem.org/2010/schedule/events/dist_clicfs">clicfs</a></li>

<li><a href="http://fosdem.org/2010/news/fosdem-multiplies-things-10">a 2nd fries van!</a></li>

<li><a href="http://fosdem.org/2010/schedule/events/openpcf">openpcf</a> (how would this compare to puppet et al?)</li>

<li><a href="http://fosdem.org/2010/schedule/events/asterisk">asterisk development</a></li>

<li><a href="http://fosdem.org/2010/schedule/events/csync">csync</a> (reminds me of my own <a href="http://github.com/Dieterbe/ddm">ddm</a>)</li>

<li><a href="http://fosdem.org/2010/schedule/events/nosql_mongodb_intro">mongodb</a></li>

<li><a href="http://fosdem.org/2010/schedule/events/nosql_cassandra">cassandra</a></li>

<li><a href="http://fosdem.org/2010/schedule/events/nosql_mapreduce_couchdb">map/reduce in nosql vs sql on rdms</a></li>

<li><a href="http://fosdem.org/2010/schedule/events/linuxkernelpatch">writing a patch for linux</a></li>

<li><a href="http://fosdem.org/2010/schedule/events/systemtap">systemtap</a></li>

<li><a href="http://fosdem.org/2010/schedule/events/scalingfacebook">scaling facebook</a></li>

</ul>

<p>I'm suprised myself how there are much more topics of interest to me then last year, and I'm not sure if the program is even finished.</p>

	</div>

	<footer class="entry-meta">
		<span class="tag-links">		
			
                <a href="http://localhost:1313//tags/life/index.html" rel="tag">life</a>
            
                <a href="http://localhost:1313//tags/foss/index.html" rel="tag">foss</a>
            
                <a href="http://localhost:1313//tags/uzbl/index.html" rel="tag">uzbl</a>
            
                <a href="http://localhost:1313//tags/arch/index.html" rel="tag">arch</a>
            
                <a href="http://localhost:1313//tags/conf/index.html" rel="tag">conf</a>
            
		</span>
	</footer>
</article> 

			
				<article class="post type-post status-publish format-standard hentry">

	
	<header class="entry-header">

	

		<div class="entry-meta">
			<span class="cat-links">
                
			</span>
		</div>

        <h1 class="entry-title"><a href="http://localhost:1313/post/opening_files_automatically_on_mainstream_linux_desktops/">Opening files automatically on mainstream Linux desktops</a></h1>

		<div class="entry-meta">
			<span class="entry-date">
				<a href="http://localhost:1313/post/opening_files_automatically_on_mainstream_linux_desktops/" rel="bookmark">
					<time class="entry-date" datetime="2009-09-22 19:43:17 -0400 EDT">
						September 22, 2009
					</time>
				</a>
			</span>
		</div>

	</header>
	
	<div class="entry-content">
		<p>Xfce/Gnu/Linux works amazingly well on my moms workstation, with one exception: opening files automatically with the correct program.</p>

<p>The two biggest culprits are:</p>

<ul>

<li>Gtk's "open file with" dialog: if any Gtk program doesn't know how to open a file it brings up this dialog that is horrible to use.  You can search through your entire VFS for the right executable.  No thumbnails, no usage of .desktop files, $PATH, autocompletion and not even limiting the scope to directories such as /usr/bin</li>

<li>Mozilla software such as Firefox and Thunderbird: they only seem to differentiate files by their mimetype, not by extension.  There are add-ons to make it easier to edit these preferences, but eventually you're in a dead end because you get files with correct extensions but unuseful mimetimes (application/octet-stream)</li>

</ul>

<p>Luckily the fd.o guys have come up with <a href="http://standards.freedesktop.org/desktop-entry-spec/desktop-entry-spec-latest.html">.desktop files</a>.<!--more--><br />

In $XDG_DATA_HOME/applications/defaults.list you can define which applications to use for which mime type.<br />

So the only thing you need to do is call <a href="http://portland.freedesktop.org/xdg-utils-1.0/xdg-open.html">xdg-open</a> to open a file with the application you want.<br />

And that's exactly what I did. For now I just configure everything to use xdg-open and that seems to work just fine.  Oddly enough, even though the defaults.list is also based on mimetypes, files that are marked as octet-stream in Thunderbird seem to be properly recognized by xdg-open and opened with the correct program.  Or maybe this is because at the time of testing I only had octet-stream .doc files.  Anyway, we'll see.  But for now it's looking pretty good. </p>

<p>Note: somewhat related and also not very pleasant: epdfview used to say 'encrypted document.. please enter password' whenever you tried to open a non-existent file, a directory,.. basically anything else then a pdf file.  But this seems to be fixed since <a href="http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=508969">5 days ago</a>.</p>

	</div>

	<footer class="entry-meta">
		<span class="tag-links">		
			
                <a href="http://localhost:1313//tags/foss/index.html" rel="tag">foss</a>
            
                <a href="http://localhost:1313//tags/linux/index.html" rel="tag">linux</a>
            
		</span>
	</footer>
</article> 

			
				<article class="post type-post status-publish format-standard hentry">

	
	<header class="entry-header">

	

		<div class="entry-meta">
			<span class="cat-links">
                
			</span>
		</div>

        <h1 class="entry-title"><a href="http://localhost:1313/post/snip_a_dead-simple_but_quite_powerful_text_expander_and_more/">Snip: a dead-simple but quite powerful text expander and more</a></h1>

		<div class="entry-meta">
			<span class="entry-date">
				<a href="http://localhost:1313/post/snip_a_dead-simple_but_quite_powerful_text_expander_and_more/" rel="bookmark">
					<time class="entry-date" datetime="2009-09-14 20:22:00 -0400 EDT">
						September 14, 2009
					</time>
				</a>
			</span>
		</div>

	</header>
	
	<div class="entry-content">
		<p>Inspired by <a href="http://bbs.archlinux.org/viewtopic.php?id=71938">Snippy</a> and <a href="http://lifehacker.com/351285/automate-repetitive-typing-with-snippits">snippits</a>, I wrote a simple tool called <a href="http://github.com/Dieterbe/snip">snip</a>.<br />

It helps you to automatically fill in text for you (which can be dynamically created) and/or to perform custom keypresses and operations.<br />

<!--more--><br />

It works like this: you bind a key (in your WM or with <a href="http://freshmeat.net/projects/xbindkeys/">xbindkeys</a>) to launch `snip` with the `load` or `save` argument.</p>

<ul>

<li>`load` will look in a folder in your $HOME for snips (small text files) and present them through <a href="http://tools.suckless.org/dmenu">dmenu</a>.  If your snip has the executable flag it will be executed, otherwise the literal contents of the file are taken.  <a href="http://www.semicomplete.com/projects/xdotool/">xdotool</a> is used to type the output (which gets entered where your cursor is).  </li>

<li>`save` is just a convenience wrapper that uses <a href="http://freshmeat.net/projects/zenity">zenity</a> to quickly create new snips</li>

</ul>

<p>While comparable to snippits, I find it better because it presents the options with dmenu (you don't need to type the name on the beforehand manually), it uses the <a href="http://standards.freedesktop.org/basedir-spec/basedir-spec-0.6.html">xdg basedir spec</a> and since it uses several great, tried &amp; proven existing utilities, it does its job in less then 50 lines of shellscript.</p>

<p>I wrote some some <a href="http://github.com/Dieterbe/snip/tree/master/examples/snips/">example snips</a> which demonstrate entering static chunks of text, using xdotool for automating keypresses, aspell for automatic spell checking (and word replacing), inserting url's from your <a href="http://www.uzbl.org">uzbl</a> bookmarks/history, and some dynamic output based on current time, $USER and zenity input.<br />

I'm sure a lot of people will come up with more cool things :)</p>

	</div>

	<footer class="entry-meta">
		<span class="tag-links">		
			
                <a href="http://localhost:1313//tags/foss/index.html" rel="tag">foss</a>
            
		</span>
	</footer>
</article> 

			
				<article class="post type-post status-publish format-standard hentry">

	
	<header class="entry-header">

	

		<div class="entry-meta">
			<span class="cat-links">
                
			</span>
		</div>

        <h1 class="entry-title"><a href="http://localhost:1313/post/arch_linux_2009.08_and_froscon_2009/">Arch Linux 2009.08 &amp; Froscon 2009</a></h1>

		<div class="entry-meta">
			<span class="entry-date">
				<a href="http://localhost:1313/post/arch_linux_2009.08_and_froscon_2009/" rel="bookmark">
					<time class="entry-date" datetime="2009-08-10 12:36:48 -0400 EDT">
						August 10, 2009
					</time>
				</a>
			</span>
		</div>

	</header>
	
	<div class="entry-content">
		<p>So, the Arch Linux <a href="http://bbs.archlinux.org/viewtopic.php?id=77680">2009.08 release</a> is now behind us, nicely on schedule.<br />

I hope people will like <a href="http://github.com/Dieterbe/aif/">AIF</a> because it was a lot of work and we didn't receive much feedback.  I personally like it to apply my <a href="/rethinking_the_backup_paradigm_a_higher-level_approach">fancy backup restoration</a> approach.<br />

But I'm sure if more people would look at the code we would find quite some design and implementation things that could be improved.  (With <a href="/uzbl_a_browser_that_adheres_to_the_unix_philosophy">uzbl</a> I was amazed how much difference it can make if many people all have ideas and opinions about every little detail)</p>

<p>Later this week I'm off to the <a href="http://www.countingcows.be/home.php">Counting Cows festival</a> in France, and the week after that (august 22-23) I'm going to <a href="http://www.froscon.org/">FrOSCon</a> in Germany where I will meet some of my Arch Linux colleagues in real life, which I'm really looking forward to.</p>

<p>If anyone wants a ride to froscon let me know.  But note I'll try to maximize my time there (leave saturday early and come back late on sunday.  I even took a day off on monday so I might stay a day longer if I find more interested people to hang out there)</p>

	</div>

	<footer class="entry-meta">
		<span class="tag-links">		
			
                <a href="http://localhost:1313//tags/life/index.html" rel="tag">life</a>
            
                <a href="http://localhost:1313//tags/foss/index.html" rel="tag">foss</a>
            
                <a href="http://localhost:1313//tags/arch/index.html" rel="tag">arch</a>
            
		</span>
	</footer>
</article> 

			
				<article class="post type-post status-publish format-standard hentry">

	
	<header class="entry-header">

	

		<div class="entry-meta">
			<span class="cat-links">
                
			</span>
		</div>

        <h1 class="entry-title"><a href="http://localhost:1313/post/mysql_status_variables_caveats/">Mysql status variables caveats</a></h1>

		<div class="entry-meta">
			<span class="entry-date">
				<a href="http://localhost:1313/post/mysql_status_variables_caveats/" rel="bookmark">
					<time class="entry-date" datetime="2009-06-06 11:33:34 -0400 EDT">
						June 6, 2009
					</time>
				</a>
			</span>
		</div>

	</header>
	
	<div class="entry-content">
		<p>While setting up Zenoss and reading <a href="http://dev.mysql.com/doc/refman/5.0/en/server-status-variables.html">Mysql documentation about status variables</a> I learned:</p>

<ul>

<li>All select_* variables ("Select statistics" graph in Zenoss) are actually about joins, not (all) selects.  This also explains why there is no clear relation to com_select (which shows the amount of selects).  ("Command statistics:selects" graph in Zenoss)</li>

<li>Com_select does not denote all incoming select commands.  If you have a hit on your query cache, com_select is <em>not</em> incremented.  So I thought we were doing less qps while in fact we were just getting more cache hits. Qcache_hits gets incremented on cache hits (but is not monitored by Zenoss)</li>

</ul>

	</div>

	<footer class="entry-meta">
		<span class="tag-links">		
			
                <a href="http://localhost:1313//tags/foss/index.html" rel="tag">foss</a>
            
                <a href="http://localhost:1313//tags/monitoring/index.html" rel="tag">monitoring</a>
            
                <a href="http://localhost:1313//tags/perf/index.html" rel="tag">perf</a>
            
                <a href="http://localhost:1313//tags/mysql/index.html" rel="tag">mysql</a>
            
		</span>
	</footer>
</article> 

			
				<article class="post type-post status-publish format-standard hentry">

	
	<header class="entry-header">

	

		<div class="entry-meta">
			<span class="cat-links">
                
			</span>
		</div>

        <h1 class="entry-title"><a href="http://localhost:1313/post/zenoss_and_mysql_monitoring/">Zenoss &amp; Mysql monitoring</a></h1>

		<div class="entry-meta">
			<span class="entry-date">
				<a href="http://localhost:1313/post/zenoss_and_mysql_monitoring/" rel="bookmark">
					<time class="entry-date" datetime="2009-06-06 10:35:40 -0400 EDT">
						June 6, 2009
					</time>
				</a>
			</span>
		</div>

	</header>
	
	<div class="entry-content">
		<p>I've been playing with <a href="http://www.zenoss.com/">Zenoss</a> (2.4) for the first time.  Here are my thoughts:<!--more--></p>

<ul>

<li>One big package that installs itself in /usr/local and copies an initscript to /etc/init.d .  Contains a mysql instance, rrdtool, python and several more binaries. (all in all about 500MB installed).  Not the cleanest way to do things but definitely easy to install/deploy.  This is also where your data will end up</li>

<li>Configuration is in a Zope-specific database (ZODB).  I prefer text files for this (easy to edit, easy to generate, version control etc). Mysql is used for the events, RRD files for measurement data.  Two fine choices there</li>

<li>When you add a host, it does a lot of things automatically (monitoring various things through snmp and even ssh.  Even crontabs and their results are tracked).  I'm sure people will have various opinions about this</li>

<li>It uses Adobe flash for interface...I mean, seriously</li>

<li>It checks for updates itself.  Very useful if you don't like package managers</li>

<li>Most stuff just works by default (eg basic snmp monitoring).  to monitor things like mysql/apache you just install a zenpack, restart zenoss, configure one or two settings and it should work.  No need to write the commands, variable replacements etc like in Nagios</li>

<li>Nice overview page per host with its current state (it shows the host' properties and other information, not just servicecheck outputs like Nagios)</li>

<li>I did have several issues about rrd files not being generated and such (even once where a manual 'python check_foo args' worked) for which I did not get human-friendly errors or in fact, no errors at all ( even in event log), but this is obviously the kind of stuff they will iron out.  Usually some other people have had the same issues and in IRC they are also quite helpful.</li>

</ul>

<p>I also tried the mysqlmonitor zenpack, which is quite nice.  You can find out what it can do at various places (<a href="http://www.zenoss.com/community/docs">extended monitoring guide</a>,  <a href="http://www.krisbuytaert.be/blog/monitoring-mysql">mysql monitoring shootout</a> etc), but here is what it does <strong>not</strong> monitor/graph:</p>

<ul>

<li>query cache (hits, inserts, lowmem_prunes, queries in cache,..)</li>

<li>query durations / #slow queries</li>

<li>returned rows /dataset sizes</li>

<li>open tables</li>

<li>replication stats</li>

<li>thread states</li>

<li>temp tables (tmp tables on disk!)</li>

<li>com_* variables other then com_select/insert/update/delete. no com_alter/commit/flush/lock_tables etc

</ul>

<p>I don't see why you can't track such things, as afaik you can easily/cheaply get them all with a 'show global status'.  (though storing them all in rrd files will take quite some space).  Imho it would be very usefull it you had more control over what (not) to monitor, maybe through zPropperties or whatever.<br />

Though it doesn't look too hard to adapt the Zenpack, so it can be done.</p>

	</div>

	<footer class="entry-meta">
		<span class="tag-links">		
			
                <a href="http://localhost:1313//tags/foss/index.html" rel="tag">foss</a>
            
                <a href="http://localhost:1313//tags/monitoring/index.html" rel="tag">monitoring</a>
            
                <a href="http://localhost:1313//tags/mysql/index.html" rel="tag">mysql</a>
            
		</span>
	</footer>
</article> 

			
				<article class="post type-post status-publish format-standard hentry">

	
	<header class="entry-header">

	

		<div class="entry-meta">
			<span class="cat-links">
                
			</span>
		</div>

        <h1 class="entry-title"><a href="http://localhost:1313/post/uzbl_a_browser_that_adheres_to_the_unix_philosophy/">Uzbl.  A browser that adheres to the unix philosophy.</a></h1>

		<div class="entry-meta">
			<span class="entry-date">
				<a href="http://localhost:1313/post/uzbl_a_browser_that_adheres_to_the_unix_philosophy/" rel="bookmark">
					<time class="entry-date" datetime="2009-04-27 23:02:37 -0400 EDT">
						April 27, 2009
					</time>
				</a>
			</span>
		</div>

	</header>
	
	<div class="entry-content">
		<p>I need a browser that is fast, not bloated, stores my data (bookmarks, history, account settings, preferences, ...) in simple text files that I can keep under version control, something that does not reinvent the wheel, something that I can control.</p>

<p>Well, I could not find it.<br />

So I started the <a href="http://bbs.archlinux.org/viewtopic.php?id=70700&amp;p=1">uzbl browser</a> project.<!--more--><br />

The project is just a few days old, but already some developers joined me and we're having a lot of fun hacking.  One of them (Mike) was even creazy enough to register a domain for it with a website and all.<br />

So there you have it: <a href="http://uzbl.org">uzbl.org</a>.<br />

It is stil very early in the process, but some things already work.</p>

<p>Here are some of the ideals (not all implemented yet):</p>

<ul>

<li>keyboard controlled: modal with vim-like bindings, or with modifier keys</li>

<li>very simple ini-style config file</li>

<li>very minimal interface. No unnecessary interface elements</li>

<li>Things like url changing, loading/saving of bookmarks, ... are handled through external scripts that you write and call with keyboard shortcuts.  If they want to alter the behavior of uzbl (change url, reload,..) they write a command to a FIFO (spawned by the uzbl process).  Some scripts are also triggered by uzbl (like history logging or when a file needs to be downloaded) </li>

</ul>

<p><a href="http://github.com/Dieterbe/uzbl/tree/master">more</a></p>

<p>Uzbl follows the UNIX philosophy:<br />

<quote><br />

<i>Write programs that do one thing and do it well. Write programs to work together. Write programs to handle text streams, because that is a universal interface.</i></quote></p>

	</div>

	<footer class="entry-meta">
		<span class="tag-links">		
			
                <a href="http://localhost:1313//tags/uzbl/index.html" rel="tag">uzbl</a>
            
                <a href="http://localhost:1313//tags/foss/index.html" rel="tag">foss</a>
            
		</span>
	</footer>
</article> 

			
				<article class="post type-post status-publish format-standard hentry">

	
	<header class="entry-header">

	

		<div class="entry-meta">
			<span class="cat-links">
                
			</span>
		</div>

        <h1 class="entry-title"><a href="http://localhost:1313/post/poor_mans_dmenu_benchmark/">Poor mans dmenu benchmark</a></h1>

		<div class="entry-meta">
			<span class="entry-date">
				<a href="http://localhost:1313/post/poor_mans_dmenu_benchmark/" rel="bookmark">
					<time class="entry-date" datetime="2009-04-25 11:25:26 -0400 EDT">
						April 25, 2009
					</time>
				</a>
			</span>
		</div>

	</header>
	
	<div class="entry-content">
		<p>I wanted to know how responsive <a href="http://tools.suckless.org/dmenu">dmenu</a> and awk, sort, uniq are on a 50MB file (625000 entries of 80 1-byte chars each).</p>

<!--more-->

<p>generate file:</p>

<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">&lt;!<span style="color: #666666">[</span>CDATA<span style="color: #666666">[</span>

<span style="color: #408080; font-style: italic">#!/bin/bash</span>

<span style="color: #008000">echo</span> <span style="color: #BA2121">&quot;Creating dummy file of 50MB in size (625000 entries of 80chars)&quot;</span>

<span style="color: #008000">echo</span> <span style="color: #BA2121">&quot;Note: this takes about an hour and a half&quot;</span>

<span style="color: #19177C">entries_per_iteration</span><span style="color: #666666">=</span>1000

<span style="color: #008000; font-weight: bold">for</span> i in <span style="color: #BA2121">`</span>seq <span style="color: #666666">1</span> 625<span style="color: #BA2121">`</span>

<span style="color: #008000; font-weight: bold">do</span>

        <span style="color: #008000">echo</span> <span style="color: #BA2121">&quot;Iteration </span><span style="color: #19177C">$i</span><span style="color: #BA2121"> of 625 ( </span><span style="color: #19177C">$entries_per_iteration</span><span style="color: #BA2121"> each )&quot;</span>

        <span style="color: #008000; font-weight: bold">for</span> j in <span style="color: #BA2121">`</span>seq <span style="color: #666666">1</span> <span style="color: #19177C">$entries_per_iteration</span><span style="color: #BA2121">`</span>

        <span style="color: #008000; font-weight: bold">do</span>

                <span style="color: #008000">echo</span> <span style="color: #BA2121">&quot;`date +&#39;%Y-%m-%d %H:%M:%S&#39;` `date +%s`abcdefhijklmno`date +%s | md5sum`&quot;</span> &gt;&gt; ./dummy_history_file

        <span style="color: #008000; font-weight: bold">done</span>

<span style="color: #008000; font-weight: bold">done</span>

<span style="color: #666666">]]</span>&gt;
</pre></div>
<p>measure speed:</p>

<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">&lt;!<span style="color: #666666">[</span>CDATA<span style="color: #666666">[</span>

<span style="color: #008000">echo</span> <span style="color: #BA2121">&quot;Plain awk &#39;{print \$3}&#39;:&quot;</span>

<span style="color: #008000">time </span>awk <span style="color: #BA2121">&#39;{print $3}&#39;</span> dummy_history_file &gt;/dev/null



<span style="color: #008000">echo</span> <span style="color: #BA2121">&quot;awk + sort&quot;</span>

<span style="color: #008000">time </span>awk <span style="color: #BA2121">&#39;{print $3}&#39;</span> dummy_history_file | sort &gt;/dev/null

<span style="color: #008000">echo</span> <span style="color: #BA2121">&quot;awk + sort + uniq&quot;</span>

<span style="color: #008000">time </span>awk <span style="color: #BA2121">&#39;{print $3}&#39;</span> dummy_history_file | sort | uniq &gt;/dev/null



<span style="color: #008000">echo</span> <span style="color: #BA2121">&quot;Plain dmenu:&quot;</span>

dmenu &lt; dummy_history_file

<span style="color: #008000">echo</span> <span style="color: #BA2121">&quot;awked into dmenu:&quot;</span>

awk <span style="color: #BA2121">&#39;{print $3}&#39;</span> dummy_history_file | dmenu

<span style="color: #008000">echo</span> <span style="color: #BA2121">&quot;awk + sort + uniq into dmenu:&quot;</span>

awk <span style="color: #BA2121">&#39;{print $3}&#39;</span> dummy_history_file | sort | uniq | dmenu

<span style="color: #666666">]]</span>&gt;
</pre></div>
<p>

Results.<br />

I ran the test twice about an half hour after generating the file, so in the first run, the first awk call may have been affected by a no longer complete Linux block cache.<br />

(I also edited the output format a bit)<br />

Run 1:</p>

<pre>

Plain awk '{print $3}':

real	0m1.253s

user	0m0.907s

sys	0m0.143s



awk + sort:

real	0m3.696s

user	0m1.887s

sys	0m0.520s



awk + sort + uniq:

real	0m15.768s

user	0m12.233s

sys	0m0.820s



Plain dmenu:

awked into dmenu:

awk + sort + uniq into dmenu:

</pre><p>Run 2</p>

<pre>

Plain awk '{print $3}':

real	0m1.223s

user	0m0.923s

sys	0m0.107s



awk + sort:

real	0m2.799s

user	0m1.910s

sys	0m0.553s



awk + sort + uniq:

real	0m16.387s

user	0m12.019s

sys	0m0.787s

Plain dmenu:

awked into dmenu:

awk + sort + uniq into dmenu:

</pre><p>Not too bad.  It's especially uniq who seems to cause a lot of slowdown.  (in this dummy test file, are entries are unique. If there were lots of dupes, the results would probably be different, but I suspect that uniq always needs some time to do its work, dupes or not).  The real bottleneck seems to be raw cpu power.  Not storage bandwidth at all since Linux caches it.  If uncached, I estimate the sequential read would take 1.5 seconds or so. (about 30MB/s on common hard disks)</p>

<p>Once the stuff gets piped into dmenu, there is a little lag but it's reasonably responsive imho.<br />

Test performed on an athlon xp @ 2GHz.  1 GB of memory.  There were some other apps running, not a very professional benchmark but you get the idea :)</p>

	</div>

	<footer class="entry-meta">
		<span class="tag-links">		
			
                <a href="http://localhost:1313//tags/foss/index.html" rel="tag">foss</a>
            
                <a href="http://localhost:1313//tags/perf/index.html" rel="tag">perf</a>
            
		</span>
	</footer>
</article> 

			
				<article class="post type-post status-publish format-standard hentry">

	
	<header class="entry-header">

	

		<div class="entry-meta">
			<span class="cat-links">
                
			</span>
		</div>

        <h1 class="entry-title"><a href="http://localhost:1313/post/fosdem_2009/">Fosdem 2009</a></h1>

		<div class="entry-meta">
			<span class="entry-date">
				<a href="http://localhost:1313/post/fosdem_2009/" rel="bookmark">
					<time class="entry-date" datetime="2009-02-05 21:20:15 -0400 -0400">
						February 5, 2009
					</time>
				</a>
			</span>
		</div>

	</header>
	
	<div class="entry-content">
		<p><a href="http://www.fosdem.org"><img src="/files/blog/fosdem/going-to-2009.jpg" alt="I'm going to FOSDEM, the Free and Open Source Software Developers' European Meeting" /></a></p>

<p>I'm particulary interested in:</p>

<ul>

<li>The out-of-the-box concepts of <a href="http://www.fosdem.org/2009/schedule/events/644">Exherbo</a>. I hope to see more things like <a href="http://ciaranm.wordpress.com/2009/01/26/managing-accounts-with-the-package-manager/">this</a>.</li>

<li>Various talks at <a href="http://www.fosdem.org/2009/schedule/devrooms/opensuse">OpenSuse</a> about distribution development, their build service, etc.</li>

<li>tools such as <a href="http://www.fosdem.org/2009/schedule/events/fedora_func_symbolic">func</a> and <a href="http://www.fosdem.org/2009/schedule/events/puppet">puppet</a>.</li>

<li><a href="http://www.fosdem.org/2009/schedule/events/syslinux">syslinux</a>, <a href="http://fosdem.org/2009/schedule/events/upstart">upstart</a>, <a href="http://fosdem.org/2009/schedule/events/ext4">ext4</a> etc.</li>

<li>Some <a href="http://www.fosdem.org/2009/schedule/devrooms/mysql">mysql</a> stuff and the <a href="http://www.fosdem.org/2009/schedule/events/pg_fs_io_db_perspective">filesystem i/o from a db perspective</a> talk.</li>

</ul>

	</div>

	<footer class="entry-meta">
		<span class="tag-links">		
			
                <a href="http://localhost:1313//tags/life/index.html" rel="tag">life</a>
            
                <a href="http://localhost:1313//tags/foss/index.html" rel="tag">foss</a>
            
                <a href="http://localhost:1313//tags/mysql/index.html" rel="tag">mysql</a>
            
                <a href="http://localhost:1313//tags/conf/index.html" rel="tag">conf</a>
            
		</span>
	</footer>
</article> 

			
				<article class="post type-post status-publish format-standard hentry">

	
	<header class="entry-header">

	

		<div class="entry-meta">
			<span class="cat-links">
                
			</span>
		</div>

        <h1 class="entry-title"><a href="http://localhost:1313/post/cakephp_and_a_paradigm_shift_to_a_code_generation_based_approach/">CakePHP and a paradigm shift to a code generation based approach?</a></h1>

		<div class="entry-meta">
			<span class="entry-date">
				<a href="http://localhost:1313/post/cakephp_and_a_paradigm_shift_to_a_code_generation_based_approach/" rel="bookmark">
					<time class="entry-date" datetime="2009-01-19 22:16:52 -0400 -0400">
						January 19, 2009
					</time>
				</a>
			</span>
		</div>

	</header>
	
	<div class="entry-content">
		<p>At my <a href="/jobhunt_over">new job</a>, I'm writing a quite full-featured web application.<br />

I've choosen to use CakePHP.<br />

Why? Well, it may be 2 years since I last used it, but I've followed the project and it's planet, and it seems to have matured and gained even more monumentum.<br />

I want to use something that is widely used so there is plenty of stuff available for it, it's RAD, it's flexible and powerful.<br />

I noticed things such as CLI support and documentation have improved tremendously too.</p>

<p>However, I find that still, the recommended (or at least "most commonly used") practices are not as efficient as they could be, and that emphasis is placed on the wrong aspects.<br />

See, even though the <a href="http://book.cakephp.org/view/113/Code-Generation-with-Bake">bake</a> tool has come a long way since I last used it, it's still used to "generate some standard models/controllers/views" and the developer can take it from there [further editing the resulting files himself].<br />

Finetuning generated code by editing the templates (in fact, only views have templates; the php code of models and controllers is hardcoded in the scripts that generate them), is still an obscure practice...<br />

Also, there are very few commandline switches (Right now you can choose your app dir, whether you want to bake a model,controller or view, and it's name.)<br />

All other things (validation rules, associatons, index/view/edit/add actions/views, which components, overwrite yes/no etc) are all handled interactively.<br />

There are also some smaller enoyances such as when you specify one option like the name of the model, it assumes you don't want interactivity and produces a model containing nothing more then the class definition and the membervariable $name, which is usually worthless.<br />

One thing that is pretty neat though, If you update $this->recursive in a model, the baked views will contain stuff for the associated things.  But so much more could be done...<br />

<!--more--></p>

<p>Ideallistically speaking, the bake tool (and it libraries) should imho become much more advanced:</p>

<ul>

<li>templates for views, models and controllers.</li>

<li>choice of multiple (groups of) templates which you can choose with a commandline argument. (eg I typically have some different kinds of M/V/C's for a certain model, but there are many similarities and they can often even be categorised into groups.)</li>

<li>the ability to control all aspects of the bake process through commandline switches (or config files).  Both the things that are asked now but also $recursive level, behaviors you want to use for models, etc.</li>

<li>proper cmdline arg parsing (getline or something)</li>

</ul>

<p>We could then do a paradigm shift to actually treat your models, views and controllers as uncritical "output" code which can be deterministically regenerated (and hence doesn't need to be versionned), while the templates and the scripts to call bake become your "source", and your key asset to building the application you're working on.</p>

<p>If I had the time (or would use cake for personal projects) I would happily work on such refactorings in a clean way.<br />

For now though,  I've hacked/workarounded/patched the cake code in such a way that it behaves the way I want, while spending as little time on it as possible.<br />

For those interested, the patched code is online at <a href="http://github.com/Dieterbe/cake/tree/master" title="http://github.com/Dieterbe/cake/tree/master">http://github.com/Dieterbe/cake/tree/master</a><br />

The first rev is the original cakephp code, so you can look at the diffs if you want.</p>

<p>Changes until now ( <a href="http://github.com/Dieterbe/cake/commit/9ceb6234164ebc750c8b697a825834ca36097ce7" title="http://github.com/Dieterbe/cake/commit/9ceb6234164ebc750c8b697a825834ca36097ce7">http://github.com/Dieterbe/cake/commit/9ceb6234164ebc750c8b697a825834ca3...</a> ):</p>

<ul>

<li>Do not clear my terminal. (why is that needed anyway :/)</li>

<li>Some echo's that tell me which shells are loaded, tasks executed etc (to understand more how it all works)</li>

<li>always overwrite files.  Hey I use version control!  always bake unit tests, always bake all actions/views, except those for admin routing</li>

<li>never ask me which db to connect to, never use scaffolding, don't use helpers, don't write $useDbConfig to models (it's loaded dynamically in app_model),</li>

<li>agree with all associations except the hasOne's (I can build in exceptions/specific rules if I ever need them)</li>

<li>validation rules are specified as sql comments.  I don't want to re-answer those questions each time I rebake.</li>

</ul>

See this example sql file.  When baking a model, the code will first try to find a specific rule for the model, if not found, it will look for a global rule, and if still not found, ask the question interactively.<br />

[code lang="sql"]<br />

-- cake validate ALL id none<br />

-- cake validate ALL created none<br />

-- cake validate ALL modified none<br />

(...)<br />

CREATE TABLE foos (<br />

    id serial NOT NULL,<br />

    name character varying(255) NOT NULL, --cake validate apc alphanumeric<br />

    type character varying(255) NOT NULL, --cake validate apc notempty<br />

    room_id integer NOT NULL, --cake validate apc numeric<br />

    created timestamp without time zone,<br />

    modified timestamp without time zone<br />

);<br />

[/code]

</ul>

<p>Here is the bash code which I currently use to bake all my models without any interactivity:</p>

<p>[code lang="bash"]<br />

for i in `cake bake model <<< 'q' | awk '/^[[:digit:]]/ {print $2}'` #get a list of all models<br />

do<br />

        if [ $i != Aro ] &amp;& [ $i != Aco ] &amp;& [ $i != ArosAco ]<br />

        then<br />

                echo ">>> doing $i...."<br />

                cake bake model $i<br />

        fi<br />

done<br />

[/code]</p>

<p>I may post later again about this stuff if I have something useful to say.</p>

	</div>

	<footer class="entry-meta">
		<span class="tag-links">		
			
                <a href="http://localhost:1313//tags/foss/index.html" rel="tag">foss</a>
            
                <a href="http://localhost:1313//tags/cakephp/index.html" rel="tag">cakephp</a>
            
		</span>
	</footer>
</article> 

			
				<article class="post type-post status-publish format-standard hentry">

	
	<header class="entry-header">

	

		<div class="entry-meta">
			<span class="cat-links">
                
			</span>
		</div>

        <h1 class="entry-title"><a href="http://localhost:1313/post/jobhunt_over/">Jobhunt over.</a></h1>

		<div class="entry-meta">
			<span class="entry-date">
				<a href="http://localhost:1313/post/jobhunt_over/" rel="bookmark">
					<time class="entry-date" datetime="2008-12-24 18:07:35 -0400 -0400">
						December 24, 2008
					</time>
				</a>
			</span>
		</div>

	</header>
	
	<div class="entry-content">
		<p>What better way to launch the new year then starting to work as a System Engineer/Developer for a consulting firm where everyone breathes Linux and Open Source?<br />

Next week I'll start at <a href="http://kangaroot.net/">Kangaroot</a>.  Woohoo.</p>

	</div>

	<footer class="entry-meta">
		<span class="tag-links">		
			
                <a href="http://localhost:1313//tags/foss/index.html" rel="tag">foss</a>
            
                <a href="http://localhost:1313//tags/linux/index.html" rel="tag">linux</a>
            
                <a href="http://localhost:1313//tags/life/index.html" rel="tag">life</a>
            
		</span>
	</footer>
</article> 

			
				<article class="post type-post status-publish format-standard hentry">

	
	<header class="entry-header">

	

		<div class="entry-meta">
			<span class="cat-links">
                
			</span>
		</div>

        <h1 class="entry-title"><a href="http://localhost:1313/post/new_aif_release/">new AIF release</a></h1>

		<div class="entry-meta">
			<span class="entry-date">
				<a href="http://localhost:1313/post/new_aif_release/" rel="bookmark">
					<time class="entry-date" datetime="2008-12-17 09:50:11 -0400 -0400">
						December 17, 2008
					</time>
				</a>
			</span>
		</div>

	</header>
	
	<div class="entry-content">
		<p>My holidays present for Arch devs and users: AIF alpha-0.6 !</p>

<p>* Changes since alpha 0.5:<!--more--></p>

<ul>

<li>fully reworked disk subsystem:

<ul>

<li>support for lvm and dm_crypt</li>

<li>Autoprepare looks exactly the same (ui-wise) but with much cleaner code</li>

<li>Manual mode UI is entirely reworked and has a general editor (see screens)</li>

<li>Unified, more flexible/reusable backend code for partitioning, making filesystems and mounting them.  Uses structured file formats for defining partitions and filesystems</li>

<li>Rollback functionality: when something failed while processing, or user changes his mind afterwards, you can do a rollback (things like umount, lvremove etc are done automatically in the correct order) and start over/retry</li>

</ul>

</li>

<li>fully decoupled UI (dia/cli):

<ul>

<li>

there are now generic, transparent functions for asking dates,numbers,strings,checklist,.. etc with an implementation in both ncurses (dialog) and cli.</li>

<li>all code now uses these functions, making the codebase much cleaner. (look at the code for autoprepare for instance)</li>

<li>with a simple command line flag you can toggle between running the program in cli or dialog mode.</li>

</ul>

</li>

<li>support for commandline args<br />

<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">&lt;!<span style="color: #666666">[</span>CDATA<span style="color: #666666">[</span>

/arch/aif -p interactive -d     <span style="color: #408080; font-style: italic"># runs the interactive profile with debugging enabled</span>

/arch/aif -p interactive -i cli <span style="color: #408080; font-style: italic"># runs the interactive profile in CLI mode.</span>

<span style="color: #666666">]]</span>&gt;
</pre></div>
</li>

<li>updated howto for using AUR packages</li>

<li>replaced all refs to previous name (fifa) to aif.</li>

<li>enabled date/time setting</li>

<li>a massive amount of bugfixes</li>

<li>a lot of code cleanups</li>

</ul>

<p>* Screenshots<br />

- AIF manual filesystems, here showing a setup with /dev/sda3 containing a dm_crypt, containing /, and /dev/sda3 containing an LVM setup with 1 LV for /home<br />

<img src="/files/aif/aif-alpha_0.6-disks-overview-dia.png" /></p>

<p>- Processing the filesystems.  The installer automatically reorders everything<br />

<img src="/files/aif/aif-alpha_0.6-disks-processing-dia.png" /></p>

<p>- Rolling back a "/ and /home on top of LVM on top of dm_crypt" setup<br />

<img src="/files/aif/aif-alpha_0.6-disks-rollback-dia.png" /></p>

<p>- a CLI shot where the partitions/filesystems of the autoprepare just have been processed<br />

<img src="/files/aif/aif-alpha_0.6-autoprepare_processed-cli.png" /></p>

<p>* Usability<br />

I tested the installer personally in virtualbox in different scenarios (ftp &amp; cdrom based, autoprepare, manually with normal disk layout,/ on lvm, dm_crypt,.. ), and all produced working installations.<br />

Although I often need to fix bugs after testing a specific scenario,  I don't re-test all scenarios each time.  YMMV<br />

Note that the installer doesn't automatically add the lvm2/encrypt modules to mkinitcpio yet, and doesn't add the right string for lvm/dm_crypt in grubs menu.lst yet.</p>

<p>There are some known issues (which are not critical, just avoid them or live with them).  Here are the biggest ones (for more, see TODO)</p>

<ul>

<li>keyboard and timezone settings from installer don't go into target systems config</li>

<li>long selections (eg packages) are very cumbersome to do in CLI mode.</li>

</ul>

<p>* How?<br />

<a href="http://github.com/Dieterbe/aif/tree/master/HOWTO" title="http://github.com/Dieterbe/aif/tree/master/HOWTO">http://github.com/Dieterbe/aif/tree/master/HOWTO</a></p>

<p>Use package aif-git from AUR.<br />

Even though I tag releases in git, I don't build packages for them.<br />

I now use the master branch as "stable" branch where I pull in code from the experimental branch after it has been tested.<br />

So the master branch (package aif-git) always contains the latest, stable code.</p>

<p>Use "/arch/aif -p interactive -d" (the interactive procedure is the port of /arch/setup)</p>

<p>Have fun,<br />

Dieter</p>

<p>PS: Thomas Baechler (arch dev) has let me know he wants AIF hosted at <a href="http://projects.archlinux.org/" title="http://projects.archlinux.org/">http://projects.archlinux.org/</a> and he will provide me access to their server so I can push to it. Sweet!!</p>

	</div>

	<footer class="entry-meta">
		<span class="tag-links">		
			
                <a href="http://localhost:1313//tags/foss/index.html" rel="tag">foss</a>
            
                <a href="http://localhost:1313//tags/arch/index.html" rel="tag">arch</a>
            
		</span>
	</footer>
</article> 

			
				<article class="post type-post status-publish format-standard hentry">

	
	<header class="entry-header">

	

		<div class="entry-meta">
			<span class="cat-links">
                
			</span>
		</div>

        <h1 class="entry-title"><a href="http://localhost:1313/post/aif_the_brand_new_arch_linux_installation_framework/">AIF: the brand new Arch Linux Installation Framework</a></h1>

		<div class="entry-meta">
			<span class="entry-date">
				<a href="http://localhost:1313/post/aif_the_brand_new_arch_linux_installation_framework/" rel="bookmark">
					<time class="entry-date" datetime="2008-11-17 11:45:25 -0400 -0400">
						November 17, 2008
					</time>
				</a>
			</span>
		</div>

	</header>
	
	<div class="entry-content">
		<p>Recently I started thinking about writing my own automatic installer that would set up my system exactly the way I want.<br />

(See <a href="/rethinking_the_backup_paradigm_a_higher-level_approach" title="/rethinking_the_backup_paradigm_a_higher-level_approach">rethinking_the_backup_paradigm_a_higher-level...</a>)</p>

<p>I looked at the official Arch install scripts to see if I could reuse parts of their code, but unfortunately the code was just one big chunk of bash code with the main program and "flow control" (you must first do this step, then that), UI-code (dialogs etc) and backend logic (create filesystems, ...) all mangled up and mixed very closely together.<br />

Functionality-wise the installer works fine, but I guess the code behind it is the result of years of adding features and quick fixes without refactoring, making it impossible to reuse any of the code.</p>

<p>So I started to write <a href="http://github.com/Dieterbe/aif/">AIF: the Arch Linux Installation Framework</a><!--more--> (actually it had another name until recently), with these 3 goals in mind:</p>

<ul>

<li>Make all code modular, reusable etc.  Everyone should be able to add/change/remove change certain aspects of an installation procedure easily or build custom installation relying on existing code where appropriate</li>

<li>Port /arch/setup and /arch/quickinst, so you get (almost) the same installer as before, but using totally refactored code.</li>

<li>Write my own automatic procedure for my own custom needs</li>

</ul>

<p>Right now most of the hard work is done and the ported version of /arch/setup seems to work more or less.<br />

I've posted to the arch-general mailing list and the responses I got were very positive.<br />

This is what Aaron Griffin (lead developer of Arch Linux) said:</p>

<blockquote><p>

My honest opinion is that this is awesome. You're the reason I love open source 8)</p>

<p>That said, we haven't release a 2.6.27 ISO just yet, and I need to go<br />

in panic mode and get it out this weekend. But for the next release,<br />

or even a smaller release before then, I'd *love* to incorporate this.</p>

<p>(...)</p>

<p>Just letting you know: I'm not silent because I don't care. I'm silent<br />

because I'm watching and drooling 8)

</p></blockquote>

<p>You can read the whole thread here: <a href="http://www.nabble.com/Fifa:-Flexible-Installer-Framework-for-Arch-linux-td20256427.html" title="http://www.nabble.com/Fifa:-Flexible-Installer-Framework-for-Arch-linux-td20256427.html">http://www.nabble.com/Fifa:-Flexible-Installer-Framework-for-Arch-linux-...</a></p>

<p>I've also built <a href="http://aur.archlinux.org/packages.php?SeB=m&amp;K=Dieter_be">packages</a> to make it easy to install on a current installcd.  The package also comes with a <a href="http://github.com/Dieterbe/aif/tree/master/README">readme</a> and <a href="http://github.com/Dieterbe/aif/tree/master/HOWTO">howto</a> that explain how to install and use AIF.</p>

<p>Right now I encourage people to try it out.  All known bugs are documented in the TODO file, there are probably more that I didn't discover yet.  But it should work pretty well.<br />

I'm very curious for input on the code/design level as well.</p>

<p>Hopefully the Arch guys can set me up with a bugtracker and make some sort of announcement to the community to try it out...</p>

	</div>

	<footer class="entry-meta">
		<span class="tag-links">		
			
                <a href="http://localhost:1313//tags/linux/index.html" rel="tag">linux</a>
            
                <a href="http://localhost:1313//tags/foss/index.html" rel="tag">foss</a>
            
                <a href="http://localhost:1313//tags/arch/index.html" rel="tag">arch</a>
            
		</span>
	</footer>
</article> 

			
				<article class="post type-post status-publish format-standard hentry">

	
	<header class="entry-header">

	

		<div class="entry-meta">
			<span class="cat-links">
                
			</span>
		</div>

        <h1 class="entry-title"><a href="http://localhost:1313/post/handling_a_remote_rename_or_move_with_git/">Handling a remote rename/move with Git</a></h1>

		<div class="entry-meta">
			<span class="entry-date">
				<a href="http://localhost:1313/post/handling_a_remote_rename_or_move_with_git/" rel="bookmark">
					<time class="entry-date" datetime="2008-11-17 11:29:36 -0400 -0400">
						November 17, 2008
					</time>
				</a>
			</span>
		</div>

	</header>
	
	<div class="entry-content">
		<p>I recently had to rename a repo on my Github account.  Github has made this <a href="http://github.com/blog/128-let-there-be-renaming">very easy</a> but it's just one side of the issue.  Obviously you must also update any references to this remote in other clones, otherwise pushes, fetches etc won't work anymore.</p>

<p>You can do this in two ways:</p>

<ul>

<li>open .git/config and modify the url for the remote manually</li>

<li>git remote rm origin &amp;&amp; git remote add origin git@github.com:$user/$project.git</li>

</ul>

<p>That's it! All will work fine again.</p>

	</div>

	<footer class="entry-meta">
		<span class="tag-links">		
			
                <a href="http://localhost:1313//tags/foss/index.html" rel="tag">foss</a>
            
                <a href="http://localhost:1313//tags/git/index.html" rel="tag">git</a>
            
		</span>
	</footer>
</article> 

			
				<article class="post type-post status-publish format-standard hentry">

	
	<header class="entry-header">

	

		<div class="entry-meta">
			<span class="cat-links">
                
			</span>
		</div>

        <h1 class="entry-title"><a href="http://localhost:1313/post/dautostart_a_standalone_freedesktop-compliant_application_starter/">dautostart, a standalone freedesktop-compliant application starter</a></h1>

		<div class="entry-meta">
			<span class="entry-date">
				<a href="http://localhost:1313/post/dautostart_a_standalone_freedesktop-compliant_application_starter/" rel="bookmark">
					<time class="entry-date" datetime="2008-10-19 13:26:08 -0400 EDT">
						October 19, 2008
					</time>
				</a>
			</span>
		</div>

	</header>
	
	<div class="entry-content">
		<p>I couldn't find a standalone application/script that implements <a href="http://standards.freedesktop.org/autostart-spec/autostart-spec-latest.html">freedesktop compliant (XDG based) autostarting</a> of applications, so I decided to write my own.<br />

The project is at <a href="http://github.com/Dieterbe/dautostart" title="http://github.com/Dieterbe/dautostart">http://github.com/Dieterbe/dautostart</a> .</p>

<p>Right now, all the basics seem to work (except "Autostart Of Applications After Mount" of the spec).<br />

It's probably not bugfree.  I hacked it together in a few hours (but it works for me :-).   Bugreports welcome!<br />

<!--more--></p>

<p>Oh and btw: I got rid of Xfce too.  I realized that all I needed anyway is a good WM (for which I use compiz fusion), an application starter (I still haven't figured out if I prefer <a href="http://www.suckless.org/programs/dmenu.html">dmenu</a> or <a href="http://bbs.archlinux.org/viewtopic.php?id=56283">bashrun</a>, so I'm using both), a freedesktop-compliant autostarter and that's basically it.  Less is more!</p>

	</div>

	<footer class="entry-meta">
		<span class="tag-links">		
			
                <a href="http://localhost:1313//tags/foss/index.html" rel="tag">foss</a>
            
		</span>
	</footer>
</article> 

			
				<article class="post type-post status-publish format-standard hentry">

	
	<header class="entry-header">

	

		<div class="entry-meta">
			<span class="cat-links">
                
			</span>
		</div>

        <h1 class="entry-title"><a href="http://localhost:1313/post/im_done_with_gnome_and_gconf/">I&#39;m done with Gnome/Gconf</a></h1>

		<div class="entry-meta">
			<span class="entry-date">
				<a href="http://localhost:1313/post/im_done_with_gnome_and_gconf/" rel="bookmark">
					<time class="entry-date" datetime="2008-09-29 22:01:41 -0400 EDT">
						September 29, 2008
					</time>
				</a>
			</span>
		</div>

	</header>
	
	<div class="entry-content">
		<p>I'm managing my ~ in svn but using gnome &amp; gconf makes this rather hard.<br />

They mangle cache data together with user data and user preferences and spread that mix over several directories in your home  (.gconf, .gnome2 etc).<br />

The .gconf directory is the worst.  This is where many applications store all their stuff.   User preferences but also various %gconf.xml files, which seem to be updated automatically everytime 'something' happens:  They keep track of timestamps for various events such as when you press numlock or become available on pidgin.<br />

I'm fine with the fact they do that.  I'm sure it enables them to provide some additional functionality.  But they need to do it in clearly separated places (such as <a href="http://standards.freedesktop.org/basedir-spec/basedir-spec-0.6.html">xdg's</a> $XDG_CACHE_HOME directory)<!--more--></p>

<p>While trying to apply version control to my $HOME I need to spend way too much time scripting various <i>svn reverts</i> of many of those changes (in .gnome2, .gconf/apps/*, and .gconf/desktop), and also updating many <i>svn:ignore</i> properties (although gnome/gconf are definitely not the only culprits for that.)</p>

<p>The Gnome guys make some nice stuff, that's for sure.  But what is crucially important to me seems to be a low-prio thing for them (and let's face it, many users don't care about this...).<br />

They do have a <a href="http://live.gnome.org/GnomeGoals/XDGConfigFolders">Gnome Goal</a> to adress this problem but it clearly states it's only a proposal at this time, so it can take a long time before everything gets cleaned up.  There are also some other <a href="http://brainstorm.ubuntu.com/idea/6557/">ubuntu</a> <a href="http://brainstorm.ubuntu.com/idea/1210">ideas</a>, <a href="https://blueprints.launchpad.net/ubuntu/+spec/correct-home-dir-clutter">Launchpad Blueprints</a> and <a href="http://ploum.frimouvy.org/?184-cleaning-user-preferences-keeping-user-data">blog posts</a> along these lines, so I guess there is some public interest in this.</p>

<p>I can only recommend them (and anyone else for that matter) to cleanly implement the xdg basedir spec.<br />

This means:</p>

<ul>

<li>putting a lot of thought in how and where you store your stuff, while complying to the XDG spec.</li>

<li>carefully implementing those specs &amp; guidelines</li>

<li>making really sure that whatever is in $XDG_DATA_HOME and $XDG_CONFIG_HOME is what the user expects.  Cleanly and transparantly.  Preferrably no bloat (xml) and no automatically changing config files without the user knowing. (Note that this is not clearly specified in the XDG spec.  this is my opinion.)  In $XDG_CACHE_HOME/*yourapp* you can make whatever mess you want ;-)</li>

<li>Use the <a href="http://lists.freedesktop.org/mailman/listinfo/xdg">XDG mailinglist</a>.  It can help you clear up things.</li>

</ul>

<p>I decided to go back to Xfce.<br />

Xfce is more basic then Gnome in terms of features, but being compliant with various freedesktop specs is at the top of their list.  I'm told they implement the <a href="<br />

http://standards.freedesktop.org/basedir-spec/basedir-spec-0.6.html">xdg basedir spec</a> very cleanly, so I'm now back at Xfce 4.4.<br />

I see that they automatically update the files  ~/.config/Thunar/thunarrc and  ~/.config/xfce4/desktop/icons.screen0.rc with non-critical information (size of the windows/panels etc and desktop icons respectively).  Imho this belongs in $XDG_DATA_HOME dir, but then again it's not clearly specified and maybe they discussed it on the mailing list.<br />

In any case , it's looking <strong>much</strong> better then with Gnome.</p>

<p>On a related note:  I also dumped Ubuntu in favor of Arch Linux.  (I've been running Ubuntu for about a year. I used Arch on the laptop before)<br />

I was having some problems with my ubuntu setup...<br />

The network manager (I also tried wicd) could not get my networking working well in some cases (after changing to manual configuration and then rebooting several times it sometimes magically started working).<br />

Combine that with the fact that I just could not login (both in console and in gnome) if my networking wasn't entirely configured...<br />

Ubuntu is not a bad distro.  But they apply many patches on others code and hide as many system details behind fancy gui's and all kinds of daemons as they can.  It's a distro that you can get up and running fast (including things like bluetooth, laptop buttons etc) and if you're lucky, it actually works quite well.<br />

But once things start failing it's a hell to debug.<br />

Arch on the other hand is made for tweaking your system.  It exposes all guts of the system.  you need to setup and tweak everything yourself right from the start but at least it supports you with a framework to do so.<br />

(btw: pkgbuilds are quite similar to Gentoo's ebuilds)</p>

	</div>

	<footer class="entry-meta">
		<span class="tag-links">		
			
                <a href="http://localhost:1313//tags/foss/index.html" rel="tag">foss</a>
            
                <a href="http://localhost:1313//tags/linux/index.html" rel="tag">linux</a>
            
		</span>
	</footer>
</article> 

			
				<article class="post type-post status-publish format-standard hentry">

	
	<header class="entry-header">

	

		<div class="entry-meta">
			<span class="cat-links">
                
			</span>
		</div>

        <h1 class="entry-title"><a href="http://localhost:1313/post/ddm_v04_released/">DDM v0.4 released</a></h1>

		<div class="entry-meta">
			<span class="entry-date">
				<a href="http://localhost:1313/post/ddm_v04_released/" rel="bookmark">
					<time class="entry-date" datetime="2008-09-23 16:21:27 -0400 EDT">
						September 23, 2008
					</time>
				</a>
			</span>
		</div>

	</header>
	
	<div class="entry-content">
		<p>DDM v0.4 has been released.<br />

Since the last release many, many things have been changed/fixed/added.<br />

<!--more--><br />

Here is the Changelog:</p>

<pre>

4.0 (23-9-2008)

 * new dataset types (dataset types are now: blob, buffer, cache, copy, direct, extension, selection)

 * new (default) actions (default actions are now: backup, checkout, commit, flush, restore, update)

 * actions and callbacks are addable/customizable/disableable etc

 * some actions for certain dataset types are now implemented that weren't before (see manual)

 * better choosen commandline switches. especially needed for specifying (custom) actions.

 * ddm follows XDG basedir spec now (<a href="http://standards.freedesktop.org/basedir-spec/basedir-spec-0.6.html" title="http://standards.freedesktop.org/basedir-spec/basedir-spec-0.6.html">http://standards.freedesktop.org/basedir-spec/basedir-spec-0.6.html</a>).

   This affects the location of ddmrc and plugins (read on)

 * datasets can have arbitrary names now. (so it's also fully compatible with the XDG usedir spec now <a href="http://freedesktop.org/wiki/Software/xdg-user-dirs" title="http://freedesktop.org/wiki/Software/xdg-user-dirs">http://freedesktop.org/wiki/Software/xdg-user-dirs</a> )

   In some cases you do need to make up for this by specifying one or two vars in the .ddm file. See manual.

 * possibility to create plugins.

 * 2 plugins come by default now:

   - slidewindow (old function pluginized now)

   - get_exaile (supposed to populate selection with favorite/most-played/... music according to the exaile

   music player database). this plugin is still *work in progress*

 * slidewindow is more flexible now (configurable subpaths, regex grepstring, ...) *api has changed*

 * pretend mode

 * validators for actions, repositories and datasets

 * new, better and more generic wrappers for rsync, svn, rm, cd, mkdir and 'keep'

 * refactored exit codes

 * better validation, error handling, help information

 * better documentation (MANUAL, examples, ...) comes with sources now + can be seen online @ <a href="http://github.com/Dieterbe/ddm" title="http://github.com/Dieterbe/ddm">http://github.com/Dieterbe/ddm</a>)

 * lots of changes and fixes big and small

</pre><p>

The <a href="http://github.com/Dieterbe/ddm">ddm project on github</a> has now 2 branches:</p>

<ul>

<li><a href="http://github.com/Dieterbe/ddm/tree/master" title="http://github.com/Dieterbe/ddm/tree/master">http://github.com/Dieterbe/ddm/tree/master</a> (bleeding edge development will happen here)</li>

<li><a href="http://github.com/Dieterbe/ddm/tree/v0.4" title="http://github.com/Dieterbe/ddm/tree/v0.4">http://github.com/Dieterbe/ddm/tree/v0.4</a> (0.4 'stable' patches will be pushed here)</li>

</ul>

<p>It now also comes with a <a href="http://github.com/Dieterbe/ddm/tree/v0.4/MANUAL">Manual</a> and some <a href="http://github.com/Dieterbe/ddm/tree/v0.4/Examples.textile">examples</a>.</p>

<p>Have fun...</p>

<p>Oh and btw: It's probably not bug free (especially the slidewindow code)</p>

	</div>

	<footer class="entry-meta">
		<span class="tag-links">		
			
                <a href="http://localhost:1313//tags/foss/index.html" rel="tag">foss</a>
            
                <a href="http://localhost:1313//tags/bash/index.html" rel="tag">bash</a>
            
		</span>
	</footer>
</article> 

			
				<article class="post type-post status-publish format-standard hentry">

	
	<header class="entry-header">

	

		<div class="entry-meta">
			<span class="cat-links">
                
			</span>
		</div>

        <h1 class="entry-title"><a href="http://localhost:1313/post/my_projects_are_on_github_now/">My projects are on github now</a></h1>

		<div class="entry-meta">
			<span class="entry-date">
				<a href="http://localhost:1313/post/my_projects_are_on_github_now/" rel="bookmark">
					<time class="entry-date" datetime="2008-09-09 11:40:03 -0400 EDT">
						September 9, 2008
					</time>
				</a>
			</span>
		</div>

	</header>
	
	<div class="entry-content">
		<p>I've put my (somewhat interesting) projects on <a href="http://github.com/">GitHub</a>.<br />

Git is a damn cool VCS for distributed development, and I think Github integrates with it really nicely, adding some useful aspects for following and collaborating on projects.<br />

The projects I have migrated to my <a href="https://github.com/Dieterbe">GitHub profile</a> are:<!--more--></p>

<ul>

<li><a href="https://github.com/Dieterbe/ddm/tree">DDM</a>.  I've been doing quite some changes on this one lately, I hope to stabilize &amp; push soon.</li>

<li><a href="https://github.com/Dieterbe/tracks/tree">Tracks</a>.  This is an unofficial fork with my changes to the Tracks GTD tool. (mainly adding support for the GTD collecting and processing phases).  Still a work in progress.  Maybe someday it will be integrated.. we'll see.</li>

<li><a href="https://github.com/Dieterbe/phpdeliciousclient/tree">PHPDeliciousclient</a>.  This one I mainly added for convenience.  I don't really need to work on it anymore, but it could be useful for others...</li>

</ul>

<p>(I've also updated the "Projects" menu on this site)</p>

	</div>

	<footer class="entry-meta">
		<span class="tag-links">		
			
                <a href="http://localhost:1313//tags/foss/index.html" rel="tag">foss</a>
            
		</span>
	</footer>
</article> 

			
				<article class="post type-post status-publish format-standard hentry">

	
	<header class="entry-header">

	

		<div class="entry-meta">
			<span class="cat-links">
                
			</span>
		</div>

        <h1 class="entry-title"><a href="http://localhost:1313/post/requirements_for_the_perfect_gtd_tool/">Requirements for the perfect GTD tool</a></h1>

		<div class="entry-meta">
			<span class="entry-date">
				<a href="http://localhost:1313/post/requirements_for_the_perfect_gtd_tool/" rel="bookmark">
					<time class="entry-date" datetime="2008-08-09 16:04:45 -0400 EDT">
						August 9, 2008
					</time>
				</a>
			</span>
		</div>

	</header>
	
	<div class="entry-content">
		<p>I've been reading <a href="http://en.wikipedia.org/wiki/Getting_Things_Done">GTD</a> lately and it's absolutely a great and inspiring book.<br />

Having made my home office space into a real <i>Zen</i> I want to start implementing GTD in my digital life but it seems very hard to find a good GTD tool that fully implements GTD. (even though there are a lot of tools out there)</p>

<p>The most interesting ones (each for different reasons) I've looked at so far are <a href="http://www.thinkingrock.com.au/index.php">Thinkingrock</a>, <a href="http://www.rousette.org.uk/projects/">tracks</a> and <a href="https://gna.org/projects/yagtd/">yagtd</a> (the latter requiring most work before it does everything I need, but it's also the most easy to dive into the code base). I'm keeping my eyes open because there are certainly more things to discover.</p>

<p>Even though there are probably no applications out there that can do everything I want, I just wanted to share my feature-wishlist.  These are the requirements I find that a really good tool should comply with:<br />

<!--more--><br />

In order of importance (sort of):</p>

<ul>

<li><i>I want to have control over both my data and application.</i><br />

 At least half of the GTD apps out there are websites ran by an external party.  I want to run the application myself, I must have access to the source code, and I want to have my data myself.</li>

<li><i>Rapid idea collection and processing.</i><br />

  David Allen mentions the importance of this several times.  Sometimes you are doing something but come up with something else which you want to write down to continue your other stuff as quickly as you can.  Later on - in 'processing mode' - these notes must be handled one by one, and it must be easy to choose whether you want to create a new task from this note, throw it away, file/further edit as a note for something else and so on.  For some reason many GTD applications skip these very important collection and processing steps and assume their users will enter actions right away.  For now I've only seen Thingkingrock handling this nicely (or at all).  A workaround could be to use a notes-taking application such as tomboy as collection bucket, and process that every once in a while but then you'll need to copy-paste stuff from one application into another etc.  Doable but cumbersome and avoidable.</li>

<li><i>Context / project editors</i><br />

Context and projects are entities on their own. I don't want any of them disappearing/non-existing just because there are no actions that 'link to them' anymore/yet.  (which seems to be the case with yagtd).  Tracks handles this really nicely.</li>

<li><i>Advanced reference system.</i><br />

Notes/documentation (with documentation I don't mean physical files such as *.pdf or *.odt but just textual data) must be able to get filed and easily be retrieved by itself or by associated item.  A note should be able to be linked to an action or project but must also be able to stand on it's own through it's title and/or a tagging system.  Some notes can even be related to multiple projects/actions (from different projects).  In many cases I find it useful to link a project to one or more notes who are already general reference material or linked to something else.  So this goes <i>way</i> beyond the simple 'description' fields that most tools offer.  Support for holding not only text, but also hyperlinks, images, movie clips, would be a plus. (not the most important though)</li>

<li><i>File format</i><br />

An easily accessible file format is a plus for a variety of reasons.  Plaintext is the winner here (yagtd).  Tracks does not seem to support a plaintext backend but it does support an api/rss/.. and an export feature so that counts too.  ThinkingRock uses xml. (mixed feelings about that)

</li>

<li><i>action/project dependencies</i><br />

Some actions or projects can't be done at all as long as another project or action is not finished.  If you can specify this in your program, than the program can put the action/project in the 'waitingfor' section and move it  to 'next actions' when the dependencies are fulfilled. (after asking confirmation maybe)</li>

<li><i>Calendar integration</i><br />

A full featured calender does not belong in a GTD tool, ( because on a calender you also want to put non-actionable stuff like certain events, birthdays,...) but there does need to be support for exporting everything with a date on it (actions with due dates or that can only happen on specific moments each week/day/...) to a calendar.  Ical is probably the most common for this, but with an rss feed or rest api I can help myself too. (by converting it into ical or whatever)</li>

<li><i>project planning on the beforehand</i><br />

When planning a project you already know more action steps then just the next one for a project.  If you can specify these in a good way (e.g. not by abusing the project description field) the program can open the next action when you complete the current one.</li>

<li><i>Reminders</i><br />

I want to be informed automatically of stuff that *needs* to happen.  Gtk or libnotify popups are great, e-mail will do too.  Being able to respond to the notification to say 'inform me again at $foo' or 'i just did this, close the action!' are a plus.

</li>

<li><i>History</i><br />

When did I do this? What happened to item X at this date?  Questions that sometimes need an answer and it's frustrating if you don't have them.</li>

<li><i>GTD on the road</i><br />

I can use a paper notebook for collecting ideas and for quickly writing some reminders down before closing the laptop but having access to my GTD data on my phone would be really nice. (preferably by syncing the phone with my laptop to be not dependent on a network at all times) (I will be having an iphone soon)

</li>

<li><i>Integration with email</i><br />

How great would be to specify in your GTD tool 'this action is waiting for John Doe' and later, when you receive a mail from John Doe you can say 'this closes this action' ?  Or for each mail in your inbox you have some options to import the contents into your collection bucket, into a new task or into the filing system?  Practically how this could work is through an api like what tracks offers, or by dbus for desktop programs.

</li>

</ul>

<h3>About the book</h3>

<p>GTD has received a lot of hype, which made me sceptical at first but while reading the book it became clear the praise is deserved.<br />

Right from the beginning you start learning many things, and throughout the book the 'eureka' moments keep coming.  Even I who have been thinking quite a lot on how to organize my todo's, ideas and reference material am surprised by how much can be improved.  There are some points that are not new and are also mentioned in other time management books (such as 'getting a clear head') but the great part is that GTD is not only about action management, but also about project planning, personal organisation, how to manage those ideas/questions/reminders that you come up with randomly, office organisation and so on. I was afraid that some things I do/need would not be handled in the book but it's definitely not the case.  And everything is handled both in theory and in practice with a lot of thoughts, ideas and practical recommendations.  David's advice after more then 20 years of productivity consulting/training/research is something that no-one should miss.<br />

From a writers perspective: I find it also amazing how stuff that is so hard to explain is so well organized and explained in a easy to understand phrasing throughout the entire book.  Not that I know much about this field but it's clear that this part of the book also has gotten a lot of work.  In a few rare cases I found that some recommendations were not backed up enough but those were just details.</p>

<p>While reading the book (I haven't finished it yet btw) I spent several days cleaning up my room.  I started using a filing cabinet for my reference material (placed very accessibly!), organized supplies and equipment on my desk etc etc.  There is still some work to do but on the short term I want to have gotten rid of everything I don't need, and keep what I need in the places that make most sense for them, and in the end I want to know where everything is (so I never need to search) and there should be nothing where it doesn't belong...</p>

<p>My parents had to stop me from starting to clean up our entire attic...  This book definitely has changed me.  (those who know how I used to leave my stuff will understand ;-)</p>

	</div>

	<footer class="entry-meta">
		<span class="tag-links">		
			
                <a href="http://localhost:1313//tags/life/index.html" rel="tag">life</a>
            
                <a href="http://localhost:1313//tags/productivity/index.html" rel="tag">productivity</a>
            
                <a href="http://localhost:1313//tags/foss/index.html" rel="tag">foss</a>
            
		</span>
	</footer>
</article> 

			
				<article class="post type-post status-publish format-standard hentry">

	
	<header class="entry-header">

	

		<div class="entry-meta">
			<span class="cat-links">
                
			</span>
		</div>

        <h1 class="entry-title"><a href="http://localhost:1313/post/announcing_the_netlog_developer_pages/">Announcing the Netlog Developer Pages</a></h1>

		<div class="entry-meta">
			<span class="entry-date">
				<a href="http://localhost:1313/post/announcing_the_netlog_developer_pages/" rel="bookmark">
					<time class="entry-date" datetime="2008-05-24 12:39:28 -0400 EDT">
						May 24, 2008
					</time>
				</a>
			</span>
		</div>

	</header>
	
	<div class="entry-content">
		<p>At work, we've setup the <a href="http://netlog.com/go/developer">Netlog Developer Pages</a></p>

<p>It is the place where you can/will find all information around our OpenSocial implementation, our own API, skin development, sample code and so on.<br />

We've also launched a <a href="http://en.netlog.com/go/developer/group">group</a> where you can communicate with fellow developers and Netlog employees.<br />

The page also features a <a href="http://en.netlog.com/go/developer/blog">blog</a> where you can follow what is going on in the Netlog Tech team.</p>

<p>PS: We've also updated our <a href="http://en.netlog.com/go/inside/view=jobs">jobs page</a></p>

	</div>

	<footer class="entry-meta">
		<span class="tag-links">		
			
                <a href="http://localhost:1313//tags/web2.0/index.html" rel="tag">web2.0</a>
            
                <a href="http://localhost:1313//tags/php/index.html" rel="tag">php</a>
            
                <a href="http://localhost:1313//tags/netlog/index.html" rel="tag">netlog</a>
            
                <a href="http://localhost:1313//tags/linux/index.html" rel="tag">linux</a>
            
                <a href="http://localhost:1313//tags/foss/index.html" rel="tag">foss</a>
            
		</span>
	</footer>
</article> 

			
				<article class="post type-post status-publish format-standard hentry">

	
	<header class="entry-header">

	

		<div class="entry-meta">
			<span class="cat-links">
                
			</span>
		</div>

        <h1 class="entry-title"><a href="http://localhost:1313/post/ddm_a_distributed_data_manager/">DDM : a Distributed Data Manager</a></h1>

		<div class="entry-meta">
			<span class="entry-date">
				<a href="http://localhost:1313/post/ddm_a_distributed_data_manager/" rel="bookmark">
					<time class="entry-date" datetime="2008-03-29 20:28:16 -0400 EDT">
						March 29, 2008
					</time>
				</a>
			</span>
		</div>

	</header>
	
	<div class="entry-content">
		<p><b>UPDATE: this information is outdated.  See <a href="http://github.com/Dieterbe/ddm/tree/master" title="http://github.com/Dieterbe/ddm/tree/master">http://github.com/Dieterbe/ddm/tree/master</a> for latest information.</b></p>

<h3>Introduction</h3>

<p>If you have multiple sets of data (e.g.: music, images, documents, movies, ...) and you use these on more then one system ( e.g. a laptop and a file server) then you probably also have some 'rules' on how you use these on your systems.  For example after capturing new images you maybe put them on your laptop first but you like to sync them to your file server frequently.  On the other hand you also want all your high-res images (stored on the server) available for editing on the laptop, and to make it more complicated you might have the same images in a smaller format on your server (for gallery programs etc.) and want these (or a select few albums of them) available on the road. </p>

<p>The more different types of data you have and the more you have specific work flows the harder it becomes to keep your data as up to date as possible and consistent on your boxes.  You could manually rsync/(s)cp your data but you end up in having a mess (at least that's how it turned out on my boxes). Putting everything under version control is great for text files and such, but it's not an option for bigger (binary) files.</p>

<p>I wanted to keep all my stuff neatly organised in my home directories and I want to create good work flows with as minimum hassle as possible, so I decided to write DDM: the Distributed Data Manager.<!--more--></p>

<h3>Disclaimer</h3>

<p>The code is far from finished.  Some features are still missing and there will be bugs in it.  I'm even still thinking about the concepts themselves.   Don't blame me if ddm deletes the wrong files or causes your computer to blow up.</p>

<h3>Concepts</h3>

<p>DDM is a bash script that manages your data, distributed over multiple (*nix) systems.  You tell it how you want to work with your data and ddm will do the copying, deleting, syncing, committing, updating, ... for you.<br />

It uses simple things like cp, rsync and svn for this.<br />

Configuration is done through simple text files that will be sourced.</p>

<p>Ddm works with repositories: these are data stores on your server which should never be edited by hand.  A repository can be a svn repository or something as simple as a directory shared over the network ( through NFS, SMB, ... )</p>

<p>I highly recommend <a href="http://wiki.autofs.net/">autoFS</a> as auto mounter.  It is very easy, yet powerful and flexible.</p>

<h4>Vocabulary</h4>

<ul>

<li>repotype: the type of your repo.  currently this is either 'svn' (subversion) or 'vfs' ( any position in your VFS, the underlying technology is up to you. although autofs+nfs will be most useful)</li>

<li>dataset name: The name of your dataset. e.g. 'movies'</li>

<li>dataset type (see below)</li>

<li>action: commit, update, checkout</li>

</ul>

<h4>Dataset types</h4>

<ul>

<li>selection: a copy of a subset of the data in the repo (e.g. your favourite movies of all your movies)</li>

<li>buffer: temporary storage to be flushed to the repo regularly (e.g. new images or stuff you just downloaded)</li>

<li>copy: (default): a copy of all content in the repo (an svn working copy or a directory using rsync)</li>

<li>extension: contains unique content that you don't want on your server (e.g. temporary files)</li>

<li>direct: a (symlink to a) local mount point for a remote location. useful for big collections</li>

</ul>

<p>So basically you tell ddm to perform an action on a dataset of a specific type.<br />

Note that some actions wouldn't make sense for some dataset types ( e.g. commit on a selection or extension) and thus don't need to be implemented, while others perform really basic operations (an update of a vfs copy is just an rsync) or just wrap around something else (notably the svn actions just wrap around the svn tool)<br />

Keep in mind though that everything can be overridden through .ddm files in dataset directories.</p>

<h4>Configuration</h4>

<p>Ddm is configured through:</p>

<ul>

<li>a .ddm file in your home directory. (needed)</li>

<li>a .ddm file in your dataset directories (optional)</li>

<li>the directory name of your dataset (read on) (optional)</li>

</ul>

<p>To specify the dataset type, the easiest way is to add suffixes to your directories. eg video-selection.  This is not a must and can be specified in the .ddm file in the dataset directory. For the 'copy' dataset type you don't need to specify anything (it's default)<br />

Unless overridden, ddm will construct the repo path as follows:  </p>

<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">&lt;!<span style="color: #666666">[</span>CDATA<span style="color: #666666">[</span>

<span style="color: #19177C">$TYPE_BASE</span>/<span style="color: #19177C">$TYPE_PREFIX$DATASET_NAME$TYPE_SUFFIX</span>

<span style="color: #666666">]]</span>&gt;
</pre></div>
<p>(if unclear, read on)</p>

<p>In the .ddm file in your dataset directory you can override defaults.</p>

<h5>~/.ddm</h5>

<p>This is how my file looks like.</p>

<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">&lt;!<span style="color: #666666">[</span>CDATA<span style="color: #666666">[</span>

<span style="color: #19177C">ALLOWED_REPO_TYPES</span><span style="color: #666666">=</span><span style="color: #BA2121">&#39;svn vfs&#39;</span>

<span style="color: #19177C">DEFAULT_REPO_TYPE</span><span style="color: #666666">=</span><span style="color: #BA2121">&#39;vfs&#39;</span>



<span style="color: #19177C">SVN_BASE</span><span style="color: #666666">=</span><span style="color: #BA2121">&#39;https://server/svn/repos/&#39;</span>

<span style="color: #19177C">SVN_PREFIX</span><span style="color: #666666">=</span><span style="color: #BA2121">&#39;ddm-&#39;</span>

<span style="color: #19177C">VFS_BASE</span><span style="color: #666666">=</span><span style="color: #BA2121">&#39;/net/server/home/dieter/ddm-repo&#39;</span>

<span style="color: #666666">]]</span>&gt;
</pre></div>
<p>These are all the options you can specify:</p>

<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">&lt;!<span style="color: #666666">[</span>CDATA<span style="color: #666666">[</span>

<span style="color: #19177C">SVN_BASE</span><span style="color: #666666">=</span><span style="color: #BA2121">&#39;&#39;</span>

<span style="color: #19177C">SVN_PREFIX</span><span style="color: #666666">=</span><span style="color: #BA2121">&#39;&#39;</span>

<span style="color: #19177C">SVN_SUFFIX</span><span style="color: #666666">=</span><span style="color: #BA2121">&#39;&#39;</span>

<span style="color: #19177C">VFS_BASE</span><span style="color: #666666">=</span><span style="color: #BA2121">&#39;&#39;</span>  

<span style="color: #19177C">VFS_PREFIX</span><span style="color: #666666">=</span><span style="color: #BA2121">&#39;&#39;</span>

<span style="color: #19177C">VFS_SUFFIX</span><span style="color: #666666">=</span><span style="color: #BA2121">&#39;&#39;</span>



<span style="color: #19177C">DEFAULT_REPO_TYPE</span><span style="color: #666666">=</span><span style="color: #BA2121">&#39;vfs&#39;</span>

<span style="color: #19177C">ALLOWED_REPO_TYPES</span><span style="color: #666666">=</span><span style="color: #BA2121">&#39;vfs&#39;</span>

<span style="color: #19177C">IGNORE_DATASET_REMOTE_SVN</span><span style="color: #666666">=0</span> <span style="color: #408080; font-style: italic">#nag if the repo url figured out is not the same as the one in &#39;svn info&#39;. you should leave this 0</span>

<span style="color: #666666">]]</span>&gt;
</pre></div>
<h5>dataset/.ddm</h5>

<p>For an example see below.  Possible options are these:</p>

<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">&lt;!<span style="color: #666666">[</span>CDATA<span style="color: #666666">[</span>

<span style="color: #19177C">DATASET_LOCAL</span><span style="color: #666666">=</span><span style="color: #BA2121">&#39;&#39;</span> <span style="color: #408080; font-style: italic">#path to dataset locally (including type suffix if any)</span>

<span style="color: #19177C">DATASET_REMOTE</span><span style="color: #666666">=</span><span style="color: #BA2121">&#39;&#39;</span> <span style="color: #408080; font-style: italic">#path to dataset remotely (or locally if network mount)</span>

<span style="color: #19177C">DATASET_PATH</span><span style="color: #666666">=</span><span style="color: #BA2121">&#39;&#39;</span> <span style="color: #408080; font-style: italic">#just the path (until parent directory of dataset)</span>

<span style="color: #19177C">DATASET_DIR_NAME</span><span style="color: #666666">=</span><span style="color: #BA2121">&#39;&#39;</span> <span style="color: #408080; font-style: italic">#like $DATASET_LOCAL but no path </span>

DATASET_DIR_NAME_REL  <span style="color: #408080; font-style: italic"># identifier to dataset, taken against pwd ( could be &#39;.&#39;,&#39;..&#39;, nothing at all, dirname, full path, ..)</span>

<span style="color: #19177C">DATASET_NAME</span><span style="color: #666666">=</span><span style="color: #BA2121">&#39;&#39;</span> <span style="color: #408080; font-style: italic">#like $DATASET_DIR_NAME but no type suffix</span>

<span style="color: #19177C">DATASET_TYPE</span><span style="color: #666666">=</span><span style="color: #BA2121">&#39;&#39;</span>

<span style="color: #19177C">REPO_TYPE</span><span style="color: #666666">=</span><span style="color: #BA2121">&#39;&#39;</span>



<span style="color: #408080; font-style: italic">#you can override the following callbacks (example see below)</span>

precheckout

docheckout

postcheckout



precommit

docommit

postcommit



preupdate

doupdate

postupdate

<span style="color: #666666">]]</span>&gt;
</pre></div>
<h4>Invocation</h4>

<pre><![CDATA[

dieter@dieter-mbp:~$ ddm -h

usage: ddm options



OPTIONS:

   -d                Dataset (name of directory)

   -h                Show this message

   -m                Message (used for commits in svn, ignored otherwise)

   -u                Update

   -c                Commit

   -o                Checkout (default repo type)

   -O <repo-type>    Checkout using specific repo type (one of: svn vfs)

   -t <dataset-type> Specify dataset-type (selection,copy, ...) (only honoured for checkouts)

   -v                Verbose

]]></pre><h4>Examples</h4>

<h5>Update my video-selection.</h5>

<p>The directory is ~/video-selection.  It contains episodes that I'm watching<br />

The .ddm file looks like this</p>

<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">&lt;!<span style="color: #666666">[</span>CDATA<span style="color: #666666">[</span>

doupdate<span style="color: #666666">()</span>

<span style="color: #666666">{</span>

	slidewindow mplayer <span style="color: #666666">10</span> 1

<span style="color: #666666">}</span>

<span style="color: #666666">]]</span>&gt;
</pre></div>
<p>This means that ddm will look in my bash history and look for the movie files in this directory I have played (using "mplayer video-selection/*somefile*).<br />

It will then delete all the ones I've already seen, except the latest one (parameter 3). It will also fetch the next 10 episodes (parameter 2)</p>

<pre><![CDATA[

dieter@dieter-mbp:~$ ddm -u -v -d video-selection/

Included /home/dieter/video-selection/.ddm

action update on dataset name video type selection

Deleting old files... (3 items).

 * /home/dieter/video-selection/910 - The One With Christmas In Tulsa.avi... success

 * /home/dieter/video-selection/911 - The One Where Rachel Goes Back To Work.avi... success

 * /home/dieter/video-selection/912 - The One With Phoebes Rats.avi... success

Keeping these files... (1 items).

 * /home/dieter/video-selection/913 - The One Where Monica Sings.avi

Copying new files... (10 items).

 * /home/dieter/video-selection/914 - The One With The Blind Dates.avi... success

 * /home/dieter/video-selection/915 - The One With the Mugging.avi... success

 * /home/dieter/video-selection/916 - The One With The Boob Job.avi... success

 * /home/dieter/video-selection/917 - The One With The Memorial Service.avi... success

 * /home/dieter/video-selection/918 - The One With The Lottery.avi... success

 * /home/dieter/video-selection/919 - The One With Rachels Dream.avi... success

 * /home/dieter/video-selection/920 - The One With The Soap Opera Party.avi... success

 * /home/dieter/video-selection/921 - The One With The Fertility Test.avi... success

 * /home/dieter/video-selection/922 - The One With The Donor.avi... success

 * /home/dieter/video-selection/923 - 924 - The One In Barbados.avi... success

finished

]]></pre><h4>Download</h4>

<p>The code is licensed under <a href="http://www.gnu.org/licenses/gpl-3.0.txt">Gpl v3</a><br />

You can dowload it <a href="/files/ddm" onClick="javascript:urchinTracker ('/files/ddm');">here</a></p>

	</div>

	<footer class="entry-meta">
		<span class="tag-links">		
			
                <a href="http://localhost:1313//tags/life/index.html" rel="tag">life</a>
            
                <a href="http://localhost:1313//tags/foss/index.html" rel="tag">foss</a>
            
                <a href="http://localhost:1313//tags/bash/index.html" rel="tag">bash</a>
            
		</span>
	</footer>
</article> 

			
				<article class="post type-post status-publish format-standard hentry">

	
	<header class="entry-header">

	

		<div class="entry-meta">
			<span class="cat-links">
                
			</span>
		</div>

        <h1 class="entry-title"><a href="http://localhost:1313/post/tweaking_lighttpd_stat_performance_with_fcgi-stat-accel/">Tweaking Lighttpd stat() performance with fcgi-stat-accel</a></h1>

		<div class="entry-meta">
			<span class="entry-date">
				<a href="http://localhost:1313/post/tweaking_lighttpd_stat_performance_with_fcgi-stat-accel/" rel="bookmark">
					<time class="entry-date" datetime="2008-03-03 21:12:42 -0400 -0400">
						March 3, 2008
					</time>
				</a>
			</span>
		</div>

	</header>
	
	<div class="entry-content">
		<p>If you serve lots of (small) files with Lighttpd you might notice you're not getting the throughput you would expect.  Other factors (such as latencies because of the random read patterns ) aside, a real show stopper is the stat() system call, which is a blocking system call ( no parallelism ).  Some clever guys thought of a way to solve this : a fastcgi program that does a stat(), so when it returns Lighty doesn't have to wait because the stat information will be in the Linux cache.  And in the meanwhile your Lighty thread can do other stuff.  

<!--more--><br/>

(in Lighty 1.5 there will be a native way for asynchronous stat() calls but for 1.4 this hack works pretty damn well)</p>

<p>This is explained on the <a href="http://trac.lighttpd.net/trac/wiki/HowtoSpeedUpStatWithFastcgi"> HowtoSpeedUpStatWithFastcgi</a> page on the <a href="http://trac.lighttpd.net/trac/"> Lighty wiki</a>.</p>

<p>Now, for <a href="http://www.netlog.com">Netlog</a> we needed to add some http headers ( Cache-Control: max-age, ETag, Expires and Last-Modified ) so we patched up the code a bit to do that, and a bit of other stuff.</p>

<p>Ofcourse this is documented on <a href="http://trac.lighttpd.net/trac/wiki/FcgiStatAccelWithMoreHttpHeaders">the FcgiStatAccelWithMoreHttpHeaders page on the Lighty wiki</a></p>

<p>Have fun !</p>

<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span style="color: #666666">&lt;!</span>[CDATA[

<span style="color: #408080; font-style: italic">/*</span>

<span style="color: #408080; font-style: italic">  Originally written by Fobax.</span>

<span style="color: #408080; font-style: italic">  Edited by darix to support controlling thread count at runtime. </span>

<span style="color: #408080; font-style: italic">  Edited by poison and Dieter_be to support some http headers derived from the files.</span>



<span style="color: #408080; font-style: italic">  Please do not remove any of the above.</span>

<span style="color: #408080; font-style: italic">  </span>

<span style="color: #408080; font-style: italic">  compile with: </span>



<span style="color: #408080; font-style: italic">  $ gcc -lfcgi -lpthread fcgi-stat-accel.c -o fcgi-stat-accel</span>



<span style="color: #408080; font-style: italic">  fcgi-stat-accel will use the PHP_FCGI_CHILDREN environment variable to set the thread count.</span>



<span style="color: #408080; font-style: italic">  The default value, if spawned from lighttpd, is 20.</span>

<span style="color: #408080; font-style: italic">*/</span>



<span style="color: #BC7A00">#include &quot;fcgi_config.h&quot;</span>



<span style="color: #BC7A00">#include &lt;pthread.h&gt;</span>

<span style="color: #BC7A00">#include &lt;sys/types.h&gt;</span>

<span style="color: #BC7A00">#include &lt;unistd.h&gt;   </span>

<span style="color: #BC7A00">#include &quot;fcgiapp.h&quot;  </span>

<span style="color: #BC7A00">#include &lt;string.h&gt;   </span>

<span style="color: #BC7A00">#include &lt;sys/types.h&gt;</span>

<span style="color: #BC7A00">#include &lt;sys/stat.h&gt; </span>



<span style="color: #BC7A00">#include &lt;stdlib.h&gt;</span>

<span style="color: #BC7A00">#include &lt;stdio.h&gt; </span>



<span style="color: #BC7A00">#include &quot;etag.h&quot;</span>

<span style="color: #BC7A00">#include &quot;buffer.h&quot;</span>





<span style="color: #BC7A00">#define THREAD_COUNT 20</span>





<span style="color: #BC7A00">#define FORBIDDEN(stream) \</span>

        FCGX_FPrintF(stream, <span style="color: #BA2121">&quot;Status: 403 Forbidden</span><span style="color: #BB6622; font-weight: bold">\r\n</span><span style="color: #BA2121">Content-Type: text/html</span><span style="color: #BB6622; font-weight: bold">\r\n\r\n</span><span style="color: #BA2121">&lt;h1&gt;403 Forbidden&lt;/h1&gt;</span><span style="color: #BB6622; font-weight: bold">\n</span><span style="color: #BA2121">&quot;</span>);

<span style="color: #BC7A00">#define NOTFOUND(stream, filename) \</span>

        FCGX_FPrintF(stream, <span style="color: #BA2121">&quot;Status: 404 Not Found</span><span style="color: #BB6622; font-weight: bold">\r\n</span><span style="color: #BA2121">Content-Type: text/html</span><span style="color: #BB6622; font-weight: bold">\r\n\r\n</span><span style="color: #BA2121">&lt;h1&gt;404 Not Found&lt;/h1&gt;</span><span style="color: #BB6622; font-weight: bold">\r\n</span><span style="color: #BA2121">%s&quot;</span>, filename);

<span style="color: #BC7A00">#define SENDFILE(stream, filename, headers) \</span>

        FCGX_FPrintF(stream, <span style="color: #BA2121">&quot;%sX-LIGHTTPD-send-file: %s</span><span style="color: #BB6622; font-weight: bold">\r\n\r\n</span><span style="color: #BA2121">&quot;</span>, headers, filename);



<span style="color: #BC7A00">#define EXPIRATION_TIME (int) 60*60*24*30</span>





<span style="color: #B00040">int</span> <span style="color: #0000FF">genheaders</span> (<span style="color: #B00040">char</span><span style="color: #666666">*</span> mybuffer, <span style="color: #B00040">size_t</span> bufferlen, <span style="color: #008000; font-weight: bold">const</span> <span style="color: #B00040">char</span><span style="color: #666666">*</span> file)

{

        <span style="color: #B00040">char</span> timebuf[<span style="color: #666666">32</span>]; <span style="color: #408080; font-style: italic">//possibly unsafe   </span>

        <span style="color: #B00040">char</span> lastmodbuf[<span style="color: #666666">32</span>]; <span style="color: #408080; font-style: italic">//possibly unsafe</span>

        <span style="color: #B00040">char</span> etag[<span style="color: #666666">128</span>]; <span style="color: #408080; font-style: italic">//possibly unsafe</span>

        <span style="color: #008000; font-weight: bold">struct</span> stat statbuf;

        <span style="color: #B00040">time_t</span> exp;

        <span style="color: #B00040">time_t</span> lastmod;  

        buffer <span style="color: #666666">*</span>etag_raw;

        buffer <span style="color: #666666">*</span>etag_ok ;

 

        <span style="color: #408080; font-style: italic">//create buffers for Etag</span>

        etag_raw <span style="color: #666666">=</span> buffer_init();

        etag_ok <span style="color: #666666">=</span> buffer_init();

                

        <span style="color: #408080; font-style: italic">// Stat the file</span>

        <span style="color: #008000; font-weight: bold">if</span> (stat (file, <span style="color: #666666">&amp;</span>statbuf) <span style="color: #666666">!=</span> <span style="color: #666666">0</span>)

        {

                <span style="color: #008000; font-weight: bold">return</span> <span style="color: #666666">-1</span>;

        }



        <span style="color: #408080; font-style: italic">// Clear the buffer</span>

        memset (mybuffer, <span style="color: #666666">0</span>, bufferlen);



        <span style="color: #408080; font-style: italic">// Get the local time</span>

        exp <span style="color: #666666">=</span> time (<span style="color: #008000">NULL</span>) <span style="color: #666666">+</span> EXPIRATION_TIME;

        lastmod <span style="color: #666666">=</span> statbuf.st_mtime;



        strftime (timebuf, (<span style="color: #008000; font-weight: bold">sizeof</span> (timebuf) <span style="color: #666666">/</span> <span style="color: #008000; font-weight: bold">sizeof</span> (<span style="color: #B00040">char</span>)) <span style="color: #666666">-</span> <span style="color: #666666">1</span>, <span style="color: #BA2121">&quot;%a, %d %b %Y %H:%M:%S GMT&quot;</span>, gmtime (<span style="color: #666666">&amp;</span>(exp)));

        strftime (lastmodbuf, (<span style="color: #008000; font-weight: bold">sizeof</span> (lastmodbuf) <span style="color: #666666">/</span> <span style="color: #008000; font-weight: bold">sizeof</span> (<span style="color: #B00040">char</span>)) <span style="color: #666666">-</span> <span style="color: #666666">1</span>, <span style="color: #BA2121">&quot;%a, %d %b %Y %H:%M:%S GMT&quot;</span>, gmtime (<span style="color: #666666">&amp;</span>(lastmod)));



        etag_create(etag_raw, <span style="color: #666666">&amp;</span>statbuf, ETAG_USE_SIZE);

        etag_mutate(etag_ok, etag_raw);



        buffer_free(etag_raw);



        snprintf (mybuffer, bufferlen, <span style="color: #BA2121">&quot;Cache-Control: max-age=%d</span><span style="color: #BB6622; font-weight: bold">\r\n</span><span style="color: #BA2121">ETag: \%s</span><span style="color: #BB6622; font-weight: bold">\r\n</span><span style="color: #BA2121">Expires: %s</span><span style="color: #BB6622; font-weight: bold">\r\n</span><span style="color: #BA2121">Last-Modified: %s</span><span style="color: #BB6622; font-weight: bold">\r\n</span><span style="color: #BA2121">&quot;</span>, EXPIRATION_TIME, etag_ok<span style="color: #666666">-&gt;</span>ptr, timebuf , lastmodbuf);



        buffer_free(etag_ok);



        <span style="color: #008000; font-weight: bold">return</span> <span style="color: #666666">0</span>;

}

 

<span style="color: #008000; font-weight: bold">static</span> <span style="color: #B00040">void</span> <span style="color: #666666">*</span><span style="color: #0000FF">doit</span>(<span style="color: #B00040">void</span> <span style="color: #666666">*</span>a){

        FCGX_Request request;

        <span style="color: #B00040">int</span> rc;

        <span style="color: #B00040">char</span> <span style="color: #666666">*</span>filename;

        <span style="color: #B00040">char</span> extraheaders[<span style="color: #666666">192</span>];

        <span style="color: #B00040">int</span> r;



        FCGX_InitRequest(<span style="color: #666666">&amp;</span>request, <span style="color: #666666">0</span>, FCGI_FAIL_ACCEPT_ON_INTR);



        <span style="color: #008000; font-weight: bold">while</span>(<span style="color: #666666">1</span>){

                <span style="color: #408080; font-style: italic">//Some platforms require accept() serialization, some don&#39;t. The documentation claims it to be thread safe</span>

<span style="color: #408080; font-style: italic">//              static pthread_mutex_t accept_mutex = PTHREAD_MUTEX_INITIALIZER;</span>

<span style="color: #408080; font-style: italic">//              pthread_mutex_lock(&amp;accept_mutex);</span>

                rc <span style="color: #666666">=</span> FCGX_Accept_r(<span style="color: #666666">&amp;</span>request);

<span style="color: #408080; font-style: italic">//              pthread_mutex_unlock(&amp;accept_mutex);</span>



                <span style="color: #008000; font-weight: bold">if</span>(rc <span style="color: #666666">&lt;</span> <span style="color: #666666">0</span>)

                        <span style="color: #008000; font-weight: bold">break</span>;



        <span style="color: #408080; font-style: italic">//get the filename</span>

                <span style="color: #008000; font-weight: bold">if</span>((filename <span style="color: #666666">=</span> FCGX_GetParam(<span style="color: #BA2121">&quot;SCRIPT_FILENAME&quot;</span>, request.envp)) <span style="color: #666666">==</span> <span style="color: #008000">NULL</span>){

                        FORBIDDEN(request.out);

        <span style="color: #408080; font-style: italic">//don&#39;t try to open directories</span>

                }<span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span>(filename[strlen(filename)<span style="color: #666666">-1</span>] <span style="color: #666666">==</span> <span style="color: #BA2121">&#39;/&#39;</span>){

                        FORBIDDEN(request.out);

        <span style="color: #408080; font-style: italic">//open the file</span>

                }<span style="color: #008000; font-weight: bold">else</span> <span style="color: #008000; font-weight: bold">if</span>((r <span style="color: #666666">=</span> genheaders (extraheaders, <span style="color: #666666">191</span>, filename)) <span style="color: #666666">!=</span> <span style="color: #666666">0</span>){

                        NOTFOUND(request.out, filename);

        <span style="color: #408080; font-style: italic">//no error, serve it</span>

                }<span style="color: #008000; font-weight: bold">else</span>{

                        SENDFILE(request.out, filename, extraheaders);

                }



                FCGX_Finish_r(<span style="color: #666666">&amp;</span>request);

        }

        <span style="color: #008000; font-weight: bold">return</span> <span style="color: #008000">NULL</span>;

}



<span style="color: #B00040">int</span> <span style="color: #0000FF">main</span>(<span style="color: #B00040">void</span>){

        <span style="color: #B00040">int</span> i,j,thread_count;

        <span style="color: #B00040">pthread_t</span><span style="color: #666666">*</span> id;

        <span style="color: #B00040">char</span><span style="color: #666666">*</span> env_val;



        FCGX_Init();



        thread_count <span style="color: #666666">=</span> THREAD_COUNT;

        env_val <span style="color: #666666">=</span> getenv(<span style="color: #BA2121">&quot;PHP_FCGI_CHILDREN&quot;</span>);

        <span style="color: #008000; font-weight: bold">if</span> (env_val <span style="color: #666666">!=</span> <span style="color: #008000">NULL</span>) {

                j <span style="color: #666666">=</span> atoi(env_val);

                <span style="color: #008000; font-weight: bold">if</span> (j <span style="color: #666666">!=</span> <span style="color: #666666">0</span>) {

                        thread_count <span style="color: #666666">=</span> j;

                };

        };



        id <span style="color: #666666">=</span> malloc(<span style="color: #008000; font-weight: bold">sizeof</span>(<span style="color: #666666">*</span>id) <span style="color: #666666">*</span> thread_count);



        <span style="color: #008000; font-weight: bold">for</span> (i <span style="color: #666666">=</span> <span style="color: #666666">0</span>; i <span style="color: #666666">&lt;</span> thread_count; i<span style="color: #666666">++</span>) {

                pthread_create(<span style="color: #666666">&amp;</span>id[i], <span style="color: #008000">NULL</span>, doit, <span style="color: #008000">NULL</span>);

        }



        doit(<span style="color: #008000">NULL</span>);

        free(id);  

        <span style="color: #008000; font-weight: bold">return</span> <span style="color: #666666">0</span>;  

}

]]<span style="color: #666666">&gt;</span>
</pre></div>


	</div>

	<footer class="entry-meta">
		<span class="tag-links">		
			
                <a href="http://localhost:1313//tags/foss/index.html" rel="tag">foss</a>
            
                <a href="http://localhost:1313//tags/netlog/index.html" rel="tag">netlog</a>
            
                <a href="http://localhost:1313//tags/perf/index.html" rel="tag">perf</a>
            
		</span>
	</footer>
</article> 

			
				<article class="post type-post status-publish format-standard hentry">

	
	<header class="entry-header">

	

		<div class="entry-meta">
			<span class="cat-links">
                
			</span>
		</div>

        <h1 class="entry-title"><a href="http://localhost:1313/post/im_not_going_to_fosdem_2008/">I&#39;m not going to Fosdem 2008</a></h1>

		<div class="entry-meta">
			<span class="entry-date">
				<a href="http://localhost:1313/post/im_not_going_to_fosdem_2008/" rel="bookmark">
					<time class="entry-date" datetime="2008-02-12 20:37:50 -0400 -0400">
						February 12, 2008
					</time>
				</a>
			</span>
		</div>

	</header>
	
	<div class="entry-content">
		<p>I wish I could put this on my webpage :</p>

<p><a href="http://www.fosdem.org"><img src="/files/blog/fosdem/going-to-2008.jpg" alt="I'm going to FOSDEM, the Free and Open Source Software Developers' European Meeting" /></a><br />

<!--more--><br />

Fosdem looks interesting again : talks about iogrind , scons , cakephp , virtualbox , openAFS , ...<br />

No Gentoo devroom this year but drupal , debian , embedded , X , gnome rooms would have interested me too ( mostly gtk/glib for the latter )</p>

<p>Oh and about the reason I'm not going?  The <a href="http://corporate.netlog.com">company</a> is taking us to <a href="http://www.valdisole.it/">Val di Sole</a> where we will ski, snowboard and apres-ski for 4 days !  w00t ! This kicks even more ass then Fosdem :P</p>

<p>PS : I'm considering going to <a href="http://lac.linuxaudio.org/">LAC 2008</a></p>

	</div>

	<footer class="entry-meta">
		<span class="tag-links">		
			
                <a href="http://localhost:1313//tags/foss/index.html" rel="tag">foss</a>
            
                <a href="http://localhost:1313//tags/netlog/index.html" rel="tag">netlog</a>
            
                <a href="http://localhost:1313//tags/life/index.html" rel="tag">life</a>
            
                <a href="http://localhost:1313//tags/conf/index.html" rel="tag">conf</a>
            
		</span>
	</footer>
</article> 

			
				<article class="post type-post status-publish format-standard hentry">

	
	<header class="entry-header">

	

		<div class="entry-meta">
			<span class="cat-links">
                
			</span>
		</div>

        <h1 class="entry-title"><a href="http://localhost:1313/post/gtk_dialogs_for_shell_scripts_with_zenity_and_the_ask-pass_gui_tools_for_ssh-add/">gtk dialogs for (shell)scripts with zenity and the ask-pass gui tools for ssh-add</a></h1>

		<div class="entry-meta">
			<span class="entry-date">
				<a href="http://localhost:1313/post/gtk_dialogs_for_shell_scripts_with_zenity_and_the_ask-pass_gui_tools_for_ssh-add/" rel="bookmark">
					<time class="entry-date" datetime="2007-11-25 18:45:41 -0400 -0400">
						November 25, 2007
					</time>
				</a>
			</span>
		</div>

	</header>
	
	<div class="entry-content">
		<p>Phew! where to start?  Probably at <a href ="http://www.chimeric.de/blog/2007/1107_mounting_external_truecrypt_volumes_interactively">this blogpost</a>.  It's about making it very easy to work with external encrypted volumes. I'm not going to talk about the article itself but about a great tool i discovered thanks to it: Zenity. <!--more--> It's an LGPL-licensed program written in C by some guys from Gnome and Sun. You can call it from any script and present a user with a gtk widget such as a password-dialog, filechooser, calendar, ... It has <a href="http://www.linuxmanpages.com/man1/zenity.1.php">many possibilities</a>.<br />

This is great if you want to run scripts on the terminal or even without a terminal (scripts automatically started by your desktop environment) and need user input.</p>

<p>This immediately made me think of using this together with ssh-add, because i was getting a bit tired to open a console and add my key by typing the ssh-add command for every X session. (For the record: ssh-add without any arguments is enough for most users: it looks for keys with default names, but i have multiple keys with some speial names so...)<br />

(I can easily retrieve the right command by typing ssh-add*arrowup* but still it's cumbersome.. see <a href="/my_favorite_bash_tricks">this page for the bash-trick</a>)</p>

<p>Of course I realized I was probably not the only one with this idea so I googled a bit and looked in the <a href="http://www.hmug.org/man/1/ssh-add.php">ssh-add manpage</a>, and I found out some cool stuff!<br />

It turned out ssh-add has support for such scenarios and offers the $SSH_ASKPASS environment variable for this.  Since the system I'm currently using on my laptop (which i converted from Arch to xubuntu 7.10 but that's another story :-)) doesn't have this variable set by default I could of course set it myself, but it can be even easier then this...</p>

<p>When the $SSH_ASKPASS variable is not set, ssh-add will try to execute /usr/bin/ssh-askpass by default.  I figured this out by typing this in a console:<br />

ssh-add *mykey* < /dev/null<br />

This revealed that there are already some utilities specifically for this purpose!  Let's see...:</p>

<pre><![CDATA[

dieter@dieter-mbp:~$ aptitude search askpass

p   gtk-led-askpass                                                - GTK+ password dialog suitable for use with ssh-add                      

p   ssh-askpass                                                    - under X, asks user for a passphrase for ssh-add                         

p   ssh-askpass-fullscreen                                         - Under Gnome2, asks user for a passphrase for ssh-add                    

p   ssh-askpass-gnome                                              - interactive X program to prompt users for a passphrase for ssh-add  

]]></pre><p>I decided to install ssh-askpass-gnome even though I use xfce.  And it works great :D</p>

<p>After installing this you can just put your ssh-add line in the settings panel called "autostarted Applications" from Xfce and for your next session it will show a nice gtk popup to ask for your password and it works like a charm :)<br />

However, since i use multiple keys, i used to use the globbing operator (*) but this doesnt work anymore with this method.  I guess that makes sense as the globbing operator is probably a bash built-in...</p>

	</div>

	<footer class="entry-meta">
		<span class="tag-links">		
			
                <a href="http://localhost:1313//tags/foss/index.html" rel="tag">foss</a>
            
                <a href="http://localhost:1313//tags/bash/index.html" rel="tag">bash</a>
            
		</span>
	</footer>
</article> 

			
				<article class="post type-post status-publish format-standard hentry">

	
	<header class="entry-header">

	

		<div class="entry-meta">
			<span class="cat-links">
                
			</span>
		</div>

        <h1 class="entry-title"><a href="http://localhost:1313/post/nagios_monitoring_in_your_desktop_panel_aka_xfce_genmon_panel_plugin_rules/">Nagios monitoring in your desktop panel aka Xfce Genmon panel plugin rules!</a></h1>

		<div class="entry-meta">
			<span class="entry-date">
				<a href="http://localhost:1313/post/nagios_monitoring_in_your_desktop_panel_aka_xfce_genmon_panel_plugin_rules/" rel="bookmark">
					<time class="entry-date" datetime="2007-08-05 16:42:46 -0400 EDT">
						August 5, 2007
					</time>
				</a>
			</span>
		</div>

	</header>
	
	<div class="entry-content">
		<p>FOSS is written by users, for users, and what I've been doing/experiencing this afternoon is a perfect example of that.<!--more--><br />

First of all take <a href="http://www.xfce.org">Xfce</a>: a lightweight but sleek and flexible Desktop Environment.  Then take a look at the <a href="http://goodies.xfce.org/">Xfce Goodies project</a>, more specifically the <a href="http://goodies.xfce.org/projects/panel-plugins/start">Panel Plugins</a> page.  There are plenty of panel plugins to make your life easier: they check your mail, you can control your media player, they can show how your pc performs, built-in dictionaries, translate tools or command lines, show weather forecasts and so on.</p>

<p>Now, for <a href="http://corporate.netlog.com">work</a> I need to keep an eye on <a href="http://www.nagios.org/">Nagios</a>, (Nagios is a great FOSS host/service monitoring web application) but I don't like periodically checking the same webpage over and over again:<br />

news should come to me, not the other way around.</p>

<p>Now, I had already found an excellent <a href="https://addons.mozilla.org/en-US/firefox/addon/3607">Nagios Checker Firefox extension</a> but then I would need to have Firefox open all the time, which I don't.<br />

So at first I wanted to write my own panel plugin that would let me allow seeing the most important Nagios status information but then I came across the coolest Xfce panel plugin of them all: the <a href="http://goodies.xfce.org/projects/panel-plugins/xfce4-genmon-plugin">Genmon plugin</a>.  This is a plugin which you can add as many times to your panel as you want, and for each instance you can configure a script that it should run, and the frequency of it.  Like this you can create your own simple scripts (in php, bash, perl, python,...) which generate content (eg: text and images to be shown on the panel, tooltip, on-click action etc) and the Genmon plugin takes care of the rest.</p>

<p>This is exactly what I've done and in less then an hour everything was working just like I wanted :-)<br />

Well, not exactly: apparently the on-click action is bound to the image you show.  I would rather show no image at all and just show text with an on-click action bound to it, but this seems not possible so I had to use an icon.  This made my panel a bit larger (as text is shown beneath the icon, you can't configure it to place it next to it) Also it would be neat if I could work with colors: red for hosts who are down, green for those who are up etc.  Some details I could achieve if I would make my hands dirty, but for now I don't have time to enhance the Genmon plugin or to write my own, so I just live with it ;-)</p>

<p>Anyways, enough talk.</p>

<p>Here is a screenshot:</p>

<p><img src="/files/xfce_genmon_nagios_script.png"/></p>

<p>The cursor is not on the screenshot but I was obviously hoovering over the panel plugin to show the tooltip.<br />

You can also see at the left the notes plugin and the mail checker plugin and at the right the volume control, trash applet, battery monitor, systray, clock and action button(s) panel plugins.</p>

<p>And here is the source code of my bash script</p>

<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">&lt;!<span style="color: #666666">[</span>CDATA<span style="color: #666666">[</span>

<span style="color: #408080; font-style: italic">#!/bin/bash</span>



<span style="color: #408080; font-style: italic">#</span>

<span style="color: #408080; font-style: italic"># Written by Dieter Plaetinck</span>

<span style="color: #408080; font-style: italic"># Licensed under the GPL V3</span>

<span style="color: #408080; font-style: italic"># See gnu.org/licenses/gpl-3.0.html</span>

<span style="color: #408080; font-style: italic">#</span>

<span style="color: #408080; font-style: italic"># works for Nagios 2.x No idea about 3.x </span>





<span style="color: #19177C">URL</span><span style="color: #666666">=</span>https://&lt;yourhost&gt;/nagios/cgi-bin/tac.cgi

<span style="color: #19177C">USERNAME</span><span style="color: #666666">=</span>username

<span style="color: #19177C">PASSWORD</span><span style="color: #666666">=</span>password



<span style="color: #19177C">PAGE</span><span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">$(</span>curl -s -k -u <span style="color: #19177C">$USERNAME</span>:<span style="color: #19177C">$PASSWORD</span> <span style="color: #19177C">$URL</span><span style="color: #008000; font-weight: bold">)</span>

<span style="color: #19177C">HOSTS_DOWN</span><span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">$(</span>           <span style="color: #008000">echo</span> -e <span style="color: #BA2121">&quot;</span><span style="color: #19177C">$PAGE</span><span style="color: #BA2121">&quot;</span> | grep <span style="color: #BA2121">&quot;hoststatustypes=4&#39; class=&#39;hostHeader&#39;&quot;</span> | awk <span style="color: #BA2121">&#39;{print $5}&#39;</span> | cut -c 20-<span style="color: #008000; font-weight: bold">)</span>

<span style="color: #19177C">HOSTS_UNREACHABLE</span><span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">$(</span>    <span style="color: #008000">echo</span> -e <span style="color: #BA2121">&quot;</span><span style="color: #19177C">$PAGE</span><span style="color: #BA2121">&quot;</span> | grep <span style="color: #BA2121">&quot;hoststatustypes=8&#39; class=&#39;hostHeader&#39;&quot;</span> | awk <span style="color: #BA2121">&#39;{print $5}&#39;</span> | cut -c 20-<span style="color: #008000; font-weight: bold">)</span>

<span style="color: #19177C">HOSTS_UP</span><span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">$(</span>             <span style="color: #008000">echo</span> -e <span style="color: #BA2121">&quot;</span><span style="color: #19177C">$PAGE</span><span style="color: #BA2121">&quot;</span> | grep <span style="color: #BA2121">&quot;hoststatustypes=2&#39; class=&#39;hostHeader&#39;&quot;</span> | awk <span style="color: #BA2121">&#39;{print $5}&#39;</span> | cut -c 20-<span style="color: #008000; font-weight: bold">)</span>

<span style="color: #19177C">HOSTS_PENDING</span><span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">$(</span>        <span style="color: #008000">echo</span> -e <span style="color: #BA2121">&quot;</span><span style="color: #19177C">$PAGE</span><span style="color: #BA2121">&quot;</span> | grep <span style="color: #BA2121">&quot;hoststatustypes=1&#39; class=&#39;hostHeader&#39;&quot;</span> | awk <span style="color: #BA2121">&#39;{print $5}&#39;</span> | cut -c 20-<span style="color: #008000; font-weight: bold">)</span>



<span style="color: #19177C">SERVICES_CRIT</span><span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">$(</span>        <span style="color: #008000">echo</span> -e <span style="color: #BA2121">&quot;</span><span style="color: #19177C">$PAGE</span><span style="color: #BA2121">&quot;</span> | grep <span style="color: #BA2121">&quot;servicestatustypes=16&#39; class=&#39;serviceHeader&#39;&quot;</span> | awk <span style="color: #BA2121">&#39;{print $5}&#39;</span> | cut -c 23-<span style="color: #008000; font-weight: bold">)</span>

<span style="color: #19177C">SERVICES_WARN</span><span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">$(</span>        <span style="color: #008000">echo</span> -e <span style="color: #BA2121">&quot;</span><span style="color: #19177C">$PAGE</span><span style="color: #BA2121">&quot;</span> | grep <span style="color: #BA2121">&quot;servicestatustypes=4&#39; class=&#39;serviceHeader&#39;&quot;</span> | awk <span style="color: #BA2121">&#39;{print $5}&#39;</span> | cut -c 23-<span style="color: #008000; font-weight: bold">)</span>

<span style="color: #19177C">SERVICES_UNKNOWN</span><span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">$(</span>     <span style="color: #008000">echo</span> -e <span style="color: #BA2121">&quot;</span><span style="color: #19177C">$PAGE</span><span style="color: #BA2121">&quot;</span> | grep <span style="color: #BA2121">&quot;servicestatustypes=8&#39; class=&#39;serviceHeader&#39;&quot;</span> | awk <span style="color: #BA2121">&#39;{print $5}&#39;</span> | cut -c 23-<span style="color: #008000; font-weight: bold">)</span>

<span style="color: #19177C">SERVICES_OK</span><span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">$(</span>          <span style="color: #008000">echo</span> -e <span style="color: #BA2121">&quot;</span><span style="color: #19177C">$PAGE</span><span style="color: #BA2121">&quot;</span> | grep <span style="color: #BA2121">&quot;servicestatustypes=2&#39; class=&#39;serviceHeader&#39;&quot;</span> | awk <span style="color: #BA2121">&#39;{print $5}&#39;</span> | cut -c 23-<span style="color: #008000; font-weight: bold">)</span>

<span style="color: #19177C">SERVICES_PENDING</span><span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">$(</span>     <span style="color: #008000">echo</span> -e <span style="color: #BA2121">&quot;</span><span style="color: #19177C">$PAGE</span><span style="color: #BA2121">&quot;</span> | grep <span style="color: #BA2121">&quot;servicestatustypes=1&#39; class=&#39;serviceHeader&#39;&quot;</span> | awk <span style="color: #BA2121">&#39;{print $5}&#39;</span> | cut -c 23-<span style="color: #008000; font-weight: bold">)</span>

<span style="color: #008000">echo</span> <span style="color: #BA2121">&quot;&lt;img&gt;scripts/nagios.gif&lt;/img&gt;&quot;</span>

<span style="color: #008000">echo</span> <span style="color: #BA2121">&quot;&lt;txt&gt;</span><span style="color: #19177C">$HOSTS_DOWN</span><span style="color: #BA2121">-</span><span style="color: #19177C">$SERVICES_CRIT</span><span style="color: #BA2121">/</span><span style="color: #19177C">$SERVICES_WARN</span><span style="color: #BA2121">&lt;/txt&gt;&quot;</span>

<span style="color: #008000">echo</span> <span style="color: #BA2121">&quot;&lt;tool&gt;Hosts: </span><span style="color: #19177C">$HOSTS_DOWN</span><span style="color: #BA2121"> down / </span><span style="color: #19177C">$HOSTS_UNREACHABLE</span><span style="color: #BA2121"> unreachable / </span><span style="color: #19177C">$HOSTS_UP</span><span style="color: #BA2121"> up / </span><span style="color: #19177C">$HOSTS_PENDING</span><span style="color: #BA2121"> pending</span>

<span style="color: #BA2121">Services: </span><span style="color: #19177C">$SERVICES_CRIT</span><span style="color: #BA2121"> crit / </span><span style="color: #19177C">$SERVICES_WARN</span><span style="color: #BA2121"> warn / </span><span style="color: #19177C">$SERVICES_UNKNOWN</span><span style="color: #BA2121"> unknown / </span><span style="color: #19177C">$SERVICES_OK</span><span style="color: #BA2121"> ok / </span><span style="color: #19177C">$SERVICES_PENDING</span><span style="color: #BA2121"> pending&lt;/tool&gt;&quot;</span>

<span style="color: #008000">echo</span> <span style="color: #BA2121">&quot;&lt;click&gt;firefox https://&lt;yourhost&gt;/nagios&lt;/click&gt;&quot;</span>

<span style="color: #666666">]]</span>&gt;
</pre></div>
<p>At my company we use https, If you use http I don't know if the authentication method is the same. If not check the -d flag for curl.<br />

The icon is just one I took from the nagios page and resized it a bit.  The script will be running in your home directory (even though you can put it anywhere you want)</p>

<p>PS: does anyone know a good Apple Keychain- like daemon that I can query from other scripts to receive passwords? Preferably GTK ones that do not pull in Gnome deps.  So I don't have to store passwords in cleartext... (and I need this anyway for other purposes :p)</p>

	</div>

	<footer class="entry-meta">
		<span class="tag-links">		
			
                <a href="http://localhost:1313//tags/netlog/index.html" rel="tag">netlog</a>
            
                <a href="http://localhost:1313//tags/foss/index.html" rel="tag">foss</a>
            
                <a href="http://localhost:1313//tags/bash/index.html" rel="tag">bash</a>
            
		</span>
	</footer>
</article> 

			
				<article class="post type-post status-publish format-standard hentry">

	
	<header class="entry-header">

	

		<div class="entry-meta">
			<span class="cat-links">
                
			</span>
		</div>

        <h1 class="entry-title"><a href="http://localhost:1313/post/assymetric_keys_instead_of_passwords_for_ssh_authentication_to_increase_security_and_convenience/">Assymetric keys instead of passwords for SSH authentication to increase security and convenience</a></h1>

		<div class="entry-meta">
			<span class="entry-date">
				<a href="http://localhost:1313/post/assymetric_keys_instead_of_passwords_for_ssh_authentication_to_increase_security_and_convenience/" rel="bookmark">
					<time class="entry-date" datetime="2007-07-14 20:22:38 -0400 EDT">
						July 14, 2007
					</time>
				</a>
			</span>
		</div>

	</header>
	
	<div class="entry-content">
		<p>I've been using <a href="http://www.openssh.com/">OpenSSH</a> already for a while and although I've seen mentions of "public key authentication" and "RSA encryption" several times in it's config files, I never decided to figure out what it did exactly, and stuck to password authentication.  But now the guys at work explained how it works and after reading more about it, I'm totally hooked on it!</p>

<p>It's a feature in ssh protocol version 2 (thus it's around for already a while, e.g. we can all use it without updating something) which essentially comes down to this: you generate an asymmetric key pair and distribute the public key to all remote hosts. When logging in to that host, the host will encrypt a random integer, which only you can decrypt (using the private key) and hence prove your identity.  Too secure your private key you'll store it encrypted with a password.  Ssh-agent (which is bundled with openssh) is the tool that interacts with ssh to perform this task: when logging in to a host, ssh-agent will open the private key for you automatically <em>if it can decrypt it with the password it receives from you</em>  But the problem is you'll have to load (enter your password and decrypt the key) each time again.</p>

<p>This is where <a href="http://www.gentoo.org/proj/en/keychain/index.xml">keychain</a> comes in, or you can use <a href="http://www.phil.uu.nl/~xges/ssh/">SSH Agent</a> (don't confuse this with the ssh agent that comes with openssh) if you're a Mac user and like gui's.  These tools basically ask you your passwords for all private keys you wish to use in a session (with session I mean "the whole time of using your computer"), decrypt the encrypted key on your hard disk and cache the decrypted key in ram, so it can be used in all terminals you open.</p>

<p>For more information:<br />

<a href="http://www.ibm.com/developerworks/library/l-keyc.html">OpenSSH key management, Part 1: Understanding RSA/DSA authentication</a><br />

<a href="http://www.ibm.com/developerworks/library/l-keyc2/">OpenSSH key management, Part 2: Introducing ssh-agent and keychain</a><br />

<a href="http://www.ibm.com/developerworks/linux/library/l-keyc3/">OpenSSH key management, Part 3: Agent forwarding and keychain improvements</a> (freaks only ;-))</p>

<p>Have fun</p>

	</div>

	<footer class="entry-meta">
		<span class="tag-links">		
			
                <a href="http://localhost:1313//tags/linux/index.html" rel="tag">linux</a>
            
                <a href="http://localhost:1313//tags/foss/index.html" rel="tag">foss</a>
            
		</span>
	</footer>
</article> 

			
				<article class="post type-post status-publish format-standard hentry">

	
	<header class="entry-header">

	

		<div class="entry-meta">
			<span class="cat-links">
                
			</span>
		</div>

        <h1 class="entry-title"><a href="http://localhost:1313/post/the_perfect_gtk_music_player_can_exaile_replace_amarok/">The perfect GTK music player: can Exaile replace Amarok?</a></h1>

		<div class="entry-meta">
			<span class="entry-date">
				<a href="http://localhost:1313/post/the_perfect_gtk_music_player_can_exaile_replace_amarok/" rel="bookmark">
					<time class="entry-date" datetime="2007-07-08 12:50:50 -0400 EDT">
						July 8, 2007
					</time>
				</a>
			</span>
		</div>

	</header>
	
	<div class="entry-content">
		<p>I've always liked Amarok: it does everything I always wanted, <em> and more</em>.  It looks perfect in every way ...<br />

But .. it uses the QT library, and although there are tricks to make QT applications more fit in with your gtk desktop/theme it will never fit in perfectly, not only graphically but also because you still need to load the qt libraries when you want to listen to some music and it is built to interact with the KDE desktop environment.</p>

<p>So, I've been looking for an alternative, a GTK application strong enough to actually be able to replace Amarok, the king of all software music players.<!--more--></p>

<h3>Requirements</h3>

<p>First a list of features I would like to see in my new music player.  Let's keep it real: I don't think there is <em>any</em> music player out there that does everything listed here, not even Amarok.  I can live with some missing features, as long as it has the most important ones.  The other features might be added later on anyway, and who knows, maybe I'll start contributing to a project if I really like it...</p>

<p>In order of importance:</p>

<ul>

<li>Last.fm submitting</li>

<li>Jack output</li>

<li>Advanced management of songs/albums/artists and playlists with ratings (not just bookmarks)</li>

<li>Last.fm stream listening</li>

<li>Ipod support</li>

<li>Radio streams</li>

<li>Podcasts</li>

<li>Artist/album/song information fetching from Wikipedia</li>

<li>File system monitoring (Inotify) so that it detects the new songs when I add them to my file system</li>

<li>Lyrics</li>

<li>Volume normalization (either through <a href="http://replaygain.hydrogenaudio.org/">ReplayGain</a> or just automatically) (if this is not built-in I can always route through a compressor/limiter myself)</li>

</ul>

<p>Stuff that other people like, but I don't need/want/care about:</p>

<ul>

<li>On screen display (when a new song starts)</li>

<li>Visualizations</li>

<li>Musicbrainz(*)</li>

<li>CD-ripping (not the task of a music player imho)</li>

</ul>

<p>(*): I absolutely love Musicbrainz and use it all the time but I don't think it is functionality to be put in a music player.  I use the Musicbrainz Picard tagger to organize my collection.  Putting all the needed functionality inside the media player would make it very bloated.  So in theory I actually wouldn't need any tag editing at all in my music player<br />

(this could be a discussion in it's own merit: why don't we get rid of all tag editing functionality in all music players and use decent, separate utilities such as the Musicbrainz Picard tagger to tag your collection?)</p>

<h3>Contenders</h3>

<p>It struck me how many GTK music players there are out there, and especially how similar some of them are.</p>

<ul>

<li><a href="http://www.sacredchao.net/quodlibet/">Quod Libet</a>: written in python, pretty advanced (podcasts, shoutcasts, Last.fm submissions, reg-exp song searching)</li>

<li><a href="http://www.musicpd.org">mpd</a>: although I like a daemon based approach (I sometimes don't have X open - pretty seldomly though - ) it (even combined with any of the graphical front ends) doesn't offer anything close to my requirements</li>

<li><a href="http://banshee-project.org">Banshee</a>: built on Mono. Has podcasts, ipod support, smart playlists, and even inotify support but didn't even compile on Gentoo, so never mind...</li>

<li><a href="http://www.listen-project.org/">Listen</a>: written in python, it looks pretty advanced: podcasts, shoutcasts, Last.fm, Wikipedia fetching, ... it can even create playlists for you based on your Last.fm account</li>

<li><a href="http://live.gnome.org/Rhythmbox">Rhythmbox</a>: Gnomes music player inspired by Apple's iTunes.  featuring internet radio, ratings, lyrics, artwork, Last.fm, podcasts, cd-ripping, ipod writing (only partial !), plugins, file system monitoring (I think through polling, not through inotify).  According to some people it's pretty buggy and I can only agree: version 0.10 (latest)  crashed many times on me :(</li>

<li><a href="http://www.exaile.org">Exaile</a> I kept the best one for the end ;-).  It's another one written in python, inspired by Amarok and hence has many similar features.  In addition to that you can also get guitar tabs with it. (why no drum tabs? ;-) ) According to somebody on trac it's <a href="http://exaile.org/trac/ticket/485">better then Listen</a>.

</li>

</ul>

<h3>is Exaile a worthy alternative?</h3>

<p>Description on the <a href="http://www.exaile.org/">Exaile website</a>:<br />

<cite><br />

Exaile is a music player aiming to be similar to KDE's Amarok, but for GTK+ and written in Python. It incorporates many of the cool things from Amarok (and other media players) like automatic fetching of album art, handling of large libraries, lyrics fetching, artist/album information via Wikipedia, Last.fm submission support, and optional iPod support via a plugin.<br />

In addition, Exaile also includes a built-in SHOUTcast directory browser, tabbed playlists (so you can have more than one playlist open at a time), blacklisting of tracks (so they don't get scanned into your library), downloading of guitar tablature from fretplay.com, and submitting played tracks on your iPod to Last.fm<br />

</cite><br />

The description pretty much sums up all there is about Exaile.<br />

However I want to add it also supports podcasts and streaming radio.<br />

You can also rate all your tracks and it has some smart playlists (depending on ratings, newest, random, top tracks, ...)<br />

It uses sqlite (no MySql support like Amarok, which is not a big miss)<br />

The fact that it allows to have multiple playlists / radio's / ... open in tabs is a killer feature! (Amarok guys: implement this too!)<br />

Another cool thing are the <a href="http://www.exaile.org/plugs">plugins</a> which add even more functionality, and it's very easy to install them from inside the program, enabling goes instantly (without the need of a restart)<br />

Also, it can output via jack, because it uses the GStreamer framework.  It does however create a new jack instance for each song, so each time a song changes, it drops the current jack output and creates a new one.  I don't like this, because each time have to re-attach my routings, maybe there is some automated way to do this (with <a href="http://qjackctl.sourceforge.net/">qjackctl</a> or something?) but I haven't figured it out yet.  If anyone knows more about this, let me know!</p>

<p>When last.fm submission fails (eg when your connection is down) it doesn't keep a queue to resend later like Amarok does, also it currently doesn't offer Last.fm radio streaming.<br />

When searching through your collection the results aren't updated instantly: it takes a second or so (just like when using Amarok, so that's fine)<br />

I don't think Exaile can automatically mount your Ipod for you.  But I don't think this is the task of the media player:  You can always use a deamon (or your DE) to do that (I use thunar-volman in Xfce for that).  The media player should however work well with the device, after it's mounted.  In Exaile the Ipod plugin works pretty well, when you mount your Ipod you can make it connect to it, show you the playlists and songs, and you can add songs and playlists just like in Amarok.  I couldn't, however, edit the playlist that was on the Ipod and creating and deleting a new playlist was a bit buggy (gui still showing old entry with some random ascii characters instead of not showing the playlist anymore)</p>

<p>As a last negative point, it seems to not support inotify as of yet.  You can configure it to systematically re-scan your collection every specific interval which is okay, but doesn't come close to inotify (especially for huge collections)</p>

<p>So, to conclude I would say Exaile is a worthy alternative for Amarok, which is a huge thing to say.  It doesn't offer everything Amarok does, but it does have most important features and even offers some - useful ones - that Amarok doesn't have.  And I never had it to crash or anything like that, it behaved well and stable.</p>

<p>The project is however pretty young and it is being actively developed.  Which is a must because some features still need to be implemented (such as inotify support and Last.fm streaming)<br />

But I see much activity on trac, especially in <a href="http://www.exaile.org/trac/tags/'last.fm'">the domain of Last.fm</a> where I can see that <a href="http://www.exaile.org/trac/ticket/299">support for Last.fm streams is scheduled for the next minor release (0.2.11)</a> so I'm not worrying and I'm using Exaile full time right now.</p>

<p>I haven't deleted Amarok just yet, but I don't think that will take very long ;-) </p>

<p>Don't take my word for it, but if I ever find the time for it,  I would even like to get intimate with the code base and do some contributions.</p>

	</div>

	<footer class="entry-meta">
		<span class="tag-links">		
			
                <a href="http://localhost:1313//tags/linux/index.html" rel="tag">linux</a>
            
                <a href="http://localhost:1313//tags/foss/index.html" rel="tag">foss</a>
            
                <a href="http://localhost:1313//tags/music/index.html" rel="tag">music</a>
            
		</span>
	</footer>
</article> 

			
				<article class="post type-post status-publish format-standard hentry">

	
	<header class="entry-header">

	

		<div class="entry-meta">
			<span class="cat-links">
                
			</span>
		</div>

        <h1 class="entry-title"><a href="http://localhost:1313/post/dauth/">dAuth</a></h1>

		<div class="entry-meta">
			<span class="entry-date">
				<a href="http://localhost:1313/post/dauth/" rel="bookmark">
					<time class="entry-date" datetime="2007-07-02 13:19:14 -0400 EDT">
						July 2, 2007
					</time>
				</a>
			</span>
		</div>

	</header>
	
	<div class="entry-content">
		<p>dAuth is a secure authentication system for CakePHP.</p>

<p>It uses techniques such as the challenge-response paradigm, customizable multiple-stage password hashing, brute force (hammering) detection, session hijacking prevention etc.</p>

<p><a href="http://bakery.cakephp.org/articles/view/introduction-to-dauth-v0-3" onClick="javascript:urchinTracker('bakery.cakephp.org/articles/view/introduction-to-dauth-v0-3');">Read all about it</a></p>

<p>You can download the files separately on the before mentioned page or get the <a href="http://letthemcodecake.com/learning-cakephp/dauth-v03-tarball/" onClick="javascript:urchinTracker('letthemcodecake.com/learning-cakephp/dauth-v03-tarball/');">tarball</a> that somebody was kind enough to create.<br />

(damn I'm lazy today)</p>

<p>I don't maintain this any more!</p>

	</div>

	<footer class="entry-meta">
		<span class="tag-links">		
			
                <a href="http://localhost:1313//tags/php/index.html" rel="tag">php</a>
            
                <a href="http://localhost:1313//tags/foss/index.html" rel="tag">foss</a>
            
                <a href="http://localhost:1313//tags/dauth/index.html" rel="tag">dauth</a>
            
                <a href="http://localhost:1313//tags/cakephp/index.html" rel="tag">cakephp</a>
            
		</span>
	</footer>
</article> 

			
				<article class="post type-post status-publish format-standard hentry">

	
	<header class="entry-header">

	

		<div class="entry-meta">
			<span class="cat-links">
                
			</span>
		</div>

        <h1 class="entry-title"><a href="http://localhost:1313/post/phpdeliciousclient_a_php_cli_client_to_administer_delicious_accounts/">PhpDeliciousClient, a php cli client to administer del.icio.us accounts</a></h1>

		<div class="entry-meta">
			<span class="entry-date">
				<a href="http://localhost:1313/post/phpdeliciousclient_a_php_cli_client_to_administer_delicious_accounts/" rel="bookmark">
					<time class="entry-date" datetime="2007-07-01 16:52:51 -0400 EDT">
						July 1, 2007
					</time>
				</a>
			</span>
		</div>

	</header>
	
	<div class="entry-content">
		<p>PhpDeliciousClient is a console based client for doing maintenance on Del.icio.us accounts.<br />

I wrote it because - to my knowledge - there currently is no good program (including the personalized del.icio.us web page itself) that lets you make changes to your del.icio.us data in a powerful, productive manner. (with data I primarily mean tags. Posts and bundles are considered less important).</p>

<p>You probably are familiar with the fact that a Delicious account (or any tag based meta data organizing system, for that matter) can soon become bloated:  It gets filled with way too many tags.  Among those tags several of them mean the same (fun, funny, humor, ...) or include the other (humor, jokes, ...)  You can group them in bundles but even then you need to add all the tags to a post if you want it to appear in the results for that tag.  Not very convenient. Also, if you have your del.icio.us bookmarks available in Firefox, you'd have a menu with several hundreds of entries (one for each tag), each menu containing usually just a few (or worse: just one) entry.</p>

<p>When I got in this situation I tried to fix it, but it was a hell of a task to do this on the Delicious webpage itself, and I although I found some other tools they were far to basic, outdated, dependent on other stuff or just not meant for this kind of task, so I decided to write my own.</p>

<p>The result is a php command line program called <a href="/php_delicious_client">PhpDeliciousClient</a> (as you can see, I added it to the menu on the left too), which uses the <a href="http://www.ejeliot.com/pages/php-delicious">PhpDelicious</a> library to access the Del.icio.us api.</p>

<p>The primary focus of the program is to help you to bring your tags in balance, in an as efficient way as possible.  Other stuff, which can be done just fine on the delicious page (editing single posts, changing your password, ...) is not implemented.  </p>

<p>It's a bit hacky, I don't give any guarantees but I can tell I used it to edit <a href="http://del.icio.us/Dieter_be">my own Del.icio.us page</a>, going from about 400 tags to about 80 without any problems.</p>

<p>That said, head over to <a href="/php_delicious_client">the PhpDeliciousClient project page</a> for some more information, and to download it ;-)</p>

	</div>

	<footer class="entry-meta">
		<span class="tag-links">		
			
                <a href="http://localhost:1313//tags/web2.0/index.html" rel="tag">web2.0</a>
            
                <a href="http://localhost:1313//tags/php/index.html" rel="tag">php</a>
            
                <a href="http://localhost:1313//tags/foss/index.html" rel="tag">foss</a>
            
                <a href="http://localhost:1313//tags/bash/index.html" rel="tag">bash</a>
            
		</span>
	</footer>
</article> 

			
				<article class="post type-post status-publish format-standard hentry">

	
	<header class="entry-header">

	

		<div class="entry-meta">
			<span class="cat-links">
                
			</span>
		</div>

        <h1 class="entry-title"><a href="http://localhost:1313/post/php_delicious_client/">PhpDeliciousClient</a></h1>

		<div class="entry-meta">
			<span class="entry-date">
				<a href="http://localhost:1313/post/php_delicious_client/" rel="bookmark">
					<time class="entry-date" datetime="2007-06-29 13:52:21 -0400 EDT">
						June 29, 2007
					</time>
				</a>
			</span>
		</div>

	</header>
	
	<div class="entry-content">
		<h3>Introduction</h3>

<p>PhpDeliciousClient is a CLI program for administering your Delicous account.  When you invoke it from the command line you have some methods to administer your tags and your posts.</p>

<p>It's written in PHP and uses <a href="http://www.ejeliot.com/">Ed Eliot's</a> <a href="http://www.ejeliot.com/pages/php-delicious">PhpDelicous</a> class to contact the del.icio.us api. (included in download)<br />

PhpDeliciousClient is licensed under the GPL v2, while the PhpDelicious class is licensed under the BSD license.</p>

<h3>Why?</h3>

<p>The main reason I started developing it is because administering your account on the del.ico.us web interface can be cumbersome.<br />

This is especially true in the case of balancing your tags:<br />

After a while, your del.icio.us account can get unbalanced: this is when you have many tags, but most of them only contain a few posts (very often even just one! ).<br />

So you would want to balance them again, by deleting and renaming some very specific tags so that you get a collection consisting of less tags (who are more general) and contain about 10 ~ 30 posts each.  Maybe you even also want to delete or rename some general ones who have way to many associated posts.<br />

If you want to do this via the del.icio.us web interface you could either go to your personal page, click a tag, and delete the tag manually from each associated post.  Or you could go to the delete or rename tag pages.  On these pages you have a form where you can select an existing tag from a dropdown (which usually is huge) and choose to delete or rename it (depending on which page you are on).  Then you would need to go to the form again and do this again for each tag.</p>

<p>With this tool, you can get a list of tags with certain conditions.  Eg "show me all tags who have between 1 and 3 associated posts".  You can then loop through that list and for each tag the tool will present you the option to delete, rename or skip it.</p>

<p>Of course it can do more, but this was my focus: making balancing an account as pleasant as possible.  Other features, such as adding or editing single posts are considered less important as these things can be done just fine on the del.icio.us page.</p>

<h3>Current state</h3>

<p>Currently the tool seems to do what it is intended to (and pretty well, at least for me: I cleaned up my account from about 400 to 80 tags during development of this program).<br />

However I don't give any warranty, the tool is only moderately documented, performs little to no user input checking and isn't very well tested so don't expect any higher quality then that of the average Microsoft product.<br />

This program shouldn't empty your del.icio.us account or blow up your computer but if it does I cannot be held responsible.</p>

<h3>Supported features</h3>

<ul>

<li>[t] View Tag: Based on the name of tag you enter, you can see the associated posts and edit or rename the tag.</li>

<li>[ts]  View Tags: Shows you all tags based on certain criteria:

<ul>

<li>lowerlimit: the minimum amount of times a tag has to be associated to a post</li>

<li>upperlimit: the maximum amount of times a tag has to be associated to a post</li>

<li>hard limit: the maximum number of tags you wish to edit/view at once</li>

</ul>

<p>You can decide to view associated posts for each tag, and you can choose wether to only show the tags, or to present you a menu with options for each one.  I usually use the latter, along with associated posts viewing enabled.</li>

<li>[p] View Post: shows you the first hit based on a tag and url*</li>

<li>[ps] View Posts: shows you all posts based on a tag and url*</li>

<li>[lu] Date of last update: Shows you the time when the data (on the serverside) last changed</li>

</ul>

<p>*: url based searching is still buggy, I'm working on it.</p>

<h3>Plans for the future</h3>

<p>My goals for upcoming releases are (aside from bug fixing) to add features to let you do stuff that you currently can't do or at least not in a productive manner.  </p>

<h4>Known bugs to be fixed</h4>

<ul>

<li>URL-based post querying doesn't work</li>

<li>Timezone not taken into account or something like that, because the "last updated" date has a 2hrs offset for me</li>

<li>During list iteration tags that have been renamed/deleted already still appear in posts for other tags</li>

<li>Issue less load on the Del.icio.us webservice by using the updated date (gonna take a look at Ed's caching system for that)</li>

</ul>

<h4>Features I have on my mind</h4>

<ul>

<li>Try to hide password as it is typed in by user</li>

<li>When a tag has many associated posts, automatically show them more concisely</li>

<li>An "are you sure?" thing when you want to rename to a tag that already has many (say: 40) associated posts</li>

<li>A mode to only show tags that differ one letter, or differ several letters, as long as they have enough in common (say: 2/3, 1/2 or user configurable)</li>

<li>An improved commandline that allows commands/queries like "rm tag1 tag2 tag3"

</ul>

<h3>Prerequisites</h3>

<ul>

<li>A shell (such as bash)</li>

<li>PHP 4 or higher, with php-cli enabled (default)</li>

<li>A del.icio.us account, preferrably a very messy one</li>

</ul>

<h3>Download</h3>

<p><a href="http://users.edpnet.be/dieter/php_delicious_client_v05.zip" onClick="javascript:urchinTracker ('/files/php_delicious_client_v05.zip');">release v0.5 (1-7-2007)</a></p>

<h3>Installation</h3>

<p>Unpack the archive and put the directory somewhere on your system.  On Linux /usr/local/bin/ is usually a good choice.<br />

Make sure pdclient.php has the executable flag (x).  If the directory is in your $PATH, you can just type pdclient.php on your console, otherwise you need to type &lt;path to program&gt;/phpdeliciousclient/pdclient.php or edit your $PATH.</p>

<p>You could also create a symlink in a good directory: <em>ln -s &lt;path to program&gt;/phpdeliciousclient/pdclient.php /usr/local/bin/pdclient</em></p>

<h3>Usage</h3>

<p>I choose a mysql-like syntax for invoking the program.  Valid options are:</p>

<ol>

<li><em>pdclient.php</em></li>

<li><em>pdclient.php --help</em></li>

<li><em>pdclient.php --user &lt;delicious username&gt;</em></li>

<li><em>pdclient.php --user &lt;delicious username&gt; --password</em></li>

<li><em>pdclient.php --user &lt;delicious username&gt; --password &lt;delicious password&gt;</em></li>

</ol>

<p>With method #4, the program will ask your password upon execution.  With the other methods this doesn't happen.  You can always update your account information from the menu. (<em>account setup</em>)</p>

<p>In the program prompt you can always type 'h' to get help.  Aside from that, just try the options, you'll figure it out in no time.</p>

<h3>Bug reports &amp; feature requests</h3>

<p>You can report bugs or file feature requests through the comment system on this page. Choose an appropriate title and prefix it with "Bug: " or "Feature: "</p>

	</div>

	<footer class="entry-meta">
		<span class="tag-links">		
			
                <a href="http://localhost:1313//tags/web2.0/index.html" rel="tag">web2.0</a>
            
                <a href="http://localhost:1313//tags/php/index.html" rel="tag">php</a>
            
                <a href="http://localhost:1313//tags/foss/index.html" rel="tag">foss</a>
            
                <a href="http://localhost:1313//tags/bash/index.html" rel="tag">bash</a>
            
		</span>
	</footer>
</article> 

			
				<article class="post type-post status-publish format-standard hentry">

	
	<header class="entry-header">

	

		<div class="entry-meta">
			<span class="cat-links">
                
			</span>
		</div>

        <h1 class="entry-title"><a href="http://localhost:1313/post/open_source_softwarepatenten_vanuit_ethisch_perspectief/">Open source en softwarepatenten vanuit een ethisch perspectief</a></h1>

		<div class="entry-meta">
			<span class="entry-date">
				<a href="http://localhost:1313/post/open_source_softwarepatenten_vanuit_ethisch_perspectief/" rel="bookmark">
					<time class="entry-date" datetime="2007-05-29 00:53:08 -0400 EDT">
						May 29, 2007
					</time>
				</a>
			</span>
		</div>

	</header>
	
	<div class="entry-content">
		<p>Voor school moest ik een ethisch verslag schrijven.<br />

Hier moesten 3 elementen in voorkomen:</p>

<ul>

<li>Inleidende tekst / Persoonlijke reflectie over beroeps- en bedrijfsethiek</li>

<li>Ethische beschouwingen bij het eindwerk</li>

<li>Uitgebreidere verhandeling met ethische beschouwingen over een vraagstuk naar keuze uit het domein van wetenschap, techniek, beroeps- en bedrijfsleven.  In mijn geval is dit vraagstuk naar keuze "open source en softwarepatenten" geworden</li>

</ul>

<p>Zoals sommigen onder jullie weten vind ik ethiek een heel belangrijk aspect in het leven en ik ben dan ook blij dat ik het issue van open source en softwarepatenten verder heb kunnen uitdiepen, want dit is iets waar ik in geinteresseerd ben.</p>

<p>Mijn werkje kan je <a href="/files/portfolio_ethiek_dieter_plaetinck(nl).pdf">hier</a> downloaden.  Lees het gerust door en laat me weten wat je ervan vindt!</p>

<p>Een heel interessant artikel dat ik ben tegengekomen (wel, eigenlijk mailde de docent van Ethiek het me door ;-) is <a href="http://www.kakupesa.net/kakk/docs/culteng2006_preprint.pdf">Community Ethics and Challenges to Intellectual Property</a> geschreven door Kaido Kikkas.  Neem ook dit zeker door want die kerel slaat de nagel op de kop!<br />

Bovenstaande tekst heeft ook het levensverhaal van Edward Howard Armstrong aangehaald.  Toen ik hierover las heb ik direct zijn hele <a href="http://en.wikipedia.org/wiki/Edwin_Howard_Armstrong">biografie op wikipedia</a> doorgenomen. In het kort komt het er op neer dat die persoon enkele geniale uitvindingen heeft gedaan, maar het bedrijf waarvoor hij werkte heeft via dure rechtzaken hem in de zak gezet en geruineerd.  Uiteindelijk ging zijn huwelijk en zijn hele leven eraan kapot.  En dan heeft hij zelfmoord gepleegd.<br />

Ongelooflijk hoe ver het egoisme van een bedrijf kan gaan.  Laten we dan ook leren uit de geschiedenis en kritisch staan tegenover de nieuwe elementen waar we tegenover staan zoals intellectuele eigendommen en patenten.  We willen toch niet dezelfde fouten maken?</p>

<p>In mijn zoektocht naar meer info over deze man stootte ik op deze pagina: <a href="http://world.std.com/~jlr/doom/doom_eng.htm">doomed engineers</a>.  Neem deze even door!</p>

<p>Last but not least wil ik bij deze ook iedereen de film <a href="http://www.revolution-os.com/">Revolution OS</a> aanraden.  Het is al lang geleden dat ik hem gezien heb, maar hij geeft een prima beeld over de opgang van vrije software (en Linux in het bijzonder), en je leert er vooral ook bij over enkele onethische praktijken van softwaregiganten, you know which one I mean...</p>

	</div>

	<footer class="entry-meta">
		<span class="tag-links">		
			
                <a href="http://localhost:1313//tags/linux/index.html" rel="tag">linux</a>
            
                <a href="http://localhost:1313//tags/information-age/index.html" rel="tag">information age</a>
            
                <a href="http://localhost:1313//tags/foss/index.html" rel="tag">foss</a>
            
		</span>
	</footer>
</article> 

			
				<article class="post type-post status-publish format-standard hentry">

	
	<header class="entry-header">

	

		<div class="entry-meta">
			<span class="cat-links">
                
			</span>
		</div>

        <h1 class="entry-title"><a href="http://localhost:1313/post/i_just_became_a_system_and_network_architect/">I just became a &#34;System &amp; Network Architect&#34;</a></h1>

		<div class="entry-meta">
			<span class="entry-date">
				<a href="http://localhost:1313/post/i_just_became_a_system_and_network_architect/" rel="bookmark">
					<time class="entry-date" datetime="2007-04-17 20:11:07 -0400 EDT">
						April 17, 2007
					</time>
				</a>
			</span>
		</div>

	</header>
	
	<div class="entry-content">
		<p>I just signed my contract at <a href="http://incrowd.be/">Incrowd</a>, the company behind sites such as <a href="http://redbox.be/">redbox</a> and <a href="http://www.facebox.com/">facebox</a>.</p>

<p>I will be working there in a team of all young, enthusiastic people.  Among those, some people are already familiar to me:  my old friend <a href="http://www.lievendekeyser.net/">Lieven</a> (we've played in a band together but kept in touch afterwards) and my ex-classmate <a href="http://www.jurriaanpersyn.com/">Jurriaan</a>.  Both of them love their jobs btw :-).</p>

<p>My official title is "System &amp; Network architect".<br />

Things I will be doing there is <!--more--> keeping the "lower level" (hardware, network, databases) secure, stable and performing well.<br />

There will be quite some variety: working together with the dev-team, optimizing where possible, but also testing fancy hardware and software setups, hacking some code, deciding which routes we'll take and administering the systems.<br />

Of course it will be in a <a href="http://en.wikipedia.org/wiki/Free_software">sane</a> <a href="http://en.wikipedia.org/wiki/Open_standard">environment</a> :-)  Otherwise I would never have signed.</p>

<p>Those who know me well will see that all this stuff is actually the kind of things I'm messing with in my spare time (among others of course), so these are things that I'm really interested in.  I'm anxious to start, I even already have a few ideas in my head for stuff I want to check/propose, but of course I'll have to wait a bit:  I have to finish my <a href="/masterproef">thesis</a>, then exams, then (hopefully ;-) ) graduate and after a small vacation my term starts.</p>

<p>PS: We (I can say this now ;-) are still hiring, check our <a href="http://incrowd.be/jobs.html">jobs</a> page.</p>

<p>UPDATE: Incrowd <a href="http://corporate.netlog.com/blog/2007/04/facebox-becomes-netlog/">has become</a> <a href="http://nl.netlog.com/">Netlog</a> </p>

	</div>

	<footer class="entry-meta">
		<span class="tag-links">		
			
                <a href="http://localhost:1313//tags/foss/index.html" rel="tag">foss</a>
            
                <a href="http://localhost:1313//tags/linux/index.html" rel="tag">linux</a>
            
                <a href="http://localhost:1313//tags/netlog/index.html" rel="tag">netlog</a>
            
                <a href="http://localhost:1313//tags/life/index.html" rel="tag">life</a>
            
		</span>
	</footer>
</article> 

			
				<article class="post type-post status-publish format-standard hentry">

	
	<header class="entry-header">

	

		<div class="entry-meta">
			<span class="cat-links">
                
			</span>
		</div>

        <h1 class="entry-title"><a href="http://localhost:1313/post/fosdem_2007_review/">Fosdem 2007 review</a></h1>

		<div class="entry-meta">
			<span class="entry-date">
				<a href="http://localhost:1313/post/fosdem_2007_review/" rel="bookmark">
					<time class="entry-date" datetime="2007-03-15 21:02:41 -0400 EDT">
						March 15, 2007
					</time>
				</a>
			</span>
		</div>

	</header>
	
	<div class="entry-content">
		<p>Every year, during a special weekend in February, the <a href="http://www.ulb.ac.be/">University Libre of Brussels</a> suddenly becomes a little more geeky.<br />

It's that time of the year when many European (and some inter-continental) colleagues join us at<br />

<a href="http://www.fosdem.org">Fosdem: the Free and Open source Software Developers' European Meeting</a> (more info <a href="http://www.fosdem.org/about/fosdem">here</a>).</p>

<!--more-->

<p><a href="http://www.fosdem.org/2007/">This years edition</a> took place in the weekend of 24 - 2 - 2007.  And I was there, for the first time.  Saturday and Sunday :-)</p>

<p>Like usual the <a href="http://www.fosdem.org/2007/schedule/days">schedule</a> was pretty full, with lots of things happening at the same time, and only one thing a human being is able to attend at the same time.  Luckily however the 2 biggest rooms (Janson and Chavanne) were videotaped and the <a href="http://www.fosdem.org/2007/media/video">videos</a> are always made available online afterwards.  So knowing that, I could safely follow other rooms if I found those more interesting.</p>

<h3>Saturday</h3>

<p>The first talk started at 10:00h, and it's about an hour drive, if you don't get lost.<br />

But I need my sleep, especially the sparse kind of sleep after Friday evenings.  (same goes for my buddy <a href="http://ghosty.be/">Geert</a> who I could ride along with).  We headed off at 11h, and arrived somewhere around 12:30.  (Let's blame Brussels' bad road signaling for that).  </p>

<p>Missed the opening talks, and the "status of software patents" and "liberating java" talks which I'm was really interested in, but hey they were taped so no problemo ;-). During lunch break I explored the stands a bit, talked with some guys and picked up some reading material.</p>

<p>At the <a href="http://www.gentoo.org/">Gentoo</a> stand there was no merchandise to be found.  I asked whether merch would arrive, but they said they were afraid not.  (and they were right).  No Gentoo merchandise, that was bummer.  I really wanted a t-shirt or something like that.  Gentoo is one of my favorite distros.</p>

<p>At the gnome stand they had made a panel were people could write their favorite things (or things they hate) about gnome on post-its.  There were things like "gnome should use QT" replied by "qt should use gtk" and all kinds of jokes.  Then there was this guy who was repositioning all the post-it's in the shape of letters of kde.  I use neither (I use <a href="http://www.xfce.org/">xfce</a>) but this sure was a cool place to hang out during breaks.  </p>

<p>After that I followed the <a href="http://www.fosdem.org/2007/schedule/events/xorg">X.org talk</a>, <a href="http://www.fosdem.org/2007/schedule/speakers/keith+packard">Keith</a> (the project leader) was a real-funpants and told us all about the developers involved with Xorg.  Where they live, their tasks, favorite beers, and so on.  More of a talk for the community then the developers.</p>

<p>Next was <a href="http://www.fosdem.org/2007/schedule/events/aiglx">the aiglx one</a>.  Actually I preferred attending <a href="http://www.fosdem.org/2007/schedule/events/linuxbios">linuxBIOS</a> which I just find more interesting.  Besides, thanks to my nvidia card i can run GLX_EXT_texture_from_pixmap without aiglx or xgl, but hey, I guess the other guys are less fortunate so I decided to stick with them.  I can always check linuxBIOS later :-).   This talk was pretty advanced.  A real developers-talk you could say.  I certainly couldn't follow ;-)</p>

<p>After that came a talk about the state of <a href="http://www.fosdem.org/2007/schedule/events/linux_kernel"> the Linux kernel</a>.  It was quite interesting, again, this was a talk aimed at developers, which I'm totally not, but I'm a bit familiar with the kernel (running <a href="http://www.gentoo.org/">Gentoo</a> and following <a href="http://kerneltrap.org/">kerneltrap</a> a bit has it advantages) so I could follow, more or less.</p>

<p>Next I followed <a href="http://www.fosdem.org/2007/schedule/events/donators_return">the donators return</a> thing where people who donated (like me) can <a href="http://fosdem.org/2007/support/donate">win prizes</a>.  I didn't win anything but hey, still I felt the money was well spent.  (and I also got a free t-shirt ;-) )  One of <a href="http://www.sun.com/desktop/workstation/ultra20/">these</a> would certainly fit in my room though ;-))</p>

<p>One thing I just had to attend was the Gentoo devroom.  like I said: Gentoo is one of my favorite distributions.  Also, it was our Belgian irc-friend <a href="http://www.fosdem.org/2007/schedule/speakers/dimitry+bradt">Dimitry (aka diox)</a> who gave his talk so I just couldn't miss <a href="http://www.fosdem.org/2007/schedule/events/gentoo_future_discussion">his talk about Gentoo's future</a>.  This was the first devroom I followed and it was totally different then any other talk: it was more of an interactive talk between the devs and the audience.  In the audience were some real devs, but also lot's of "normal" communitypeople.  Next to me there even was a guy who was very new to Gentoo.  I was happy to tell him all about paludis, overlays and other concepts and terms of Gentoo.</p>

<p>After that, there were no more talks to attend, so I went by some stands again (to check if Gentoo merchandise might have arised, among others), met Geert again and, although it was pretty hard to find our way back in the (now darkened) city of Brussels, we managed to drive back home.</p>

<h3>Sunday</h3>

<p>A new day, and wow, so many cool talks to attend: metasploit, drupal, security testing, mozilla, mono, gplv3, the list goes on.  Luckily many of them were in Janson/Chavanne so I could safely skip these and head for...</p>

<p>the Gentoo devroom.  (yeah, sorry, Gentoo here Gentoo there.  My other favorite distro <a href="http://www.archlinux.org/">Arch Linux</a> wasn't featured anywhere, so Gentoo got all the attention)<br />

I missed the "programing with paludis" one (ouch! I would have liked that one) but I was there to hear <a href="http://www.fosdem.org/2007/schedule/speakers/mike+frysinger">Mike</a> talk about <a href="http://www.fosdem.org/2007/schedule/events/gentoo_council">Gentoo's inner workings</a>.  He told us all about Gentoo's history and how (by who) the project is managed.  That Daniel (the founder of Gentoo) left and came back (I found it remarkable he didn't mention <em>why</em> he left (to work at Microsoft).    Guess that wasn't important enough for the community)</p>

<p>After that <a href="http://www.fosdem.org/2007/schedule/speakers/chris+gianelloni">Chris</a> talked about <a href="http://www.fosdem.org/2007/schedule/events/gentoo_tinderbox_testing">the process that happens for making releases</a>.  I was impressed.</p>

<p>To fill the gap between 13h and 14h I wanted to follow <a href="http://www.fosdem.org/2007/schedule/events/jabber_oneteam">this</a> talk.  I have no idea what oneteam is, but I like jabber.  The room was stuffed with people though, and when opening the door you literally felt warm air coming out, so I decided to let the jabber guys in their oven :-)</p>

<p>After that some more Gentoo talks: <a href="http://www.fosdem.org/2007/schedule/events/gentoo_community_distro">"what makes Gentoo a community based distribution"</a> by <a href="http://www.fosdem.org/2007/schedule/speakers/christel+dahlksjaer">Christel</a> didn't make me believe Gentoo is any more community based then most other open source Linux distributions, but hey Christel was quite a joker and the community vibe in the room was nice.</p>

<p>After that <a href="http://www.fosdem.org/2007/schedule/speakers/marius+mauch">Marius</a> did a <em>great</em> job explaining the ins and outs of portage -especially the new ones- in his talk <a href="http://www.fosdem.org/2007/schedule/events/gentoo_portage">Portage: a look under the surface</a>.</p>

<p>After that <a href="http://www.fosdem.org/2007/schedule/speakers/alexander+faeroey">Alexander</a> did a talk called <a href="http://www.fosdem.org/2007/schedule/events/gentoo_bugday">future of the bugday project</a>.  This was pretty much the kind of information you get by reading the forums/newsletters.  Nothing new, but I don't think the talk intended to make groundbreaking revelations either ;-)</p>

<p>17 'o clock.  Damn.. time went fast.. Fosdem pretty much coming to end, luckily there was another nice topic I was really interested in: <a href="http://www.fosdem.org/2007/schedule/events/embedded_security_devices">Linux on embedded security devices</a>.  This talk wasn't very good though:   No kernel revelations.  No open source code.  No in-depth explanations.<br />

Basically a company showing it's product: an embedded device running Linux, running customized code and a presentation showing a scheme showing where they used technologies like SSL, dns or dhcp.  Boring...  And a little demo.<br />

Nice to see, but nothing more then that.</p>

<p>I think it must have been after this talk I went back to the stands to find <a href="http://christophe.vandeplas.com/">Christophe (aka chri)</a>, who I hadn't met yet but I had helped him a bit getting <a href="http://code.google.com/p/weids/">weids, the "Webbased Information Display System"</a> (which was created for fosdem) to work.<br />

After talking some time with chri the <a href="http://www.fsfeurope.org/">Free Software Foundation: Europe</a> got my attention, and I couldn't resist buying one of their lovely t-shirts.  I can't remember how much it cost me, but it was pretty expensive.  No problem though, as I know the money is in very good hands.</p>

<p>After that me and Geert drunk a beer, and then drove home again.</p>

<p>Fosdem was good.</p>

<h2>Did you know...?</h2>

<ul>

<li>I invited the <a href="http://www.cakephp.org/">CakePHP</a> guys to come?  Unfortunately none of them came, but maybe I can convince them next year!</li>

<li>The catering was allright and very, very cheap (and also run by volunteers)</li>

<li>Fosdem is mentioned in this <a href="http://www.gentoo.org/news/en/gwn/20070305-newsletter.xml">Gentoo newsletter</a>.  Including a picture of all the devs, shot by SeJo (sunday afternoon iirc)</li>

<li>You'll find many pictures <a href="http://www.fosdem.org/2007/media/pictures">here</a></li>

</ul>

<h2>Conclusion</h2>

<p>Most of the talks are aimed at developers, and developers certainly are the guys that should come.  Fosdem is the perfect place to meet, discuss (with both developers of your own team, as with devs of other projects that you depend on), learn and hack some code together.</p>

<p>For the community it's another story.  Many of the talks are too hard to follow, and those talks that are aimed at the community usually don't offer more information then what you would find on the websites, forums/mailinglists or newsletters.<br />

The fact that you can download lots of video material is great.  If you stay home you can still make up for it by watching the movies.<br />

It's cool to meet people though.  And if you want to visit stands of different projects (for example to buy merchandise).  That's imho the best reason for non-developers to come to fosdem.  But that's personal of course.</p>

<p>So who's coming with me to fosdem 2008? :-).</p>

	</div>

	<footer class="entry-meta">
		<span class="tag-links">		
			
                <a href="http://localhost:1313//tags/life/index.html" rel="tag">life</a>
            
                <a href="http://localhost:1313//tags/php/index.html" rel="tag">php</a>
            
                <a href="http://localhost:1313//tags/linux/index.html" rel="tag">linux</a>
            
                <a href="http://localhost:1313//tags/information-age/index.html" rel="tag">information age</a>
            
                <a href="http://localhost:1313//tags/foss/index.html" rel="tag">foss</a>
            
                <a href="http://localhost:1313//tags/cakephp/index.html" rel="tag">cakephp</a>
            
                <a href="http://localhost:1313//tags/bash/index.html" rel="tag">bash</a>
            
                <a href="http://localhost:1313//tags/web2.0/index.html" rel="tag">web2.0</a>
            
                <a href="http://localhost:1313//tags/conf/index.html" rel="tag">conf</a>
            
		</span>
	</footer>
</article> 

			
				<article class="post type-post status-publish format-standard hentry">

	
	<header class="entry-header">

	

		<div class="entry-meta">
			<span class="cat-links">
                
			</span>
		</div>

        <h1 class="entry-title"><a href="http://localhost:1313/post/my_favorite_bash_tricks/">My favorite bash tricks</a></h1>

		<div class="entry-meta">
			<span class="entry-date">
				<a href="http://localhost:1313/post/my_favorite_bash_tricks/" rel="bookmark">
					<time class="entry-date" datetime="2007-03-14 23:38:54 -0400 EDT">
						March 14, 2007
					</time>
				</a>
			</span>
		</div>

	</header>
	
	<div class="entry-content">
		<p>Hello everyone.<br />

This post is about <a href="http://www.gnu.org/software/bash/">bash</a>, the shell providing so many users easy access to the underlying power of their system.<br />

(not <a href="http://www.bash.org/">bash</a> the quote database, although i really like that website too ;-) )<br />

Most people know the basics, but getting to know it better can really increase your productivity.  And when that happens, you might start loving bash as much as I do ;-)</p>

<p>I assume you have a basic knowledge of bash, the history mechanism, and  ~/.bash* files.<br />

So here they are, my favorite tricks, key combo's and some bonus stuff:</p>

<h3>Tricks</h3>

<ul>

<li>"cd -" takes you back to the previous directory, wherever that was.  Press again to cycle back.</li>

<li>putting arguments between braces {like,so} will execute the command multiple times, once for each "argument".  Bash will make the cartesian product when doing it multiple times in 1 expression.  Some less-obvious tricks with this method are mentioned <a href="http://www.bhaskarvk.info/technology/bash-tricks.html">here</a></li>

<li>HISTIGNORE : with this variable you have control over which things are being saved in your history.  <a href="http://www.talug.org/events/20030709/cmdline_history.html">Here</a> is a nice explication.  Especially the space trick is very useful imho.</li>

<li>CD_PATH : <a href="http://www.caliban.org/bash/">Here</a> is a great explanation ;-)</li>

<li>readline (library used by bash) trick:  put this in your ~/.inputrc (or /etc/inputrc) :<br />

<pre><![CDATA[

"\e[5~": history-search-backward

"\e[6~": history-search-forward

]]></pre><p>This way you can do *something*+pageup/pagedown to cycle through your history for commands starting with *something*<br />

You can use the up/down arrows too, their codes are "\e[A" and "\e[B"

</li>

<li>for more "natural" history saving behavior (when having several terminals open): put this in .bash_profile: <br/><br />

<pre><![CDATA[PROMPT_COMMAND='history -a']]></pre><p> (write each command separately in a new entry, instead of all at shell exit).<br />

And type </p>

<pre><![CDATA[shopt -s histappend]]></pre><p> to append instead of overwrite. (this might be default on some distro's.  I think it was on Gentoo)</li>

</ul>

<h3>Shortcuts/keycombos</h3>

<ul>

<li>ctrl+r : search through your history.  Repeatedly press ctrl+r to cycle through hits.</li>

<li>ctrl-u : cut everything on the current line before the cursor.</li>

<li>ctrl-y : paste text that was cut using ctrl-u. (starting at the cursor)</li>

<li>!$: equals the last word of the previous command. (great when performing several operations on the same file)</li>

</ul>

<h3>Bonus material</h3>

<ul>

<li><a href="http://www.caliban.org/bash/index.shtml#completion">Bash completion</a>, an add-on for bash which adds completion for arguments of your commands.  It's pretty smart and configurable.  (it's in portage, and probably in repos of all popular distros out there)</li>

<li><a href="http://n01se.net/agriffis/nopaste/">This script</a> provides you an interface to the <a href="http://rafb.net/paste/">rafb pastebin</a>!</li>

<li>Recursively delete all .svn folders in this folder, and in folders below. "find . -name .svn -print0 | xargs -0 rm -rf"</li>

<li>Recursively count number of files in a directory: "find -not -type d | wc -l"</li>

</ul>

<h3>Conclusion</h3>

<p>Those were all important tricks I'm currently using.  On the web you'll find lots more useful tips :-).<br />

If that still isn't enough, there is also <a href="http://www.gnu.org/software/bash/manual/bashref.html">man bash</a> :o</p>

<p>With aliases and scripts (and involving tools like sed or awk) the possibilities become pretty much endless.  But for that I refer to <a href="http://tldp.org/LDP/abs/html/">tldp.org</a> and your favorite web search engine.</p>

	</div>

	<footer class="entry-meta">
		<span class="tag-links">		
			
                <a href="http://localhost:1313//tags/linux/index.html" rel="tag">linux</a>
            
                <a href="http://localhost:1313//tags/foss/index.html" rel="tag">foss</a>
            
                <a href="http://localhost:1313//tags/bash/index.html" rel="tag">bash</a>
            
                <a href="http://localhost:1313//tags/productivity/index.html" rel="tag">productivity</a>
            
		</span>
	</footer>
</article> 

			
				<article class="post type-post status-publish format-standard hentry">

	
	<header class="entry-header">

	

		<div class="entry-meta">
			<span class="cat-links">
                
			</span>
		</div>

        <h1 class="entry-title"><a href="http://localhost:1313/post/blogpost1_hello_world/">Hello world!</a></h1>

		<div class="entry-meta">
			<span class="entry-date">
				<a href="http://localhost:1313/post/blogpost1_hello_world/" rel="bookmark">
					<time class="entry-date" datetime="2007-03-04 14:45:36 -0400 -0400">
						March 4, 2007
					</time>
				</a>
			</span>
		</div>

	</header>
	
	<div class="entry-content">
		<p>Finally, my own website...<br />

I already wanted to get this up for a long time.  My initial idea was writing (and styling) it all from scratch using the marvelous <a href="http://www.cakephp.org">CakePHP</a> framework along with an authentication system i wrote, <a href="http://bakery.cakephp.org/articles/view/147">dAuth</a>.<br />

However, due to my lack of time I decided to use the excellent <a href="http://www.drupal.org">drupal</a> platform, of which I'm quite sure will get the job done equally well, while drastically liberating my time, so I can invest it in other projects :-)<br />

<a href="http://buytaert.net/">Dries Buytaert</a>'s talk on <a href="http://www.fosdem.org/2007/">fosdem</a> this year really helped on making that decision ;-)</p>

<p>So, what will this site be about?</p>

<ul>

<li>me</li>

<li>my interests

<ul>

<li><a href="http://en.wikipedia.org/wiki/FOSS">Free &amp; Opensource software</a>, and the thoughts/ideals behind it</li>

<li>PHP scripting/programming (I like C(++), bash and j2se too but I'm not as good at it as I am at php)</li>

<li>Audio recording/mixing/production</li>

<li>Drumming, one of my greatest hobbies</li>

<li>Music, bands, movies,... I like</li>

<li>productivity (<a href="http://en.wikipedia.org/wiki/Test-driven_development">TDD</a>, automation scripts, shell/DE tweaks, ...)

<li>ethics and philosophy, these aspects are really important in my life</li>

<li><a href="http://www.jhsjatoo.org/">Jeugdhuis SjaTOo</a>, our local youth club</li>

</ul>

</li>

</ul>

<p>Now let's get started ;-)</p>

	</div>

	<footer class="entry-meta">
		<span class="tag-links">		
			
                <a href="http://localhost:1313//tags/cakephp/index.html" rel="tag">cakephp</a>
            
                <a href="http://localhost:1313//tags/drupal/index.html" rel="tag">drupal</a>
            
                <a href="http://localhost:1313//tags/foss/index.html" rel="tag">foss</a>
            
                <a href="http://localhost:1313//tags/linux/index.html" rel="tag">linux</a>
            
                <a href="http://localhost:1313//tags/php/index.html" rel="tag">php</a>
            
                <a href="http://localhost:1313//tags/web2.0/index.html" rel="tag">web2.0</a>
            
		</span>
	</footer>
</article> 

			
		
		</div>
	</div>
	<div id="secondary">

	

	<div id="primary-sidebar" class="primary-sidebar widget-area" role="complementary">

        

        

		<aside id="categories-3" class="widget widget_categories">


    
     


    <br/>
	<h1 class="widget-title">Popular tags</h1>

    <a href="http://localhost:1313/tags/monitoring">monitoring</a>
    24
    <br/>
    <a href="http://localhost:1313/tags/devops">devops</a>
    22
    <br/>
    <a href="http://localhost:1313/tags/golang">golang</a>
    8
    <br/>
    <br/>
    <br/>

	<h1 class="widget-title">Other tags</h1>

    
        
            <a href="http://localhost:1313/tags/arch">arch</a>
            19
            <br/>
        
    
        
            <a href="http://localhost:1313/tags/bash">bash</a>
            15
            <br/>
        
    
        
            <a href="http://localhost:1313/tags/cakephp">cakephp</a>
            8
            <br/>
        
    
        
            <a href="http://localhost:1313/tags/conf">conf</a>
            9
            <br/>
        
    
        
            <a href="http://localhost:1313/tags/dauth">dauth</a>
            1
            <br/>
        
    
        
        
    
        
            <a href="http://localhost:1313/tags/drums">drums</a>
            1
            <br/>
        
    
        
            <a href="http://localhost:1313/tags/drupal">drupal</a>
            5
            <br/>
        
    
        
            <a href="http://localhost:1313/tags/foss">foss</a>
            45
            <br/>
        
    
        
            <a href="http://localhost:1313/tags/git">git</a>
            3
            <br/>
        
    
        
        
    
        
            <a href="http://localhost:1313/tags/information-age">information-age</a>
            3
            <br/>
        
    
        
            <a href="http://localhost:1313/tags/life">life</a>
            32
            <br/>
        
    
        
            <a href="http://localhost:1313/tags/linux">linux</a>
            20
            <br/>
        
    
        
            <a href="http://localhost:1313/tags/lua">lua</a>
            1
            <br/>
        
    
        
            <a href="http://localhost:1313/tags/mail">mail</a>
            1
            <br/>
        
    
        
        
    
        
            <a href="http://localhost:1313/tags/music">music</a>
            5
            <br/>
        
    
        
            <a href="http://localhost:1313/tags/mysql">mysql</a>
            3
            <br/>
        
    
        
            <a href="http://localhost:1313/tags/n900">n900</a>
            2
            <br/>
        
    
        
            <a href="http://localhost:1313/tags/netlog">netlog</a>
            6
            <br/>
        
    
        
            <a href="http://localhost:1313/tags/openstack">openstack</a>
            1
            <br/>
        
    
        
            <a href="http://localhost:1313/tags/perf">perf</a>
            10
            <br/>
        
    
        
            <a href="http://localhost:1313/tags/photos">photos</a>
            3
            <br/>
        
    
        
            <a href="http://localhost:1313/tags/php">php</a>
            11
            <br/>
        
    
        
            <a href="http://localhost:1313/tags/productivity">productivity</a>
            6
            <br/>
        
    
        
            <a href="http://localhost:1313/tags/python">python</a>
            5
            <br/>
        
    
        
            <a href="http://localhost:1313/tags/real-life">real-life</a>
            2
            <br/>
        
    
        
            <a href="http://localhost:1313/tags/thesis">thesis</a>
            3
            <br/>
        
    
        
            <a href="http://localhost:1313/tags/travel">travel</a>
            2
            <br/>
        
    
        
            <a href="http://localhost:1313/tags/uzbl">uzbl</a>
            6
            <br/>
        
    
        
            <a href="http://localhost:1313/tags/vimeo">vimeo</a>
            3
            <br/>
        
    
        
            <a href="http://localhost:1313/tags/web2.0">web2.0</a>
            9
            <br/>
        
    
</aside>


	</div>

</div>

</div>

		</div>

		<footer id="colophon" class="site-footer" role="contentinfo">

			<div class="site-info">
				<a href="http://gohugo.io">Proudly powered by Hugo</a>
			</div>
		</footer>
	</div>

	<script type='text/javascript' src='http://localhost:1313//js/functions.js'></script>
<script>document.write('<script src="http://'
        + (location.host || 'localhost').split(':')[0]
		+ ':1313/livereload.js?mindelay=10"></'
        + 'script>')</script></body>
</html>
