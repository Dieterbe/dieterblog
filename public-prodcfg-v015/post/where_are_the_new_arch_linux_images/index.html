<!DOCTYPE html>

<html lang="en-us">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width">
	<title>Where are the new Arch Linux release images? &middot; Dieter&#39;s blog</title>
	<link rel="profile" href="http://gmpg.org/xfn/11">
	<!--[if lt IE 9]>
	<script src="http://dieter.plaetinck.be/js/html5.js"></script>
	<![endif]-->

    <link href="http://dieter.plaetinck.be/index.xml" rel="alternate" type="application/rss+xml" title="Dieter&#39;s blog" />

    <link rel='stylesheet' id='twentyfourteen-lato-css'  href='http://fonts.googleapis.com/css?family=Lato%3A300%2C400%2C700%2C900%2C300italic%2C400italic%2C700italic&#038;subset=latin%2Clatin-ext' type='text/css' media='all' />

    <link rel='stylesheet' id='genericons-css' href='http://dieter.plaetinck.be/genericons/genericons.css' type='text/css' media='all' />
	<link rel='stylesheet' id='twentyfourteen-style-css' href='http://dieter.plaetinck.be/css/style.css' type='text/css' media='all' />
	
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
	<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-1455070-1', 'auto');
  ga('send', 'pageview');
</script>
</head>

<body class="home blog masthead-fixed list-view full-width grid">
<div id="page" class="hfeed site">
	<header id="masthead" class="site-header" role="banner">
		<div class="header-main">
			<h1 class="site-title"><a href="http://dieter.plaetinck.be" rel="home">Dieter&#39;s blog</a></h1>

			<div class="search-toggle">
				<a href="#search-container" class="screen-reader-text">Search</a>
			</div>

			<nav id="primary-navigation" class="site-navigation primary-navigation" role="navigation">
				<button class="menu-toggle">Primary Menu</button>
				<a class="screen-reader-text skip-link" href="#content">Skip to content</a>
				<div class="nav-menu">
					<ul>
						
						<li class="page_item">
							<a href="/">blog</a>
						</li>
						
						<li class="page_item">
							<a href="/about/">about</a>
						</li>
						
						<li class="page_item">
							<a href="/talks/">talks</a>
						</li>
						
						<li class="page_item">
							<a href="https://twitter.com/Dieter_be">tweets</a>
						</li>
						
						<li class="page_item">
							<a href="https://github.com/Dieterbe">Github</a>
						</li>
						
					</ul>
				</div>
			</nav>
		</div>

		<div id="search-container" class="search-box-wrapper hide">
			<div class="search-box">
                <script type="text/javascript">
    function site_search(obj) {
    	var host = window.location.host;
        obj.q.value = "site:" + host + " " + obj.ss_q.value;
    }
</script>

<aside id="search-3" class="widget widget_search">
	<form role="search" class="search-form" action="//www.google.com/search" method="get" onSubmit="site_search(this)">

	<input name="q" type="hidden" />
	    <label>
	        <span class="screen-reader-text">Search for:</span>
	        <input name="ss_q" type="text" placeholder="Search ..." class="search-field" />
	    </label>
	    <input type="submit" value="Search" class="search-submit" />
	</form>
</aside>
			</div>
		</div>
	</header>

	<div id="main" class="site-main">


<div id="main-content" class="main-content">

	<div id="primary" class="content-area">
		<div id="content" class="site-content" role="main">

			<article class="post type-post status-publish format-standard hentry">

	
	<header class="entry-header">

	

		<div class="entry-meta">
			<span class="cat-links">
                
			</span>
		</div>

        <h1 class="entry-title"><a href="http://dieter.plaetinck.be/post/where_are_the_new_arch_linux_images/">Where are the new Arch Linux release images?</a></h1>

		<div class="entry-meta">
			<span class="entry-date">
				<a href="http://dieter.plaetinck.be/post/where_are_the_new_arch_linux_images/" rel="bookmark">
					<time class="entry-date" datetime="2011-05-17T21:29:58-04:00">
						May 17, 2011
					</time>
				</a>
			</span>
		</div>

	</header>

	<div class="entry-content">
		<!--more-->
<p>This is a question I get asked a lot recently.  The latest <a href="http://www.archlinux.org/download/">official images</a> are a year old.  This is not inherently bad, unless you pick the wrong mirror from the outdated mirrorlist during a netinstall, or are using hardware which is not supported by the year old kernel/drivers.  A core install will yield a system that needs drastic updating, which is a bit cumbersome.  There are probably some other problems I'm not aware of.  Many of these problems can be worked around (with 'pacman -Sy mirrorlist' on the install cd for example), but it's not exactly convenient.</p>

<p>Over the past years (the spare time in between <a href="/my_metalband.html">the band</a>, my search for an apartment in <a href="http://en.wikipedia.org/wiki/Ghent">Ghent</a> and a bunch of other things) I've worked towards fully refactoring and overthrowing how releases are being done.  Most of that is visible in the <a href="http://projects.archlinux.org/users/dieter/releng.git/">releng build environment repository</a>.
Every 3 days, the following happens automatically:
<ul>
<li>packages to build images (archiso) and some of which are included <i>on</i> the images (aif and libui-sh) get rebuilt.  They are actually git versions, the latter two have a separate develop branch which is used. Normal packages get updated the normal way.</li>
<li>the images are rebuilt, and the dual images get generated</li>
<li>the images, the packages and their sources are synced to the public on <a href="http://releng.archlinux.org/">http://releng.archlinux.org</a></li>
</ul>
Actually things are <a href="http://projects.archlinux.org/users/dieter/releng.git/tree/scripts/releng-build-and-release-testing.sh">bit more involved</a> but this is the gist of it.  All of this is now run on a <a href="https://wiki.archlinux.org/index.php/Category:DeveloperWiki:Server_Configuration#Releng_server_.28alberich.29">dedicated VPS</a> donated by <a href="http://www.airvm.com/">airVM</a>.</p>

<p>I never really completed the <a href="/aif_automatic_lvm_dm_crypt_installations_and_test_suite.html">aif automatic test suite</a>, somewhere along the way I decided to focus on crowdsourcing test results.
The weight of testing images (and all possible combinations of features) has always been huge, and trying to script tasks would either get way complicated or insufficient.
So the new approach is largely inspired by the core and testing repositories:  we automatically build testing images, people report feedback, and if there is sufficient feedback for a certain set of images (or a bunch of similar sets of images) that allows us to conclude we have some good material, we can promote the set to official media.
<br/>The latest piece of the puzzle is the new <a href="http://www.archlinux.org/releng/feedback/">releng feedback application</a> which <a href="http://zasshi-slash.blogspot.com/">Tom Willemsen</a> contributed. (again: outsourcing FTW).  It is still fairly basic, but should already be useful enough.  It lists pretty much all features you can use with archiso/AIF based images and automatically updates the list of isos based on what it sees appearing online, so I think it will be a good indicator on what works and what doesn't, and that for each known set of isos.</p>
<p>So there. <b>Bleeding edge images for everyone</b>, and for those who want some quality assurance: <b>the more you contribute, the more likely you'll see official releases</b>.

<p>While contributing feedback is now certainly very easy, don't think that only providing feedback is sufficient, it takes time to maintain and improve aif and archiso as well and contributions in that department are still very welcome.
I don't think we'll get to the <a href="http://www.archlinux.org/news/200902-iso-release/">original plan</a> of official archiso releases for each stable kernel version, that seems like a lot of work despite all the above.</p>

<p>As for what is new: again too much to list, here is a <a href="http://releng.archlinux.org/isos/Changelog">changelog</a> but I stopped updating it at some point.  I guess the most visible interesting stuff is friendlier package dialogs (with package descriptions), support for nilfs, btrfs and syslinux (thanks <a href="http://pyther.net/">Matthew Gyurgyik</a>), and an issues reporting tool.
Under the hood we refactored quite a bit, mostly blockdevice related stuff, config generation and the "execution plan" (like, how each function calls each other and how failures are tracked) in AIF has been simplified considerably.</p>

<!-- I used to be pedantic about details like "all packages installed in the live environment must be available in the official core/extra repositories but i might become a bit less strict.  or maybe not, it's not hard to switch to official packages. -->

	</div>

	<footer class="entry-meta">
		<span class="tag-links">
			
                <a href="http://dieter.plaetinck.be/tags/linux" rel="tag">linux</a>
            
                <a href="http://dieter.plaetinck.be/tags/foss" rel="tag">foss</a>
            
                <a href="http://dieter.plaetinck.be/tags/arch" rel="tag">arch</a>
            
		</span>
		
		<style>
.honey {
display: none;
}
</style>

<form id="comments-form" class="comments__new" action="http://plaetinck.be:5888/comments">
    <input type="hidden" name="post" value="where_are_the_new_arch_linux_images">
    <input type="text" name="company" class="honey">
    <br/><input type="text" name="name" placeholder="Name" required/>
    <br/><input type="email" name="email" placeholder="Email address (will not be public)" required/>
    <br/><input type="url" name="url" placeholder="Website (optional)"/>
    <textarea rows="10" name="message" placeholder="Comment" required></textarea>
    <input type="submit" value="Send" />
</form>

<script type="text/template" id="template--new-comment">
	<article id="comment" class="comment">
		<img class="commentAvatar" src="https://www.gravatar.com/avatar/@hash?d=mm&s=80">
		<div class="commentRight">
			<p class="commentAuthor"><a href="@url" class="commentAuthor">@name</a></p>
			<time class="entry-date" datetime="2011-05-17T21:29:58-04:00">@date</time>
			<div class="commentMessage">@message</div>
		</div>
	</article>
</script>

<script language="javascript">
var monthNames = ["January", "February", "March", "April", "May", "June",
  "July", "August", "September", "October", "November", "December"
];

var addComment = function (data) {
     var template = document.getElementById('template--new-comment').innerHTML;
     var d = new Date(data.Ts);
     var date = d.getDate() + " " + monthNames[d.getMonth()] + ", " + d.getFullYear() + " at " + d.getHours() + ":" + d.getMinutes() + ":" + d.getSeconds();
     template = template.replace('@hash', data.Hash)
                        .replace('@date', date)
                        .replace('@name', data.Author)
                        .replace('@message', data.Message)
                        .replace('@url', data.Link)
     $(template).insertBefore('.comments__new');
};

var addComments = function(data) {
	$.each(data, function(i, c) {
		addComment(c);
	});
};

$( document ).ready(function() {
     $.ajax({
         method: "GET",
         url: "http:\/\/plaetinck.be:5888\/comments/where_are_the_new_arch_linux_images",
         success: addComments,
				 error: function(jqXHR, status, err) {
					 e = "<div><b>Could not load comments</b></br>" + status + " " + err +
						 "<br/>Disabling commenting feature.<br/>Pretty sure Dieter monitors his site using <a href='https://grafana.net/plugins/raintank-worldping-app'>WorldPing</a> but maybe this is a transient error.</div>";
					$(e).insertBefore('.comments__new');
					 $("#comments-form").hide();
				 }
     });
			$('#comments-form').submit(function (event) {
					var url = $(this).attr('action');
					var data = $(this).serialize();
					var formName = $(this).find('[name="name"]').val().trim();
					var formUrl = $(this).find('[name="url"]').val().trim();
					var formEmail = $(this).find('[name="email"]').val().trim();

					$.ajax({
							method: "POST",
							url: url,
							data: data,
							success: addComment,
							error: function(jqXHR, status, err) {
								alert("sorry: "+ status + " " + err +", would you be so kind to let me know about this error?")
							}
					});
					return false;
			});
});

</script>

		
	</footer>
</article> 


			
		
		</div>

	</div>
	<div id="secondary">

	

	<div id="primary-sidebar" class="primary-sidebar widget-area" role="complementary">

        

        

		<aside id="categories-3" class="widget widget_categories">


    
     


    <br/>
	<h1 class="widget-title">Popular tags</h1>

    <a href="http://dieter.plaetinck.be/tags/monitoring">monitoring</a>
    27
    <br/>
    <a href="http://dieter.plaetinck.be/tags/devops">devops</a>
    24
    <br/>
    <a href="http://dieter.plaetinck.be/tags/golang">golang</a>
    11
    <br/>
    <br/>
    <br/>

	<h1 class="widget-title">Other tags</h1>

    
        
            <a href="http://dieter.plaetinck.be/tags/arch">arch</a>
            19
            <br/>
        
    
        
            <a href="http://dieter.plaetinck.be/tags/bash">bash</a>
            15
            <br/>
        
    
        
            <a href="http://dieter.plaetinck.be/tags/cakephp">cakephp</a>
            8
            <br/>
        
    
        
            <a href="http://dieter.plaetinck.be/tags/conf">conf</a>
            9
            <br/>
        
    
        
            <a href="http://dieter.plaetinck.be/tags/dauth">dauth</a>
            1
            <br/>
        
    
        
        
    
        
            <a href="http://dieter.plaetinck.be/tags/drums">drums</a>
            1
            <br/>
        
    
        
            <a href="http://dieter.plaetinck.be/tags/drupal">drupal</a>
            5
            <br/>
        
    
        
            <a href="http://dieter.plaetinck.be/tags/foss">foss</a>
            45
            <br/>
        
    
        
            <a href="http://dieter.plaetinck.be/tags/git">git</a>
            4
            <br/>
        
    
        
        
    
        
            <a href="http://dieter.plaetinck.be/tags/information-age">information-age</a>
            3
            <br/>
        
    
        
            <a href="http://dieter.plaetinck.be/tags/life">life</a>
            33
            <br/>
        
    
        
            <a href="http://dieter.plaetinck.be/tags/linux">linux</a>
            20
            <br/>
        
    
        
            <a href="http://dieter.plaetinck.be/tags/lua">lua</a>
            1
            <br/>
        
    
        
            <a href="http://dieter.plaetinck.be/tags/mail">mail</a>
            1
            <br/>
        
    
        
        
    
        
            <a href="http://dieter.plaetinck.be/tags/music">music</a>
            5
            <br/>
        
    
        
            <a href="http://dieter.plaetinck.be/tags/mysql">mysql</a>
            3
            <br/>
        
    
        
            <a href="http://dieter.plaetinck.be/tags/n900">n900</a>
            2
            <br/>
        
    
        
            <a href="http://dieter.plaetinck.be/tags/netlog">netlog</a>
            6
            <br/>
        
    
        
            <a href="http://dieter.plaetinck.be/tags/openstack">openstack</a>
            1
            <br/>
        
    
        
            <a href="http://dieter.plaetinck.be/tags/perf">perf</a>
            10
            <br/>
        
    
        
            <a href="http://dieter.plaetinck.be/tags/photos">photos</a>
            3
            <br/>
        
    
        
            <a href="http://dieter.plaetinck.be/tags/php">php</a>
            11
            <br/>
        
    
        
            <a href="http://dieter.plaetinck.be/tags/productivity">productivity</a>
            6
            <br/>
        
    
        
            <a href="http://dieter.plaetinck.be/tags/programming">programming</a>
            1
            <br/>
        
    
        
            <a href="http://dieter.plaetinck.be/tags/python">python</a>
            5
            <br/>
        
    
        
            <a href="http://dieter.plaetinck.be/tags/real-life">real-life</a>
            2
            <br/>
        
    
        
            <a href="http://dieter.plaetinck.be/tags/thesis">thesis</a>
            3
            <br/>
        
    
        
            <a href="http://dieter.plaetinck.be/tags/travel">travel</a>
            2
            <br/>
        
    
        
            <a href="http://dieter.plaetinck.be/tags/uzbl">uzbl</a>
            6
            <br/>
        
    
        
            <a href="http://dieter.plaetinck.be/tags/vimeo">vimeo</a>
            3
            <br/>
        
    
        
            <a href="http://dieter.plaetinck.be/tags/web2.0">web2.0</a>
            9
            <br/>
        
    
</aside>


	</div>

</div>

</div>

		</div>

		<footer id="colophon" class="site-footer" role="contentinfo">

			<div class="site-info">
				<a href="http://gohugo.io">Proudly powered by Hugo</a>
			</div>
		</footer>
	</div>

	<script type='text/javascript' src='http://dieter.plaetinck.be/js/functions.js'></script>
</body>
</html>